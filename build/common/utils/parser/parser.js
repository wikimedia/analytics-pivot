"use strict";Object.defineProperty(exports,"__esModule",{value:true});var d3_dsv_1=require("d3-dsv");function parseCSV(r){return d3_dsv_1.csvParse(r)}exports.parseCSV=parseCSV;function parseTSV(r){return d3_dsv_1.tsvParse(r)}exports.parseTSV=parseTSV;function parseJSON(r){r=r.trim();var e=r[0];if(e[0]==="["){try{return JSON.parse(r)}catch(r){throw new Error("could not parse")}}else if(e[0]==="{"){return r.split(/\r?\n/).map(function(r,e){try{return JSON.parse(r)}catch(t){throw new Error("problem in line: "+e+": '"+r+"'")}})}else{throw new Error("Unsupported start, starts with '"+e[0]+"'")}}exports.parseJSON=parseJSON;function parseData(r,e){e=e.replace(".","");switch(e){case"csv":case"text/csv":return parseCSV(r);case"tsv":case"text/tsv":case"text/tab-separated-values":return parseTSV(r);case"json":case"application/json":return parseJSON(r);default:throw new Error("Unsupported file type '"+e+"'")}}exports.parseData=parseData;