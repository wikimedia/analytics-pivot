"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var immutable_class_1=require("immutable-class");var MeasureFilter=function(e){tslib_1.__extends(r,e);function r(r){if(r===void 0){r={}}return e.call(this,r)||this}r.fromJS=function(e){return new r(immutable_class_1.BaseImmutable.jsToValue(r.PROPERTIES,e))};r.getFilter=function(e){return e.expression};r.fromExpression=function(e){if(!e)return null;var t=false;if(!e){return new r({column:null,operator:null,value:""})}if(e.op==="not"){e=e.operand;t=true}var u;if(["is","isnt"].indexOf(e.op)>-1){u=t?"!=":"=="}return new r({column:e.operand.name,operator:u,value:e.expression.value})};r.prototype.isSimpleFilter=function(){return!!this.column&&!!this.operator};r.prototype.toString=function(){return"$"+this.column+" "+this.operator+" '"+(this.value||"")+"'"};return r}(immutable_class_1.BaseImmutable);MeasureFilter.OPERATORS=[{label:"is",value:"=="},{label:"is not",value:"!="}];MeasureFilter.PROPERTIES=[{name:"column",defaultValue:"count"},{name:"operator",defaultValue:MeasureFilter.OPERATORS[0].value,possibleValues:MeasureFilter.OPERATORS.map(function(e){return e.value})},{name:"value",defaultValue:""}];exports.MeasureFilter=MeasureFilter;immutable_class_1.BaseImmutable.finalize(MeasureFilter);