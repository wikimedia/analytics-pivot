"use strict";Object.defineProperty(exports,"__esModule",{value:true});var plywood_1=require("plywood");var dimension_1=require("../dimension/dimension");var measure_1=require("../measure/measure");var check;var SortOn=function(){function e(e){this.dimension=e.dimension;this.measure=e.measure;if(!(this.dimension||this.measure))throw new Error("must have a dimension or a measure")}e.isSortOn=function(n){return n instanceof e};e.equal=function(e,n){return e===n||e.equals(n)};e.getName=function(e){return e.toName()};e.getTitle=function(e){return e.getTitle()};e.fromDimension=function(n){return new e({dimension:n})};e.fromMeasure=function(n){return new e({measure:n})};e.fromSortAction=function(n,r,t){if(!n)return e.fromDimension(t);var i=n.expression.name;var o=r.getMeasure(i);if(o)return e.fromMeasure(o);return e.fromDimension(t)};e.fromJS=function(n){var r={};if(n.dimension){r.dimension=dimension_1.Dimension.fromJS(n.dimension)}else{r.measure=measure_1.Measure.fromJS(n.measure)}return new e(r)};e.prototype.valueOf=function(){return{dimension:this.dimension,measure:this.measure}};e.prototype.toJS=function(){var e={};if(this.dimension){e.dimension=this.dimension.toJS()}else{e.measure=this.measure.toJS()}return e};e.prototype.toJSON=function(){return this.toJS()};e.prototype.toString=function(){return"[SortOn: "+this.toName()+"]"};e.prototype.equals=function(n){return e.isSortOn(n)&&(this.dimension?this.dimension.equals(n.dimension):this.measure.equals(n.measure))};e.prototype.toName=function(){var e=this.measure;return e?e.name:this.dimension.name};e.prototype.getTitle=function(){var e=this.measure;return e?e.title:this.dimension.title};e.prototype.getExpression=function(){return plywood_1.$(this.toName())};return e}();exports.SortOn=SortOn;check=SortOn;