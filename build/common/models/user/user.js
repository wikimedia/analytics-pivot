"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var immutable_class_1=require("immutable-class");var strings_1=require("../strings");var DEFAULT_ADMIN_NAME="admin@admin.com";var DEFAULT_ADMIN_PROPERTIES={name:DEFAULT_ADMIN_NAME,email:"admin@admin.com",hashStrategy:"none",firstName:"Default",lastName:"Admin",permissionType:"admin",status:"ok"};var User=function(e){tslib_1.__extends(s,e);function s(){return e!==null&&e.apply(this,arguments)||this}s.isUser=function(e){return e instanceof s};s.modeNeedsUserButton=function(e){return e==="native-users"||e==="external-users"||e==="external-users-and-session"};s.modeNeedsUserTable=function(e){return e==="native-users"};s.fromJS=function(e){var t=e.id;if(t&&!e.name){e.name=t}if(e.status==="passwordReset")e.status=s.STATUS_OK;return new s(immutable_class_1.BaseImmutable.jsToValue(s.PROPERTIES,e))};s.fromName=function(e){return new s({name:e})};s.prototype.canAccessSettings=function(){return this.getPermissionType()==="admin"};s.prototype.getStatusDisplay=function(){var e=this.getStatus();switch(e){case s.STATUS_INVITATION_LINK:return strings_1.STRINGS.invitationLink;default:return strings_1.STRINGS.ok}};s.prototype.getDisplayName=function(){var e=this,s=e.firstName,t=e.lastName;if(s&&t)return s+" "+t;return s||t||"???"};s.prototype.equalsByName=function(e){if(!e)return false;return this.name===e.name};return s}(immutable_class_1.BaseImmutable);User.PERMISSION_TYPES=["user","admin"];User.STATUS_INVITATION_LINK="invitationLink";User.STATUS_NEEDS_TO_SET_PASS="needsToSetPass";User.STATUS_OK="ok";User.STATUSES=[User.STATUS_INVITATION_LINK,User.STATUS_OK,User.STATUS_NEEDS_TO_SET_PASS];User.PROPERTIES=[{name:"name"},{name:"email",defaultValue:null},{name:"firstName",defaultValue:null},{name:"lastName",defaultValue:null},{name:"permissionType",possibleValues:User.PERMISSION_TYPES,defaultValue:"user"},{name:"status",defaultValue:User.STATUS_OK,possibleValues:User.STATUSES}];exports.User=User;immutable_class_1.BaseImmutable.finalize(User);User.DEFAULT_ADMIN=new User(DEFAULT_ADMIN_PROPERTIES);User.DEFAULT_ADMIN_NAME=User.DEFAULT_ADMIN.name;