"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var chronoshift_1=require("chronoshift");var immutable_class_1=require("immutable-class");var owasp=require("owasp-password-strength-test");var external_view_1=require("../external-view/external-view");var Customization=function(e){tslib_1.__extends(t,e);function t(t){return e.call(this,t)||this}t.isCustomization=function(e){return e instanceof t};t.fromJS=function(e){return new t(immutable_class_1.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.getTitleWithVersion=function(e){return this.getTitle().replace(/%v/g,e)};t.prototype.getIssueWithPass=function(e){var i=Object.assign({},t.DEFAULT_PASS_RULE_OPTIONS,this.getPassRuleOptions());owasp.config(i);var n=owasp.test(e);if(n.requiredTestErrors.length){return n.requiredTestErrors[0]}return null};t.prototype.getHeaderStyle=function(){var e=this.headerBackground;return e?{background:e}:null};return t}(immutable_class_1.BaseImmutable);Customization.SETTINGS_MODE_NORMAL="normal";Customization.SETTINGS_MODE_SUPPRESSED="suppressed";Customization.DEFAULT_TITLE="Pivot (%v)";Customization.DEFAULT_TIMEZONES=[new chronoshift_1.Timezone("America/Juneau"),new chronoshift_1.Timezone("America/Los_Angeles"),new chronoshift_1.Timezone("America/Yellowknife"),new chronoshift_1.Timezone("America/Phoenix"),new chronoshift_1.Timezone("America/Denver"),new chronoshift_1.Timezone("America/Mexico_City"),new chronoshift_1.Timezone("America/Chicago"),new chronoshift_1.Timezone("America/New_York"),new chronoshift_1.Timezone("America/Argentina/Buenos_Aires"),chronoshift_1.Timezone.UTC,new chronoshift_1.Timezone("Asia/Jerusalem"),new chronoshift_1.Timezone("Europe/Paris"),new chronoshift_1.Timezone("Asia/Kathmandu"),new chronoshift_1.Timezone("Asia/Hong_Kong"),new chronoshift_1.Timezone("Asia/Seoul"),new chronoshift_1.Timezone("Pacific/Guam")];Customization.DEFAULT_LOGOUT_HREF="logout";Customization.DEFAULT_PASS_RULE_OPTIONS={allowPassphrases:true,maxLength:128,minLength:8,minPhraseLength:20,minOptionalTestsToPass:4};Customization.PROPERTIES=[{name:"title",defaultValue:Customization.DEFAULT_TITLE},{name:"headerBackground",defaultValue:null},{name:"customLogoSvg",defaultValue:null},{name:"externalViews",defaultValue:[],immutableClassArray:external_view_1.ExternalView},{name:"timezones",defaultValue:Customization.DEFAULT_TIMEZONES,immutableClassArray:chronoshift_1.Timezone},{name:"logoutHref",defaultValue:Customization.DEFAULT_LOGOUT_HREF},{name:"launcherHref",defaultValue:null},{name:"singleClusterMode",defaultValue:false},{name:"passRuleOptions",defaultValue:Customization.DEFAULT_PASS_RULE_OPTIONS,equal:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{name:"settingsMode",defaultValue:Customization.SETTINGS_MODE_NORMAL}];exports.Customization=Customization;immutable_class_1.BaseImmutable.finalize(Customization);