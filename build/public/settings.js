webpackJsonp([2],[,,,,,,,,,,function(e,t,i){"use strict";function n(e){for(var i in e)if(!t.hasOwnProperty(i))t[i]=e[i]}Object.defineProperty(t,"__esModule",{value:true});n(i(98));n(i(42));n(i(65));n(i(29));n(i(31));n(i(30));n(i(27));n(i(104));n(i(22));n(i(17));n(i(57));n(i(37));n(i(26));n(i(107));n(i(39));n(i(21));n(i(61));n(i(58));n(i(63));n(i(62));n(i(60));n(i(59));n(i(105));n(i(40));n(i(54));n(i(38));n(i(43));n(i(67));n(i(96));n(i(55));n(i(56));n(i(103));n(i(41));n(i(94));n(i(106));n(i(64));n(i(78))},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.STRINGS={add:"Add",addAttributes:"Add attributes",addFromCube:"Add from Cube",addNewUser:"Add new user",addToAlbum:"Add to album",addToDashboard:"Add to dashboard",addToNewAlbum:"Add to new album",addToNewDashboard:"Add to new dashboard",alsoUseAsUserId:"Also use as user ID",any:"any",attribute:"Attribute",attributes:"attributes",autoFillDimensionsAndMeasures:"Auto-fill dimensions and measures",autoUpdate:"Auto update",cancel:"Cancel",close:"Close",clusters:"Clusters",collections:"Collections",configureCluster:"configure cluster",configureDataCube:"configure data cube",connectCluster:"Connect new cluster",connectNewCluster:"Connect new cluster",contains:"Contains",saveAsFixedTimeRange:"Save as fixed time range",copySpecificUrl:"Copy URL - fixed time",copyLink:"Copy Link",copyUrl:"Copy URL",copyValue:"Copy value",createColumn:"New column",createDataCube:"Create new data cube",createDataCubesFromCluster:"Create data cubes from cluster?",current:"Current",create:"Create",createDimension:"New dimension",createMeasure:"New measure",cubes:"cubes",custom:"Custom",day:"Day",days:"Days",dataCubes:"Data cubes",dataSources:"data sources",delete:"Delete",deleteCollection:"Delete this collection",deleteCollectionTile:"Delete this tile",dimensions:"Dimensions",dimension:"Dimension",dontSave:"Don't save",download:"Download",dragToReorder:"Drag tiles to reorder",duplicate:"Duplicate",duplicateDataCube:"Duplicate this data cube",duplicateCollectionTile:"Duplicate this tile",edit:"Edit",editColumn:"Edit column",editCluster:"Edit cluster",editDataCube:"Edit data cube",editDimension:"Edit dimension",editMeasure:"Edit measure",editThisCube:"Edit this cube",editTitleAndDesc:"Edit title and description",editUser:"Edit User",editVisualization:"Edit visualization",end:"End",exclude:"Exclude",explore:"Explore",export:"Export",exportToCSV:"Export to CSV",filter:"Filter",filters:"Filters",generalSettings:"General settings",goToUrl:"Go to URL",granularity:"Granularity",hour:"Hour",hours:"Hours",imply:"Imply",include:"Include",infoAndFeedback:"Info & Feedback",instead:"instead",intersection:"Intersection",invitationLink:"Invitation Link",invite:"Invite",last5Minutes:"Last 5 minutes",lastDay:"Last Day",lastHour:"Last Hour",lastWeek:"Last Week",latest:"Latest",limit:"Limit",loadingSettings:"Loading settings...",loginToPivot:"Login to Pivot",loggingIn:"Logging in...",logout:"Logout",measures:"Measures",measure:"Measure",specialColumns:"Special columns",metrics:"Metrics",month:"Month",newAlbum:"New album",newDashboard:"New dashboard",newDataCube:"New data cube",next:"Next",no:"No",noCollections:"You don't have any collections.",none:"None",noIllCreateThem:"No, I'll create them myself",noClusters:"There are no clusters connected",noDataCubes:"There are no data cubes",noDescription:"No description",noFilter:"No filter",noTilesInThisAlbum:"There are no tiles in this album",noTilesInThisDashboard:"There are no tiles in this dashboard",ok:"OK",orAddASpecificAttribute:"Or add a specific attribute",orViewSuggestedAttributes:"Or view suggested attributes",orConnectToACluster:"Or connect to a cluster",orReadFromAFile:"Or read from a file",orSelectAKnownColumn:"Or select a known column",orTypeInACustomName:"Or type in a custom name",openIn:"Open in",pin:"Pin",pivot:"Pivot",passwordReset:"Password Reset",pinboard:"Pinboard",pinboardPlaceholder:"Click or drag dimensions to pin them",previous:"Previous",quarter:"Quarter",queryError:"Query error",quicklyAddSomeUsing:"Quickly add some using",reset:"Reset",rawData:"Raw Data",regex:"Regex",removeAttribute:"Remove attribute",relative:"Relative",save:"Save",saveChanges:"Save changes",segment:"segment",select:"Select",settings:"Settings",sortBy:"Sort by",specific:"Specific",split:"Split",splitDelimiter:"by",start:"Start",stayHere:"Stay here",stringSearch:"String search",subsplit:"Split",subsetFilter:"Subset Filter",suggestion:"suggestion",suggestions:"suggestions",timezone:"Timezone",try:"Try",thereAreNoSuggestionsAtTheMoment:"There are no suggestions at the moment",undo:"Click here to undo",unsavedChangesTitle:"You have unsaved changes",unsavedChangesMessage:"You have unsaved changes. Would you like to save them?",unsplitable:"Un-splittable",updateTimezone:"Update Timezone",users:"Users",viewRawData:"View raw data",week:"Week",wouldYouLikeToCreateCubes:"Would you like to create data cubes from them?",year:"Year",yes:"Yes"}},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(16);var r=i(2);var a=i(6);var o=i(40);var l=i(22);var s=i(42);function u(e,t,i){return e.filter(function(e,n){return n===i||!e.sameOnDimension(t)})}function d(e,t,i,n){return e.map(function(e,r){return r===n||!e.sameOnDimension(t)?e:i})}var c;var p=function(){function e(e){this.splitCombines=e}e.isSplits=function(t){return t instanceof e};e.fromSplitCombine=function(t){return new e([t])};e.fromJS=function(t,i){if(!Array.isArray(t))t=[t];return new e(t.map(function(e){return l.SplitCombine.fromJS(e,i)}))};e.prototype.valueOf=function(){return this.splitCombines};e.prototype.toJS=function(){return this.splitCombines.map(function(e){return e.toJS()})};e.prototype.toJSON=function(){return this.toJS()};e.prototype.toString=function(){return this.splitCombines.map(function(e){return e.toString()}).join(",")};e.prototype.equals=function(t){return e.isSplits(t)&&r.immutableArraysEqual(this.splitCombines,t.splitCombines)};e.prototype.replaceByIndex=function(t,i){var n=this.splitCombines;if(n.length===t)return this.insertByIndex(t,i);var r=n[t];n=n.map(function(e,n){return n===t?i:e});n=d(n,i,r,t);return new e(n)};e.prototype.insertByIndex=function(t,i){var n=this.splitCombines;n=r.SimpleArray.insertIndex(n,t,i);n=u(n,i,t);return new e(n)};e.prototype.addSplit=function(e){var t=this.splitCombines;return this.insertByIndex(t.length,e)};e.prototype.removeSplit=function(t){return new e(this.splitCombines.filter(function(e){return e.dimension!==t.dimension}))};e.prototype.changeSortAction=function(t){return new e(this.splitCombines.map(function(e){return e.changeSortAction(t)}))};e.prototype.changeSortActionFromNormalized=function(t){return new e(this.splitCombines.map(function(e){return e.changeSortActionFromNormalized(t)}))};e.prototype.getTitle=function(e){return this.splitCombines.map(function(t){return t.getDimension(e).title}).join(", ")};e.prototype.getSplitDimensions=function(e){return this.splitCombines.map(function(t){return t.getDimension(e)})};e.prototype.length=function(){return this.splitCombines.length};e.prototype.forEach=function(e,t){this.splitCombines.forEach(e,t)};e.prototype.get=function(e){return this.splitCombines[e]};e.prototype.first=function(){return this.splitCombines[0]};e.prototype.last=function(){return this.splitCombines[this.splitCombines.length-1]};e.prototype.contains=function(e){return r.SimpleArray.contains(this.splitCombines,function(t){return t.equals(e)})};e.prototype.findSplitForDimension=function(e){return this.splitCombines.find(function(t){return t.dimension===e})};e.prototype.hasSplitOn=function(e){return Boolean(this.findSplitForDimension(e))};e.prototype.replace=function(t,i){var n=t.dimension;return new e(this.splitCombines.map(function(e){return e.dimension===n?i:e}))};e.prototype.map=function(t,i){return new e(this.splitCombines.map(t,i))};e.prototype.toArray=function(){return this.splitCombines};e.prototype.isSubsetOf=function(e){if(!e)return false;return e.length()>this.length()&&this.splitCombines.every(function(t){return e.contains(t)})};e.prototype.initializeGivenFilter=function(t,i,a){var o=t.getSpecificFilter(s.Timekeeper.globalNow(),s.Timekeeper.globalNow(),n.Timezone.UTC);return new e(this.splitCombines.map(function(e){var t=r.NamedArray.findByName(i,e.dimension);return!e.isBucketed()||!e.sortAction?l.SplitCombine.fromDimensionAndFilterAndMeasure(t,o,a):e}))};e.prototype.recalculateBucketsWithFilterChange=function(t,i,n){var a=false;var o=this.splitCombines.map(function(e){if(!e.isBucketed())return e;var o=r.NamedArray.findByName(n,e.dimension);if(!o)return e;if(!t.differentForDimension(i,o.name))return e;var s=l.SplitCombine.calculateBucketGivenFilter(i,o);var u=e.changeBucketAction(s);if(!u.equals(e))a=true;return u});return a?new e(o):this};e.prototype.constrainToDimensionsAndMeasures=function(t,i){function n(e){if(!e.getDimension(t))return false;var n=e.sortAction.refName();if(!r.NamedArray.findByName(t,n)&&!r.NamedArray.findByName(i,n))return false;return true}var a=false;var o=[];this.splitCombines.forEach(function(e){if(n(e)){o.push(e)}else{a=true}});return a?new e(o):this};e.prototype.timezoneDependant=function(){return this.splitCombines.some(function(e){return e.timezoneDependant()})};e.prototype.changeSortIfOnMeasure=function(t,i){var n=false;var r=this.splitCombines.map(function(e){var r=e.sortAction;if(!r||r.refName()!==t)return e;n=true;return e.changeSortAction(a.Expression._.sort(a.$(i),r.direction))});return n?new e(r):this};e.prototype.getCommonSort=function(){var e=this.splitCombines;var t=null;for(var i=0,n=e;i<n.length;i++){var r=n[i];var a=r.getNormalizedSortAction();if(t){if(!t.equals(a))return null}else{t=a}}return t};e.prototype.getStrategyForSplitChange=function(e){var t=this.splitCombines;var i=e.splitCombines;var n=function(e){var n=t[e];if(i.find(function(e){return e.sameOnDimension(n)}))return{value:o.VisStrategy.UnfairGame}};for(var r=0;r<t.length;r++){var a=n(r);if(typeof a==="object")return a.value}return o.VisStrategy.FairGame};e.prototype.sameOnDimensions=function(e){var t=this.splitCombines;var i=e.splitCombines;if(t.length!==i.length)return false;for(var n=0;n<t.length;n++){var r=t[n];var a=i[n];if(!a)return false;if(!a.sameOnDimension(r))return false}return true};e.prototype.isBucketedFollowedByUnbucketed=function(){return this.length()===2&&this.first().isBucketed()&&!this.get(1).isBucketed()};return e}();t.Splits=p;c=p;p.EMPTY=new p([])},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(17);var r=function(){function e(e,t){this.score=e;if(t)this.cantHandleCombine=t}return e}();r.MAX=new r(10);t.Suitability=r;var a=function(){function e(){}e.fromTitleAndSplits=function(e,t){return{description:e,adjustment:{splits:t}}};e.fromTitleAndSplit=function(t,i){return e.fromTitleAndSplits(t,n.Splits.fromSplitCombine(i))};return e}();t.SplitSuggestion=a;var o=function(){function e(e,t,i){if(i===void 0){i=null}this.state=e;this.message=t;this.resolutions=i}e.rejectDimensions=function(t,i){return new e(e.CANT_HANDLE_DIMENSION,t,i)};e.rejectCombines=function(t,i){return new e(e.CANT_HANDLE_COMBINE,t,i)};e.proceedWithDimensions=function(){return new e(e.PROCEED_WITH_DIMENSIONS)};e.prototype.toString=function(){return""+this.state};e.prototype.valueOf=function(){return this.state};e.prototype.proceedWithDimensions=function(){return this.state===e.PROCEED_WITH_DIMENSIONS};e.prototype.rejectedDimensions=function(){return this.state===e.CANT_HANDLE_DIMENSION};e.prototype.rejectedCombines=function(){return this.state===e.CANT_HANDLE_COMBINE};return e}();o.CANT_HANDLE_DIMENSION=-2;o.PROCEED_WITH_DIMENSIONS=0;o.CANT_HANDLE_COMBINE=-1;t.Resolve=o;var l=function(){function e(){}e.isTotals=function(e){return e.name==="totals"};e.prototype.summon=function(e,t,i,n,r){return null};e.prototype.getEffectiveSplits=function(e){return e};e.prototype.getEffectiveColors=function(e,t){return null};return e}();t.Manifest=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(16);var a=i(2);var o=i(6);var l=i(41);var s=i(42);var u=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;i.dimension=t.dimension;if(!i.dimension)throw new Error("must have dimension name");if(!i.sortAction)throw new Error("must have sort action");return i}t.isSplitCombine=function(e){return e instanceof t};t.fromDimensionAndFilterAndMeasure=function(e,i,n){return new t({dimension:e.name,bucketAction:e.canAutoBucket()?t.calculateBucketGivenFilter(i,e):null,sortAction:t.calculateSortOn(e,n),limitAction:null})};t.fromJS=function(e,i){if(!i)throw new Error("must have context for split");if(typeof e==="string"){var n=a.NamedArray.findByName(i.dimensions,e);if(!n)throw new Error("can not find dimension "+e);return new t({dimension:n.name,bucketAction:null,sortAction:t.calculateSortOn(n,i.measure),limitAction:null})}var r=a.BaseImmutable.jsToValue(t.PROPERTIES,e);if(!e.dimension&&e.expression){var l=o.Expression.fromJS(e.expression);if(!l)throw new Error("Must have dimension or expression for split");if(l instanceof o.RefExpression){var s=a.NamedArray.findByName(i.dimensions,l.name);if(!s)throw new Error("Could not find dimension for "+JSON.stringify(e));e.dimension=s.name}else{throw new Error("can not figure out complex split: "+l)}}var u=e.dimension;r.dimension=u;if(e.bucketAction)r.bucketAction=o.Expression.fromJS(e.bucketAction);r.sortAction=e.sortAction?o.SortExpression.fromJS(e.sortAction):t.calculateSortOn(a.NamedArray.findByName(i.dimensions,u),i.measure);if(e.limitAction)r.limitAction=o.LimitExpression.fromJS(e.limitAction);return new t(r)};t.calculateBucketGivenFilter=function(e,t){var i=e.getSpecificFilter(s.Timekeeper.globalNow(),s.Timekeeper.globalNow(),r.Timezone.UTC);if(!t||!t.isBucketable())return null;var n=t.bucketedBy,a=t.granularities;var o=t.getKind();var u=i.getLiteralSet(t.name);var d=u?u.extent():null;if(d){return l.getBestGranularityForRange(d,false,n,a)}else{return l.getDefaultGranularityForKind(o,n,a)}};t.calculateSortOn=function(e,t){if(e.isContinuous()){return o.Expression._.sort(o.$(e.name),o.SortExpression.ASCENDING)}else if(e.getKind()==="boolean"){return o.Expression._.sort(o.$(e.name),o.SortExpression.DESCENDING)}else{return o.Expression._.sort(o.$(t),o.SortExpression.DESCENDING)}};t.prototype.sameOnDimension=function(e){var i=this.dimension;return t.isSplitCombine(e)&&i===e.dimension};t.prototype.isSortOnSelfAscending=function(){var e=this.sortAction;return this.isSortOnSelf()&&e.direction===o.SortExpression.ASCENDING};t.prototype.toSplitExpression=function(e){var t=this,i=t.dimension,n=t.bucketAction;var r=a.NamedArray.findByName(e,i);if(!r)throw new Error("split on unknown dimension '"+i+"'");var o=r.expression;return n?o.performAction(n):o};t.prototype.toKey=function(){return this.dimension};t.prototype.isSortOnSelf=function(){var e=this,t=e.dimension,i=e.sortAction;return i.refName()===t};t.prototype.getNormalizedSortAction=function(){var e=this.sortAction;if(this.isSortOnSelf()){return e.changeExpression(o.$(t.SORT_ON_DIMENSION_PLACEHOLDER))}return e};t.prototype.changeSortActionFromNormalized=function(e){if(e.refName()===t.SORT_ON_DIMENSION_PLACEHOLDER){var i=this.dimension;e=e.changeExpression(o.$(i))}return this.changeSortAction(e)};t.prototype.changeLimit=function(e){var t=e===null?null:o.Expression._.limit(e);return this.changeLimitAction(t)};t.prototype.timezoneDependant=function(){var e=this.bucketAction;if(!e)return false;return e.needsEnvironment()};t.prototype.getDimension=function(e){return a.NamedArray.findByName(e,this.dimension)};t.prototype.getTitle=function(e){var t=this.getDimension(e);return(t?t.title:"?")+this.getBucketTitle()};t.prototype.getBucketTitle=function(){var e=this.bucketAction;if(e instanceof o.TimeBucketExpression){return" ("+e.duration.getDescription(true)+")"}else if(e instanceof o.NumberBucketExpression){return" (by "+e.size+")"}return""};t.prototype.isBucketed=function(){return this.bucketAction!=null};t.prototype.isBucketable=function(e){return this.getDimension(e).isBucketable()};t.prototype.addBucketGivenFilter=function(e,i){var n=this.getDimension(i);var r=t.calculateBucketGivenFilter(e,n);return this.changeBucketAction(r)};return t}(a.BaseImmutable);u.SORT_ON_DIMENSION_PLACEHOLDER="__PIVOT_SORT_ON_DIMENSIONS__";u.EFFECTIVE_NO_LIMIT=o.Expression._.limit(1e4);u.PROPERTIES=[{name:"dimension"},{name:"sortAction",immutableClass:o.SortExpression},{name:"bucketAction",immutableClass:o.Expression,defaultValue:null},{name:"limitAction",immutableClass:o.LimitExpression,defaultValue:null}];t.SplitCombine=u;a.BaseImmutable.finalize(u)},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(16);var o=i(23);var l=i(2);var s=i(6);var u=i(29);var d=i(30);var c=i(27);var p=i(31);var f=i(65);var m=i(17);var g="maxTime";function h(e){e=Math.round(Math.abs(e)/1e3);if(e<60)return"less than 1 minute";e=Math.floor(e/60);if(e===1)return"1 minute";if(e<60)return e+" minutes";e=Math.floor(e/60);if(e===1)return"1 hour";if(e<=24)return e+" hours";e=Math.floor(e/24);return e+" days"}function v(e,t,i){var n={};var r={};if(e){e.forEach(function(e){var t=e.name.toLowerCase();if(n[t]){throw new Error("duplicate dimension name '"+e.name+"' found in data cube: '"+i+"'")}n[t]=e})}if(t){t.forEach(function(e){var t=e.name.toLowerCase();if(r[t]){throw new Error("duplicate measure name '"+e.name+"' found in data cube: '"+i+"'")}if(n[t]){throw new Error("name '"+e.name+"' found in both dimensions and measures in data cube: '"+i+"'")}r[t]=e})}}var b={__time:true,approximateHistogram:true,hyperUnique:true,thetaSketch:true};function y(e){var t=e.metricColumn,i=e.measures,n=e.possibleAggregates;var a={};for(var l in n){if(!o(n,l))continue;a[l]=s.Expression.fromJSLoose(n[l])}return i.map(function(e){if(o(e,"name")){return p.Measure.fromJS(e)}var i=e.title;if(!i){throw new Error("must have title in longForm value")}var n=e.value;var l=e.aggregate;if(!l){throw new Error("must have aggregates in longForm value")}var u=a[l];if(!u)throw new Error("can not find aggregate "+l+" for value "+n);var d=r.StringUtils.makeUrlSafeName(l+"_"+n);return new p.Measure({name:d,title:i,units:e.units,formula:u.substitute(function(e){if(e instanceof s.RefExpression&&e.name==="filtered"){return s.$("main").filter(s.$(t).is(s.r(n)))}return null}).toString()})})}function x(e){var t=e.metricColumn,i=e.measures;var n=[];for(var r=0,a=i;r<a.length;r++){var l=a[r];if(o(l,"aggregate"))n.push(l.value)}return s.$(t).in(n).simplify()}var S=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;var n=i,r=n.name,a=n.dimensions,o=n.measures;if(typeof r!=="string")throw new Error("Data cube must have a name");if(!i.source)i.source=r;i.subsetExpression=t.subsetFormula?s.Expression.fromJSLoose(t.subsetFormula):s.Expression.TRUE;v(a,o,r);i._validateDefaults();return i}t.isDataCube=function(e){return e instanceof t};t.getPossibleTimeDimension=function(e){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.expression.equals(s.$("__time")))return r.name}for(var a=0,o=e;a<o.length;a++){var r=o[a];if(r.type==="TIME")return r.name}return t.NO_SPECIAL_TIME_DIMENSION};t.processMaxTimeQuery=function(e){var t=new Date(e.data[0][g]);if(isNaN(t))return null;return t};t.putSpecialTimeOnTop=function(e){var t=l.NamedArray.findByName(e,"__time");if(!t)return e;return[t].concat(e.filter(function(e){return e.name!=="__time"}))};t.suggestDimensions=function(e){return t.putSpecialTimeOnTop(e).map(function(e){if(e.name==="count"||e.unsplitable)return null;var t=e.name,i=e.type;return new u.Dimension({name:r.StringUtils.makeUrlSafeName(t),type:i||"STRING",formula:s.$(t).toString()})}).filter(Boolean)};t.suggestMeasures=function(e){var t=[];var i=false;for(var n=0,r=e;n<r.length;n++){var a=r[n];var o=p.Measure.measuresFromAttribute(a);o.forEach(function(e){if(e.name==="count"||e.name==="sum_count"){i=true;t.unshift(e)}else{t.push(e)}})}if(!i){t.unshift(new p.Measure({name:"count",title:"Count",formula:"$main.count()"}))}return t};t.fromClusterAndSource=function(e,i,n){return t.fromJS({name:e,title:r.StringUtils.makeTitle(n),clusterName:i.name,source:n})};t.fromJS=function(e){var i=e.clusterName||e.engine;var n=e.introspection;var r=e.defaultSplits;var o=e.options;if(o){if(o.skipIntrospection){if(!n)n="none";delete o.skipIntrospection}if(o.disableAutofill){if(!n)n="no-autofill";delete o.disableAutofill}if(o.defaultSplitDimension){o.defaultSplits=o.defaultSplitDimension;delete o.defaultSplitDimension}if(o.defaultSplits){if(!r)r=o.defaultSplits;delete o.defaultSplits}}var l=e.dimensions||[];var d=l.filter(function(e){return e.unsplitable}).map(function(e){var t={name:e.name,type:"NUMBER",maker:e.maker,unsplitable:true};if(e.special){t.special=e.special;t.type="NULL"}return s.AttributeInfo.fromJS(t)});var g=l.filter(function(e){return!e.unsplitable}).map(function(e){return u.Dimension.fromJS(e)});var h=(e.measures||[]).map(function(e){return p.Measure.fromJS(e)});var v=e.attributes||d;v.forEach(function(e){if(e.type==="STRING"&&e.unsplitable&&!e.nativeType){e.type=e.special?"NULL":"NUMBER"}});var b=s.AttributeInfo.fromJSs(v);var S=e.attributeOverrides||(e.options||{}).attributeOverrides;if(S){b=s.AttributeInfo.override(b,s.AttributeInfo.fromJSs(S));if((e.options||{}).attributeOverrides){delete e.options["attributeOverrides"]}}var w=e.specialTimeDimension||e.specialTimeAttribute||e.realTimeAttribute||e.primaryTimeAttribute;if(!w&&e.timeAttribute&&e.timeAttribute!=="__time"){w=e.timeAttribute;if(!o)o={};o.druidTimeAttributeName=w}if(!w){var E=g[0];if(E&&E.name==="__time"&&E.type!=="TIME"){g[0]=E.changeType("TIME")}w=t.getPossibleTimeDimension(g)}if(n&&t.INTROSPECTION_VALUES.indexOf(n)===-1){throw new Error("invalid introspection value "+n+", must be one of "+t.INTROSPECTION_VALUES.join(", "))}var C=e.refreshRule?f.RefreshRule.fromJS(e.refreshRule):null;var T=e.subsetFormula||e.subsetFilter;var M=e.longForm;if(M){h=h.concat(y(M));if(M.addSubsetFilter){var N=T?s.Expression.fromJSLoose(e.subsetFormula):s.Expression.TRUE;T=JSON.stringify(N.and(x(M)).simplify())}}var k={dimensions:g,measure:e.defaultSortMeasure||(h&&h.length?h[0].name:null)};var D={name:e.name,title:e.title,description:e.description,clusterName:i,source:e.source,group:e.group,subsetFormula:T,rollup:e.rollup,options:o,introspection:n,attributes:b,dimensions:g,measures:h,specialTimeDimension:w,defaultTimezone:e.defaultTimezone?a.Timezone.fromJS(e.defaultTimezone):null,defaultFilter:e.defaultFilter?c.Filter.fromJS(e.defaultFilter):null,defaultSplits:r?m.Splits.fromJS(r,k):null,defaultDuration:e.defaultDuration?a.Duration.fromJS(e.defaultDuration):null,defaultSortMeasure:e.defaultSortMeasure,defaultSelectedMeasures:e.defaultSelectedMeasures,defaultPinnedDimensions:e.defaultPinnedDimensions,refreshRule:C};return new t(D)};t.prototype._validateDefaults=function(){var e=this,t=e.measures,i=e.defaultSortMeasure;if(i){if(!l.NamedArray.findByName(t,i)){throw new Error("can not find defaultSortMeasure '"+i+"' in data cube '"+this.name+"'")}}};t.prototype.toExternal=function(e,t){if(this.clusterName==="native")throw new Error("there is no external on a native data cube");var i=this.options;if(!i)i={};var n=this.getEffectiveAttributesAndDerivedAttributes();var r={engine:e.type,suppress:true,source:this.source,version:e.version,customAggregations:i.customAggregations,customTransforms:i.customTransforms,attributes:n.attributes,derivedAttributes:n.derivedAttributes,filter:this.subsetExpression};if(t){r.requester=t}if(e.type==="druid"){r.rollup=this.rollup;r.introspectionStrategy=e.getIntrospectionStrategy();r.allowSelectQueries=true;r.allowEternity=!this.getSpecialTimeDimension();if(i.druidTimeAttributeName){r.timeAttribute=i.druidTimeAttributeName}var a=i.druidContext||{};a["timeout"]=e.getTimeout();if(i.priority)a["priority"]=i.priority;r.context=a}return s.External.fromValue(r)};t.prototype.getMainTypeContext=function(){var e=this.dimensions;if(!e)return null;var t={};for(var i=0,n=e;i<n.length;i++){var r=n[i];t[r.name]={type:r.type}}return{type:"DATASET",datasetType:t}};t.prototype.getMeasureTypeContext=function(){return{type:"DATASET",datasetType:{main:this.getMainTypeContext()}}};t.prototype.validateFilterFormula=function(e){var t=s.Expression.parse(e);if(t instanceof s.LiteralExpression){if(t.type==="BOOLEAN")return true;throw new Error("must be a boolean")}return true};t.prototype.validateMeasureFormula=function(e){var t=s.Expression.parse(e);if(t.getFreeReferences().indexOf("main")===-1){throw new Error("Measure formula must contain a $main reference")}return true};t.prototype.getClusterType=function(e){var t=this.clusterName;if(t==="native")return"native";var i=l.NamedArray.findByName(e,t);if(!i)throw new Error("can not find cluster '"+t+"'");return i.type};t.prototype.getMaxTimeQuery=function(){var e=this.getRefreshRule();if(!e.isQuery())return null;var t=this.getSpecialTimeDimension();if(!t)return null;return s.ply().apply(g,s.$("main").max(t.expression))};t.prototype.getMaxTime=function(e){var t=this.name;var i=this.getRefreshRule();if(i.isRealtime()){return e.now()}else if(i.isFixed()){return i.time}else{return e.getTime(t)}};t.prototype.updatedText=function(e,t){var i=this.getRefreshRule();if(i.isRealtime()){return"Updated ~1 second ago"}else if(i.isFixed()){return"Fixed to "+r.DateUtils.getWallTimeString(i.time,t,true)}else{var n=this.getMaxTime(e);if(n){return"Updated "+h(e.now().valueOf()-n.valueOf().valueOf())+" ago"}else{return null}}};t.prototype.getSuggestedDimensions=function(e){return this.filterDimensions(t.suggestDimensions(e))};t.prototype.getSpecialTimeDimension=function(){var e=this.specialTimeDimension;if(e===t.NO_SPECIAL_TIME_DIMENSION)return null;var i=l.NamedArray.findByName(this.dimensions,e);if(!i||i.type!=="TIME")return null;return i};t.prototype.isSpecialTimeDimension=function(e){var t=this.getSpecialTimeDimension();if(!e||!t)return false;return t.name===e};t.prototype.isMandatoryFilter=function(e){return this.isSpecialTimeDimension(e)};t.prototype.getMeasures=function(){if(this.measures.length)return this.measures;return[p.Measure.SIMPLE_COUNT]};t.prototype.getMeasure=function(e){return p.Measure.getMeasure(this.getMeasures(),e)};t.prototype.getMeasureByExpression=function(e){return l.SimpleArray.find(this.getMeasures(),function(t){return t.expression.equals(e)})};t.prototype.getDimensionForDimension=function(e){return this.dimensions.filter(function(t){return t.usesAttribute(e)})};t.prototype.getMeasuresForDimension=function(e){return this.getMeasures().filter(function(t){return t.usesAttribute(e)})};t.prototype.getSuggestedMeasures=function(e){return this.filterMeasures(t.suggestMeasures(e))};t.prototype.filterMeasures=function(e){var t=this;return e.filter(function(e){if(l.NamedArray.findByName(t.measures,e.name))return false;if(l.NamedArray.findByName(t.dimensions,e.name))return false;var i=e.expression;if(l.SimpleArray.find(t.measures,function(e){return e.expression.equals(i)}))return false;return true})};t.prototype.removeDimension=function(e){var i=this.valueOf();i.dimensions=l.NamedArray.deleteByName(i.dimensions,e);i.measures=i.measures.filter(function(t){return!t.usesAttribute(e)});return new t(i)};t.prototype.removeMeasure=function(e){var t=this.measures.indexOf(e);if(t===-1){throw new Error("Unknown measure: "+e.toString())}var i=l.SimpleArray.deleteIndex(this.measures,t);return this.changeMeasures(i)};t.prototype.filterDimensions=function(e){var t=this,i=t.dimensions,n=t.measures;return e.filter(function(e){if(l.NamedArray.findByName(i,e.name))return false;if(l.NamedArray.findByName(n,e.name))return false;return true})};t.prototype.getEffectiveAttributes=function(){return this.getEffectiveAttributesAndDerivedAttributes().attributes};t.prototype.getEffectiveAttributesAndDerivedAttributes=function(){var e=this.attributes.slice();var t={};var i={};e.forEach(function(e){return t[e.name]=true});function n(i){if(t[i.name])return;e.push(i);t[i.name]=true}this.dimensions.forEach(function(e){e.expression.forEach(function(e){if(e instanceof s.RefExpression){n(s.AttributeInfo.fromJS({name:e.name,type:e.type||"NULL"}))}})});this.measures.forEach(function(e){e.expression.forEach(function(e){if(e instanceof s.RefExpression){var t=e.name;if(t!=="main"){n(s.AttributeInfo.fromJS({name:t,type:e.type||"NULL"}))}}})});this.subsetExpression.forEach(function(t){if(t instanceof s.RefExpression){var i=t.name;if(!l.NamedArray.findByName(e,i)){n(s.AttributeInfo.fromJS({name:i,type:t.type||"NULL"}))}}});return{attributes:e,derivedAttributes:i}};t.prototype.changeDimension=function(e){return this.changeDimensions(l.NamedArray.overrideByName(this.dimensions,e))};t.prototype.fillAllFromAttributes=function(e){var t=e.filter(function(e){return b[e.nativeType]});return this.appendAttributes(t).appendDimensions(this.getSuggestedDimensions(e)).appendMeasures(this.getSuggestedMeasures(e)).adoptSpecialTimeDimensionIfPossible()};t.prototype.getIntrospection=function(){return this.introspection||t.DEFAULT_INTROSPECTION};t.prototype.addMandatoryFiltersIfNeeded=function(e){var t=this.getSpecialTimeDimension();if(t&&!e.filteredOn(t.name)){e=e.setDynamic(t.name,s.$(d.FilterClause.MAX_TIME_REF_NAME).timeRange(this.getDefaultDuration(),-1))}return e};t.prototype.getDefaultSortMeasure=function(){if(this.defaultSortMeasure){return this.defaultSortMeasure}return this.getMeasures()[0].name};t.prototype.getDefaultSelectedMeasures=function(){var e=this.defaultSelectedMeasures;return e.length?e:this.measures.slice(0,4).map(function(e){return e.name})};t.prototype.makeDuplicate=function(e){return this.changeName(e).changeTitle(this.title+" (copy)")};t.prototype.adoptSpecialTimeDimensionIfPossible=function(){var e=this.getSpecialTimeDimension();if(e)return this;return this.changeSpecialTimeDimension(t.getPossibleTimeDimension(this.dimensions))};t.prototype.appendAttributes=function(e){return this.changeAttributes(s.AttributeInfo.override(this.attributes,e))};t.prototype.appendMeasures=function(e){return this.changeMeasures(this.measures.concat(e))};t.prototype.appendDimensions=function(e){return this.changeDimensions(this.dimensions.concat(e))};t.prototype.sameGroup=function(e){return Boolean(this.group&&this.group===e.group)};t.prototype.guessTitle=function(){if(!this.source)return this.title;var e=this.source.split(/[\/\\]/);var t=e[e.length-1];return r.StringUtils.makeTitle(t)};t.prototype.guessName=function(){if(!this.source)return this.name;var e=this.source.split(/[\/\\]/);var t=e[e.length-1];return r.StringUtils.makeUrlSafeName(t)};t.prototype.getLatitudeLongitudeDimensions=function(){var e=this.dimensions;var i=l.NamedArray.findByName(e,t.LATITUDE_NAME);var n=l.NamedArray.findByName(e,t.LONGITUDE_NAME);return i&&n?{latitude:i,longitude:n}:null};t.prototype.straightenDimensionName=function(e){var t=this.dimensions;e=e.changeName(r.StringUtils.generateUniqueName(e.guessName(),function(e){return!l.NamedArray.findByName(t,e)},{suffixIfAlreadyUnique:false,separator:"-",startAt:1}));if(e.title==="New dimension")e=e.changeTitle(e.guessTitle());return e};t.prototype.straightenMeasureName=function(e){var t=this;e=e.changeName(r.StringUtils.generateUniqueName(e.guessName(),function(e){return!t.getMeasure(e)},{suffixIfAlreadyUnique:false,separator:"-",startAt:1}));if(e.title==="New measure")e=e.changeTitle(e.guessTitle());return e};return t}(l.BaseImmutable);S.DEFAULT_INTROSPECTION="autofill-all";S.INTROSPECTION_VALUES=["none","no-autofill","autofill-dimensions-only","autofill-measures-only","autofill-all"];S.DEFAULT_DEFAULT_TIMEZONE=a.Timezone.UTC;S.DEFAULT_DEFAULT_FILTER=c.Filter.EMPTY;S.DEFAULT_DEFAULT_SPLITS=m.Splits.EMPTY;S.DEFAULT_DEFAULT_DURATION=a.Duration.fromJS("P1D");S.NO_SPECIAL_TIME_DIMENSION="!NONE";S.LATITUDE_NAME="lat";S.LONGITUDE_NAME="lon";S.PROPERTIES=[{name:"name",
validate:r.StringUtils.verifyUrlSafeName},{name:"title",defaultValue:null},{name:"description",defaultValue:""},{name:"clusterName",defaultValue:null},{name:"source",defaultValue:null},{name:"group",defaultValue:null},{name:"subsetFormula",defaultValue:null},{name:"rollup",defaultValue:false},{name:"complete",defaultValue:false},{name:"options",defaultValue:{},equal:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{name:"introspection",defaultValue:S.DEFAULT_INTROSPECTION},{name:"attributes",immutableClassArray:s.AttributeInfo,type:l.PropertyType.ARRAY},{name:"dimensions",immutableClassArray:u.Dimension,type:l.PropertyType.ARRAY},{name:"measures",immutableClassArray:p.Measure,type:l.PropertyType.ARRAY},{name:"specialTimeDimension"},{name:"defaultTimezone",immutableClass:a.Timezone,defaultValue:S.DEFAULT_DEFAULT_TIMEZONE},{name:"defaultFilter",immutableClass:c.Filter,defaultValue:S.DEFAULT_DEFAULT_FILTER},{name:"defaultSplits",immutableClass:m.Splits,defaultValue:S.DEFAULT_DEFAULT_SPLITS},{name:"defaultDuration",immutableClass:a.Duration,defaultValue:S.DEFAULT_DEFAULT_DURATION},{name:"defaultSortMeasure",defaultValue:null},{name:"defaultSelectedMeasures",type:l.PropertyType.ARRAY},{name:"defaultPinnedDimensions",type:l.PropertyType.ARRAY},{name:"refreshRule",immutableClass:f.RefreshRule,defaultValue:f.RefreshRule.query()}];t.DataCube=S;l.BaseImmutable.finalize(S)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(23);var a=i(2);var o=i(6);var l=i(30);function s(e,t,i){return e.filter(function(e,n){return n===i||!e.equals(t)})}function u(e,t,i,n){return e.map(function(e,r){return r===n||!e.equals(t)?e:i})}function d(e){return e.toISOString().replace("T","_").replace("Z","").replace(".000","")}var c=function(e){n.__extends(t,e);function t(t){return e.call(this,t)||this}t.isFilter=function(e){return e instanceof t};t.fromClause=function(e){if(!e)throw new Error("must have clause");return new t({clauses:[e]})};t.fromExpression=function(e){var i=o.Expression.fromJSLoose(e);var n=null;if(i.equals(o.Expression.TRUE)){n=[]}else if(i instanceof o.AndExpression){n=i.getExpressionList().map(function(e){return l.FilterClause.fromExpression(e)})}else{n=[l.FilterClause.fromExpression(i)]}return new t({clauses:n})};t.fromJS=function(e){if(r(e,"op")){return t.fromExpression(e)}return new t({clauses:(e.clauses||[]).map(l.FilterClause.fromJS)})};t.prototype.toString=function(){return this.clauses.map(function(e){return e.toString()}).join(" and ")};t.prototype.replaceByIndex=function(e,t){var i=this.clauses;if(i.length===e)return this.insertByIndex(e,t);var n=i[e];i=i.map(function(i,n){return n===e?t:i});i=u(i,t,n,e);return this.changeClauses(i)};t.prototype.insertByIndex=function(e,t){var i=this.clauses;i=a.SimpleArray.insertIndex(i,e,t);i=s(i,t,e);return this.changeClauses(i)};t.prototype.isEmpty=function(){return this.clauses.length===0};t.prototype.single=function(){return this.clauses.length===1};t.prototype.length=function(){return this.clauses.length};t.prototype.toExpression=function(e){var t=this.clauses.map(function(t){return t.toExpression(e)});switch(t.length){case 0:return o.Expression.TRUE;case 1:return t[0];default:return o.Expression.and(t)}};t.prototype.isDynamic=function(){return this.clauses.some(function(e){return Boolean(e.dynamic)})};t.prototype.changeClauses=function(e){var i=this.valueOf();i.clauses=e;return new t(i)};t.prototype.getSpecificFilter=function(e,t,i){if(!this.isDynamic())return this;return this.changeClauses(this.clauses.map(function(n){return n.evaluate(e,t,i)}))};t.prototype.indexOfClause=function(e){return this.clauses.findIndex(function(t){return t.dimension===e})};t.prototype.clauseForDimension=function(e){return this.clauses.find(function(t){return t.dimension===e})};t.prototype.getClauseFor=function(e){var t=this.indexOfClause(e);if(t===-1)return null;return this.clauses[t]};t.prototype.filteredOn=function(e){return this.indexOfClause(e)!==-1};t.prototype.filteredOnValue=function(e,t){var i=this.clauses;var n=this.indexOfClause(e);if(n===-1)return false;var r=i[n].getLiteralSet();return r?r.contains(t):false};t.prototype.isSelectionFilter=function(e){var t=this.clauses;var i=this.indexOfClause(e);if(i===-1)return false;return Boolean(t[i].values)};t.prototype.setValues=function(e,t){var i=this.clauses;var n=this.indexOfClause(e);var r=new l.FilterClause({action:"overlap",dimension:e,values:t});if(n===-1){i=a.SimpleArray.append(i,r)}else{i=a.SimpleArray.change(i,n,r)}return this.changeClauses(i)};t.prototype.addValue=function(e,t){var i=this.clauses;var n=this.indexOfClause(e);if(n===-1){return this.changeClauses(i.concat(new l.FilterClause({dimension:e,values:o.Set.fromJS([t])})))}else{var r=i[n];var s=i[n].values;if(!s)throw new Error("can not add value to a non selection clause");var u=s.add(t);return this.changeClauses(a.SimpleArray.change(i,n,r.changeValues(u)))}};t.prototype.setSearch=function(e,t,i){var n=this.clauses;var r=this.indexOfClause(e);var o=new l.FilterClause({action:t,dimension:e,search:i});if(r===-1){n=a.SimpleArray.append(n,o)}else{n=a.SimpleArray.change(n,r,o)}return this.changeClauses(n)};t.prototype.differentForDimension=function(e,t){var i=this.getClauseFor(t);var n=e.getClauseFor(t);return!a.immutableEqual(i,n)};t.prototype.remove=function(e){var t=this.clauses;var i=this.indexOfClause(e);if(i===-1)return this;return this.changeClauses(a.SimpleArray.deleteIndex(t,i))};t.prototype.removeValue=function(e,t){var i=this.clauses;var n=this.indexOfClause(e);if(n===-1)return this;var r=i[n];var o=i[n].getLiteralSet();if(!o)throw new Error("can not remove value of non selection clause");var l=o.remove(t);if(l.empty()){return this.changeClauses(a.SimpleArray.deleteIndex(i,n))}else{i=a.SimpleArray.change(i,n,r.changeValues(l));return this.changeClauses(i)}};t.prototype.toggleValue=function(e,t){var i=this.filteredOn(e)&&!this.isSelectionFilter(e)?this.remove(e):this;return i.filteredOnValue(e,t)?i.removeValue(e,t):i.addValue(e,t)};t.prototype.getDynamic=function(e){var t=this.clauses;var i=this.indexOfClause(e);if(i===-1)return null;return t[i].dynamic};t.prototype.setDynamic=function(e,t){var i=this.clauses;var n=this.indexOfClause(e);var r=new l.FilterClause({dimension:e,dynamic:t});if(n===-1){i=a.SimpleArray.append(i,r)}else{i=a.SimpleArray.change(i,n,r)}return this.changeClauses(i)};t.prototype.getExtent=function(e){var t=this.clauses;var i=this.indexOfClause(e);if(i===-1)return null;return t[i].getExtent()};t.prototype.getFileString=function(e){var t=this.clauses.length;var i=function(e){return e===0?"":"_filters-"+e};var n=e?this.getExtent(e):null;if(n){var r=n.start,a=n.end;t--;return d(r)+"_"+d(a)+i(t)}return i(t)};t.prototype.getLiteralSet=function(e){var t=this.clauses;var i=this.indexOfClause(e);if(i===-1)return null;return t[i].getLiteralSet()};t.prototype.getSelection=function(e){var t=this.clauses;var i=this.indexOfClause(e);if(i===-1)return null;return t[i].dynamic||o.r(t[i].values)};t.prototype.getModeFor=function(e){var i=this.clauses;var n=this.indexOfClause(e);if(n===-1)return null;var r=i[n];var a=r.getAction();if(a==="match")return t.REGEX;if(a==="contains")return t.CONTAINS;if(r.getExclude())return t.EXCLUDE;return t.INCLUDE};t.prototype.toggleMode=function(){var e=this.clauses;if(e.length===0)return this;var t=e[0].getExclude();for(var i=0;i<e.length;i++){if(e[i].getExclude()!==t){throw new Error("Heterogeneous filter modes, can't toggle")}}return this.changeClauses(e.map(function(e){return e.changeExclude(!t)}))};t.prototype.setClause=function(e){var t=e.dimension;var i=false;var n=this.clauses.map(function(n){if(n.dimension===t){i=true;return e}else{return n}});if(!i){n=a.SimpleArray.append(n,e)}return this.changeClauses(n)};t.prototype.applyDelta=function(e){var t=this;var i=e.clauses;i.forEach(function(e){t=t.setClause(e)});return t};t.prototype.getSingleClauseSet=function(){var e=this.clauses;if(e.length!==1)return null;return e[0].getLiteralSet()};t.prototype.renameDimensions=function(e){var t=false;var i=this.clauses.map(function(i){if(e[i.dimension]){t=true;return i.changeDimension(e[i.dimension])}else{return i}});return t?this.changeClauses(i):this};t.prototype.constrainToDimensions=function(e){var t=false;var i=[];this.clauses.forEach(function(n){var r=n.dimension;if(a.NamedArray.findByName(e,r)){i.push(n)}else{t=true}});return t?this.changeClauses(i):this};t.prototype.setExclusionForDimension=function(e,t){var i=this.clauses.map(function(i){if(!(i.dimension===e.name))return i;return i.changeExclude(t)});return this.changeClauses(i)};return t}(a.BaseImmutable);c.EXCLUDE="exclude";c.INCLUDE="include";c.REGEX="regex";c.CONTAINS="contains";c.PROPERTIES=[{name:"clauses",immutableClassArray:l.FilterClause}];t.Filter=c;a.BaseImmutable.finalize(c);c.EMPTY=new c({clauses:[]})},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(11);var o=i(2);var l=i(6);var s=i(41);var u=i(102);function d(e){if(!e)return e;return e.toLowerCase().replace(/_|\//g,"-").replace(/-range$/,"").replace("set-","")}function c(e){if(!e)return e;return e.toUpperCase().replace("SET-","").replace("-GEO","")}var p=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;var n=i.name;i.title=t.title||r.StringUtils.makeTitle(n);i.expression=i.formula?l.Expression.parse(i.formula):l.$(n);i.kind=d(i.type);if(i.geo&&!i.geoEncoding){i.geoEncoding=u.ENCODINGS[0]}if(i.url&&typeof t.url!=="string"){throw new Error("unsupported url: "+t.url+": only strings are supported")}var a=t.granularities;if(a){if(!Array.isArray(a)||a.length!==5){throw new Error("must have list of 5 granularities in dimension '"+t.name+"'")}var o=null;i.granularities=a.map(function(e){if(o===null)o=e.op;if(e.op!==o)throw new Error("granularities must have the same type of actions");return e})}return i}t.isDimension=function(e){return e instanceof t};t.getDimension=function(e,t){if(!t)return null;return o.NamedArray.findByNameCI(e,t)};t.typeToKind=function(e){if(!e)return e;return e.toLowerCase().replace(/_|\//g,"-").replace(/-range$/,"")};t.fromJS=function(e){var i={name:e.name,title:e.title,group:e.group,formula:e.formula||e.expression,type:e.type||c(e.kind),url:e.url};if(!i.type){i.type=(i.formula?l.Expression.fromJSLoose(i.formula).type:null)||"STRING"}var n=e.granularities;if(n){i.granularities=n.map(s.granularityFromJS)}var r=e.bucketedBy;if(r){i.bucketedBy=s.granularityFromJS(r)}var a=e.bucketingStrategy;if(a){i.bucketingStrategy=a}var o=e.sortStrategy;if(o){i.sortStrategy=o}if(e.geo){i.geo=true;if(u.ENCODINGS.indexOf(e.geoEncoding)>-1){i.geoEncoding=e.geoEncoding}}return new t(i)};t.prototype.toJS=function(){var t=e.prototype.toJS.call(this);if(this.granularities)t.granularities=this.granularities.map(function(e){return s.granularityToJS(e)});if(this.bucketedBy)t.bucketedBy=s.granularityToJS(this.bucketedBy);return t};t.prototype.canAutoBucket=function(){var e=this.getBucketingStrategy();return this.isContinuous()&&e!==t.DEFAULT_NO_BUCKET&&e!==t.NEVER_BUCKET};t.prototype.isBucketable=function(){return this.isContinuous()&&this.getBucketingStrategy()!==t.NEVER_BUCKET};t.prototype.getBucketingStrategy=function(){var e=this,i=e.bucketingStrategy,n=e.kind;if(!i&&n==="time")return t.ALWAYS_BUCKET;return i||t.DEFAULT_BUCKET};t.prototype.canHaveNoBucket=function(){return this.getBucketingStrategy()!==t.ALWAYS_BUCKET};t.prototype.isContinuous=function(){var e=this.type;return e==="TIME"||e==="NUMBER"};t.prototype.toEffectiveExpression=function(){return this.expression.cast(this.type)};t.prototype.changeType=function(e){var i=this.valueOf();i.type=e;return new t(i)};t.prototype.getComboType=function(){var e=this,t=e.type,i=e.geo;if(i)return"Geo";return t.toLowerCase().replace(/^\w|\/\w/g,function(e){return e.toUpperCase()})};t.prototype.changeComboType=function(e){var i=this.valueOf();i.geo=false;switch(e){case"Boolean":case"String":case"Set/String":case"Number":case"Time":i.type=e.toUpperCase();break;case"Geo":i.type="STRING";i.geo=true;break}return new t(i)};t.prototype.getFormula=function(){return this.formula||this.expression.toString()};t.prototype.getColumn=function(){if(this.expression instanceof l.RefExpression){return this.expression.name}return null};t.prototype.changeColumn=function(e){return this.changeFormula(l.$(e).toString())};t.prototype.getKind=function(){return this.kind};t.prototype.getGranularities=function(){if(!this.isContinuous())return null;return this.granularities||s.getGranularities(this.kind,this.bucketedBy,false,this.canHaveNoBucket())};t.prototype.isGeo=function(){return this.geo};t.prototype.isDerived=function(){return!this.expression.equals(l.$(this.name))};t.prototype.getCoordinatesConverter=function(){if(!this.isGeo())return null;var e=u.getCodes(this.geoEncoding);return function(t){return e[t]}};t.prototype.usesAttribute=function(e){return this.expression.some(function(t){if(t instanceof l.RefExpression){return t.name===e}else{return null}})};t.prototype.fromColumn=function(){if(this.expression instanceof l.RefExpression){return this.expression.name}return null};t.prototype.isTime=function(){return this.kind==="time"};t.prototype.isBoolean=function(){return this.kind==="boolean"};t.prototype.guessName=function(){return r.StringUtils.makeUrlSafeName(this.formula)};t.prototype.guessTitle=function(){return r.StringUtils.makeTitle(this.name)};t.prototype.getIcon=function(){if(this.isGeo())return a.DIM_GEO;if(this.isTime())return a.DIM_TIME;if(this.isContinuous())return a.DIM_NUMBER;if(this.isBoolean())return a.DIM_BOOLEAN;return a.DIM_STRING};return t}(o.BaseImmutable);p.GEO_ENCODINGS=u.ENCODINGS;p.ALWAYS_BUCKET="alwaysBucket";p.DEFAULT_BUCKET="defaultBucket";p.DEFAULT_NO_BUCKET="defaultNoBucket";p.NEVER_BUCKET="neverBucket";p.COMBO_TYPES_NORMAL=[{label:"Boolean",value:"Boolean"},{label:"String",value:"String"},{label:"Set/String",value:"Set/String"},{label:"Number",value:"Number"},{label:"Time",value:"Time"},{label:"Geo",value:"Geo"}];p.COMBO_TYPES_UNSPLITABLE=[{label:"String",value:"String"},{label:"Number",value:"Number"},{label:"Unique",value:"Unique"},{label:"Theta",value:"Theta"},{label:"Histogram",value:"Histogram"}];p.BUCKETING_STRATEGIES=[{label:"Always bucket",value:p.ALWAYS_BUCKET},{label:"Default bucket",value:p.DEFAULT_BUCKET},{label:"Default donâ€™t bucket",value:p.DEFAULT_NO_BUCKET},{label:"Never bucket",value:p.NEVER_BUCKET}];p.PROPERTIES=[{name:"name",validate:r.StringUtils.verifyUrlSafeName},{name:"title",defaultValue:null},{name:"group",defaultValue:null},{name:"formula",defaultValue:null},{name:"type"},{name:"url",defaultValue:null},{name:"granularities",defaultValue:[],equal:o.immutableArraysEqual},{name:"bucketedBy",defaultValue:null,equal:s.granularityEquals},{name:"bucketingStrategy",defaultValue:null,possibleValues:["defaultBucket","defaultNoBucket","neverBucket","alwaysBucket"]},{name:"sortStrategy",defaultValue:null},{name:"geo",defaultValue:false},{name:"geoEncoding",defaultValue:null,possibleValues:u.ENCODINGS}];t.Dimension=p;o.BaseImmutable.finalize(p)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(16);var a=i(2);var o=i(6);var l=i(66);function s(e){return e instanceof o.Set?e:o.Set.fromJS([e])}var u=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;var n=Number(Boolean(i.values))+Number(Boolean(i.dynamic))+Number(Boolean(i.search));if(n!==1)throw new Error("must have exactly one of 'values', 'dynamic', and 'search'");if((i.action==="match"||i.action==="contains")!==Boolean(i.search)){throw new Error("match / contains must go with search")}return i}t.isFilterClause=function(e){return e instanceof t};t.evaluate=function(e,i,n,a){if(!e)return null;var l=e.getLiteralValue();if(l instanceof o.Set){return l.extent()}var s=r.minute.ceil(n||i,a);var u={};u[t.NOW_REF_NAME]=i;u[t.MAX_TIME_REF_NAME]=s;return e.defineEnvironment({timezone:a}).getFn()(u)};t.fromExpression=function(e){var i=false;if(e instanceof o.NotExpression){e=e.operand;i=true}var n;if(e instanceof o.ChainableExpression){if(e.operand instanceof o.RefExpression){n=e.operand.name}else{throw new Error("must be a ref "+e.operand)}}else{throw new Error("must be a chainable expression "+e)}if(e instanceof o.InExpression||e instanceof o.OverlapExpression){var r=e.expression;var a=r.getLiteralValue();var l=e.op;return new t({action:l==="in"?"overlap":l,dimension:n,values:a?s(a):null,dynamic:a?null:r,exclude:i})}if(e instanceof o.ContainsExpression){return new t({action:"contains",dimension:n,search:e.expression.getLiteralValue(),exclude:i})}if(e instanceof o.MatchExpression){return new t({action:"match",dimension:n,search:e.regexp,exclude:i})}throw new Error("invalid expression "+e.toString())};t.fromSingleValue=function(e,i){return new t({dimension:e,values:o.Set.fromJS([i])})};t.fromJS=function(e){return new t(a.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.toString=function(){return"[FilterClause: "+this.dimension+"]"};t.prototype.changeValues=function(e){var i=this.valueOf();i.values=e;delete i.dynamic;delete i.search;return new t(i)};t.prototype.changeDynamic=function(e){var i=this.valueOf();delete i.values;i.dynamic=e;delete i.search;return new t(i)};t.prototype.changeSearch=function(e){var i=this.valueOf();delete i.values;delete i.dynamic;i.search=e;return new t(i)};t.prototype.toExpression=function(e){var t=this,i=t.dimension,n=t.action,r=t.values,l=t.dynamic,s=t.search;var u=a.NamedArray.findByName(e,i);if(!u)throw new Error("filter clause on unknown dimension '"+i+"'");var d=u.expression;var c=null;if(r||l){c=d.overlap(r||l)}else if(n==="contains"){c=d.contains(o.r(s),"ignoreCase")}else if(n==="match"){c=d.match(s)}else{throw new Error("should never get here")}if(this.exclude)c=c.not();return c};t.prototype.getLiteralSet=function(){return this.values};t.prototype.getExtent=function(){var e=this.values;return e?e.extent():null};t.prototype.isLessThanFullDay=function(){var e=this.getExtent();if(!e)return false;return e.end.valueOf()-e.start.valueOf()<r.day.canonicalLength};t.prototype.evaluate=function(e,i,n){var r=this.dynamic;if(!r)return this;return this.changeValues(s(t.evaluate(r,e,i,n)))};return t}(a.BaseImmutable);u.NOW_REF_NAME="n";u.MAX_TIME_REF_NAME="m";u.$maxTime=o.$(u.MAX_TIME_REF_NAME);u.$now=o.$(u.NOW_REF_NAME);u.LATEST_PRESETS=[{name:"1H",selection:u.$maxTime.timeRange("PT1H",-1),label:l.STRINGS.latest+" "+l.STRINGS.hour},{name:"6H",selection:u.$maxTime.timeRange("PT6H",-1),label:l.STRINGS.latest+" 6 "+l.STRINGS.hours},{name:"1D",selection:u.$maxTime.timeRange("P1D",-1),label:l.STRINGS.latest+" "+l.STRINGS.day},{name:"7D",selection:u.$maxTime.timeRange("P1D",-7),label:l.STRINGS.latest+" 7 "+l.STRINGS.days},{name:"30D",selection:u.$maxTime.timeRange("P1D",-30),label:l.STRINGS.latest+" 30 "+l.STRINGS.days}];u.CURRENT_PRESETS=[{name:"D",selection:u.$now.timeBucket("P1D"),label:l.STRINGS.current+" "+l.STRINGS.day},{name:"W",selection:u.$now.timeBucket("P1W"),label:l.STRINGS.current+" "+l.STRINGS.week},{name:"M",selection:u.$now.timeBucket("P1M"),label:l.STRINGS.current+" "+l.STRINGS.month},{name:"Q",selection:u.$now.timeBucket("P3M"),label:l.STRINGS.current+" "+l.STRINGS.quarter},{name:"Y",selection:u.$now.timeBucket("P1Y"),label:l.STRINGS.current+" "+l.STRINGS.year}];u.PREVIOUS_PRESETS=[{name:"D",selection:u.$now.timeFloor("P1D").timeRange("P1D",-1),label:l.STRINGS.previous+" "+l.STRINGS.day},{name:"W",selection:u.$now.timeFloor("P1W").timeRange("P1W",-1),label:l.STRINGS.previous+" "+l.STRINGS.week},{name:"M",selection:u.$now.timeFloor("P1M").timeRange("P1M",-1),label:l.STRINGS.previous+" "+l.STRINGS.month},{name:"Q",selection:u.$now.timeFloor("P3M").timeRange("P3M",-1),label:l.STRINGS.previous+" "+l.STRINGS.quarter},{name:"Y",selection:u.$now.timeFloor("P1Y").timeRange("P1Y",-1),label:l.STRINGS.previous+" "+l.STRINGS.year}];u.PROPERTIES=[{name:"action",defaultValue:"overlap"},{name:"dimension"},{name:"values",immutableClass:o.Set,defaultValue:null},{name:"dynamic",immutableClass:o.Expression,defaultValue:null},{name:"search",defaultValue:null},{name:"exclude",defaultValue:false}];t.FilterClause=u;a.BaseImmutable.finalize(u)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(2);var o=i(126);var l=i(6);function s(e){return function(t){if(isNaN(t)||!isFinite(t))return"-";return o(t).format(e)}}var u=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;i.title=i.title||r.StringUtils.makeTitle(i.name);i.expression=l.Expression.parse(i.formula);i.formatFn=s(i.getFormat());i.companionExpression=i.companion?l.Expression.parse(i.companion):null;return i}t.isMeasure=function(e){return e instanceof t};t.getMeasure=function(e,t){if(!t)return null;return a.NamedArray.findByNameCI(e,t)};t.measuresFromAttribute=function(e){var i=e.name,n=e.type,a=e.nativeType,o=e.maker;var s=l.$("main");var u=l.$(i);if(i==="count"||o&&o.op==="count"){return[new t({name:r.StringUtils.makeUrlSafeName(i),title:r.StringUtils.makeTitle(i),formula:s.sum(u).toString()})]}else if(a==="hyperUnique"||a==="thetaSketch"){return[new t({name:r.StringUtils.makeUrlSafeName("cd_"+i),title:r.StringUtils.makeTitle(i)+(a==="thetaSketch"?" Unique":""),formula:s.countDistinct(u).toString()})]}else if(a==="approximateHistogram"){return[new t({name:r.StringUtils.makeUrlSafeName(i+"_p98"),title:r.StringUtils.makeTitle(i)+" 98th %tile",formula:s.quantile(u,.98).toString()})]}else if(n==="NUMBER"){var d=s.sum(u);var c="sum";if(o){c=o.op;switch(o.op){case"min":d=s.min(u);break;case"max":d=s.max(u);break}}return[new t({name:r.StringUtils.makeUrlSafeName(c+"_"+i),title:c==="sum"?r.StringUtils.makeTitle(i):null,formula:d.toString()})]}else{return[]}};t.fromJS=function(e){if(!e.formula){var i=e.expression;e.formula=typeof i==="string"?i:l.$("main").sum(l.$(e.name)).toString()}return new t(a.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.toApplyAction=function(){var e=this,t=e.name,i=e.expression,n=e.companionExpression;var r=l.Expression._.apply(t,i);if(n){r=r.apply(this.getCompanionName(),n)}return r};t.prototype.formatDatum=function(e){return e?this.formatFn(e[this.name]):null};t.prototype.formatCompanion=function(e){var t=this.getCompanionName();return e&&t?this.formatFn(e[t]):null};t.prototype.formatDatumWithCompanion=function(e){var t=this.formatDatum(e);if(!t)return null;var i=this.formatCompanion(e);return t+(i?" ("+i+")":"")};t.prototype.getCompanionName=function(){return this.companion?this.name+"_c":null};t.prototype.getTitleWithUnits=function(){if(this.units){return this.title+" ("+this.units+")"}else{return this.title}};t.prototype.usesAttribute=function(e){return this.expression.some(function(t,i,n,r){if(r>0&&t instanceof l.RefExpression){return t.name===e}else{return null}})};t.prototype.guessName=function(){return r.StringUtils.makeUrlSafeName(this.formula)};t.prototype.guessTitle=function(){return r.StringUtils.makeTitle(this.name)};return t}(a.BaseImmutable);u.DEFAULT_FORMAT="0,0.0 a";u.INTEGER_FORMAT="0,0 a";u.PROPERTIES=[{name:"name",validate:r.StringUtils.verifyUrlSafeName},{name:"title",defaultValue:null},{name:"group",defaultValue:null},{name:"units",defaultValue:null},{name:"formula"},{name:"format",defaultValue:u.DEFAULT_FORMAT},{name:"companion",defaultValue:null}];t.Measure=u;a.BaseImmutable.finalize(u);u.SIMPLE_COUNT=new u({name:"default_count",title:"Default Count",formula:"$main.count()"})},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(9);var l=i(1);var s=i(48);var u=i(151);i(396);var d=10;var c=0;var p=5;var f=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={id:null};return t}t.prototype.componentWillMount=function(){var e=this.props,t=e.alignOn,i=e.openOn,n=e.direction,r=e.align,a=e.id;var o=(t||i).getBoundingClientRect();var l;var u;switch(n){case"right":l=o.left+o.width-d;u=o.top+o.height/2;break;case"down":if(r==="center"){l=o.left+o.width/2}else if(r==="start"){l=o.left}else{l=o.left+o.width}u=o.top+o.height-c;break;default:throw new Error("unknown direction: '"+n+"'")}this.setState({id:a||s.uniqueId("bubble-menu-"),x:l,y:u})};t.prototype.onClose=function(){var e=this.props.onClose;if(e)e()};t.prototype.globalMouseDownListener=function(e){var t=this.props,i=t.onClose,n=t.openOn;var a=this.state.id;var o=document.getElementById(a);if(!o)return;var l=e.target;if(r.DOMUtils.isInside(l,o)||r.DOMUtils.isInside(l,n))return;this.onClose()};t.prototype.render=function(){var e=this.props,t=e.className,i=e.direction,n=e.stage,s=e.fixedSize,d=e.containerStage,c=e.inside,f=e.layout,m=e.align,g=e.children;var h=this.state,v=h.id,b=h.x,y=h.y;var x=n.width;var S=n.height;var w=0;var E=0;var C={};if(s){C.width=x;C.height=S}var T={left:0,top:0};if(!d){d=new r.Stage({x:p,y:p,width:window.innerWidth-p*2,height:window.innerHeight-p*2})}switch(i){case"right":var M=y-S/2;M=Math.min(Math.max(M,d.y),d.y+d.height-S);w=b;E=M;T.top=y-M;C.height=S;break;case"down":var N=void 0;if(m==="center"){N=b-x/2}else if(m==="start"){N=b}else{N=b-x}N=Math.min(Math.max(N,d.x),d.x+d.width-x);w=N;E=y;T.left=b-N;C.width=x;break;default:throw new Error("unknown direction: '"+i+"'")}var k=null;if(c){k=c.id;if(!k)throw new Error("inside element must have id")}var D=null;if(m==="center"){D=l.createElement(u.Shpitz,{style:T,direction:i})}var I=o("bubble-menu",i,t,{mini:f==="mini"});return l.createElement(a.BodyPortal,{left:w,top:E},l.createElement("div",{className:I,id:v,"data-parent":k,style:C},l.createElement(a.GlobalEventListener,{escape:this.onClose.bind(this),mouseDown:this.globalMouseDownListener.bind(this)}),g,D))};return t}(l.Component);f.defaultProps={align:"center"};t.BubbleMenu=f},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(2);function o(e){if(e==="native"){throw new Error("can not be 'native'")}}var l=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;if(!i.title)i.title=i.name;switch(i.type){case"druid":i.database=null;i.user=null;i.password=null;break;case"mysql":case"postgres":i.introspectionStrategy=null;i.requestDecorator=null;i.decoratorOptions=null;i.socksHost=null;i.socksUsername=null;i.socksPassword=null;break}return i}t.isCluster=function(e){return e instanceof t};t.fromJS=function(e){if(!e.host&&(e.druidHost||e.brokerHost)){e.host=e.druidHost||e.brokerHost}if(typeof e.timeout==="string"){e.timeout=parseInt(e.timeout,10)}return new t(a.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.toClientCluster=function(){return new t({name:this.name,type:this.type})};t.prototype.shouldScanSources=function(){return this.getSourceListScan()==="auto"};t.prototype.guessName=function(){return r.StringUtils.makeUrlSafeName(this.type+"-cluster")};t.prototype.guessTitle=function(){return"My "+this.type+" cluster"};return t}(a.BaseImmutable);l.TYPE_VALUES=["druid","druidsql","mysql","postgres"];l.DEFAULT_TIMEOUT=4e4;l.DEFAULT_SOURCE_LIST_SCAN="auto";l.SOURCE_LIST_SCAN_VALUES=["disable","auto"];l.DEFAULT_INTROSPECTION_STRATEGY="segment-metadata-fallback";l.PROPERTIES=[{name:"name",validate:[r.StringUtils.verifyUrlSafeName,o]},{name:"type",possibleValues:l.TYPE_VALUES},{name:"host",defaultValue:null},{name:"title",defaultValue:""},{name:"version",defaultValue:null},{name:"timeout",defaultValue:l.DEFAULT_TIMEOUT},{name:"sourceListScan",defaultValue:l.DEFAULT_SOURCE_LIST_SCAN,possibleValues:l.SOURCE_LIST_SCAN_VALUES},{name:"introspectionStrategy",defaultValue:l.DEFAULT_INTROSPECTION_STRATEGY},{name:"requestDecorator",defaultValue:null},{name:"decoratorOptions",defaultValue:null},{name:"socksHost",defaultValue:null},{name:"socksUsername",defaultValue:null},{name:"socksPassword",defaultValue:null},{name:"database",defaultValue:null},{name:"user",defaultValue:null},{name:"password",defaultValue:null}];t.Cluster=l;a.BaseImmutable.finalize(l)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(2);var o=i(54);var l=i(27);var s=function(e){n.__extends(t,e);function t(i){var n=e.call(this,i)||this;if(n.layout==="dashboard"){var r=n.size||t.DEFAULT_SIZE;var a=t.fitTiles(n.tiles,r,t.DEFAULT_TILE_SIZE),o=a.newTiles,l=a.newSize;n.size=l;n.tiles=o}if(!n.tiles)n.tiles=[];return n}t.isCollection=function(e){return e instanceof t};t.fitTiles=function(e,t,i){var n=e.map(function(e){return e.position}).filter(Boolean);var r=t.width-i.width;var a=0;function o(){return i.changeXY(a%r,Math.floor(a/r))}function l(){var e=o();while(n.some(function(t){return t.overlapsWith(e)})){a++;e=o()}n.push(e);return e}return{newTiles:e.map(function(e){return e.position?e:e.changePosition(l())}),newSize:t.changeHeight(Math.max(t.height,Math.floor(a/r)+i.height))}};t.fromJS=function(e,i){if(!i)throw new Error("Collection must have context");if(!e.name)throw new Error("Collection must have a name");var n=e.tiles||e.items||e.linkItems||[];return new t({title:e.title,name:e.name,description:e.description,layout:e.layout,size:e.size?r.Stage.fromJS(e.size):null,shareTimezone:e.shareTimezone,shareFilter:e.shareFilter,tiles:n.map(function(e){return o.CollectionTile.fromJS(e,i)})})};t.prototype.getDefaultTile=function(){return this.tiles[0]};t.prototype.isNameAvailable=function(e){return!this.getCollectionTile(e)};t.prototype.dependsOnDataCube=function(e){return this.tiles.some(function(t){return t.dataCube.name===e})};t.prototype.getCommonEssence=function(){var e=this,t=e.shareFilter,i=e.tiles;if(!t)return null;if(!i.length)return null;return i[0].essence.changeFilter(l.Filter.EMPTY)};t.prototype.makeDuplicate=function(e){return this.changeName(e).changeTitle(this.title+" (copy)")};t.prototype.getMaxOccupiedRow=function(){var e=this,t=e.tiles,i=e.layout;if(i!=="dashboard")return null;return t.map(function(e){return e.position.y+e.position.height}).reduce(function(e,t){return Math.max(e,t)},0)};t.prototype.getCollectionTile=function(e){return a.NamedArray.findByName(this.tiles,e)};t.prototype.changeLayout=function(e){if(this.layout===e)return this;var i=this.valueOf();i.layout=e;return new t(i)};t.prototype.addOrUpdateTile=function(e){return this.changeTiles(a.NamedArray.overrideByName(this.tiles,e))};t.prototype.deleteTile=function(e){return this.changeTiles(a.NamedArray.deleteByName(this.tiles,e))};t.prototype.constrainTilesToDataCubes=function(e){return this.changeTiles(this.tiles.filter(function(t){return a.NamedArray.containsByName(e,t.dataCube.name)}))};return t}(a.BaseImmutable);s.DEFAULT_SIZE=r.Stage.fromSize(24,12);s.DEFAULT_TILE_SIZE=r.Stage.fromSize(8,5);s.PROPERTIES=[{name:"name",validate:r.StringUtils.verifyUrlSafeName},{name:"title",defaultValue:null},{name:"description",defaultValue:null},{name:"layout",defaultValue:"album"},{name:"size",immutableClass:r.Stage,defaultValue:null},{name:"verticalUnits",defaultValue:null},{name:"shareTimezone",defaultValue:false},{name:"shareFilter",defaultValue:false},{name:"tiles",immutableClassArray:o.CollectionTile}];t.Collection=s;a.BaseImmutable.finalize(s)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(23);var r=i(2);var a=i(6);var o="#666666";var l=["#2D95CA","#EFB925","#DA4E99","#4CC873","#745CBD","#EA7136","#E68EE0","#218C35","#B0B510","#904064"];function s(e){var t={};for(var i=0;i<l.length;i++){if(!n(e,i))continue;t[i]=a.valueToJS(e[i])}return t}function u(e,t){if(e===t)return true;if(!e!==!t)return false;if(e.toISOString&&t.toISOString)return e.valueOf()===t.valueOf();if(r.isImmutableClass(e))return e.equals(t);return false}function d(e,t){if(!Boolean(e)===Boolean(t))return false;if(e===t)return true;if(!e!==!t)return false;if(typeof e!==typeof t)return false;for(var i=0;i<l.length;i++){var r=e[i];var a=t[i];if(n(e,i)!==n(t,i))return false;if(!u(r,a))return false}return true}function c(e){var t={};for(var i=0;i<l.length;i++){
if(!n(e,i))continue;t[i]=e[i]}return t}var p;var f=function(){function e(e){this.dimension=e.dimension;if(!this.dimension)throw new Error("must have a dimension");this.values=e.values;this.hasNull=e.hasNull;this.limit=e.limit;if(!this.values&&!this.limit)throw new Error("must have values or limit")}e.isColors=function(t){return t instanceof e};e.fromLimit=function(t,i){return new e({dimension:t,limit:i})};e.fromValues=function(t,i){var n={};var r=false;var a=Math.min(i.length,l.length+1);var o=0;var s=0;while(o<a){var u=i[o];if(u===null){r=true}else{n[s]=u;s++}o++}return new e({dimension:t,hasNull:r,values:n})};e.fromJS=function(t){var i={dimension:t.dimension,limit:t.limit};var r=t.values;if(r){var o=Boolean(t.hasNull);var s={};for(var u=0;u<l.length;u++){if(!n(r,u))continue;var d=r[u];if(d===null){o=true}else{s[u]=a.valueFromJS(d)}}i.values=s;i.hasNull=o}return new e(i)};e.prototype.valueOf=function(){return{dimension:this.dimension,values:this.values,hasNull:this.hasNull,limit:this.limit}};e.prototype.toJS=function(){var e={dimension:this.dimension};if(this.values)e.values=s(this.values);if(this.hasNull)e.hasNull=true;if(this.limit)e.limit=this.limit;return e};e.prototype.toJSON=function(){return this.toJS()};e.prototype.toString=function(){var e=this,t=e.dimension,i=e.values;var n=i?", "+Object.keys(i).map(function(e){return i[e]}):"";return"[Colors: "+this.dimension+n+"]"};e.prototype.equals=function(t){return e.isColors(t)&&this.dimension===t.dimension&&d(this.values,t.values)&&this.hasNull===t.hasNull&&this.limit===t.limit};e.prototype.numColors=function(){var e=this,t=e.values,i=e.limit;if(t){return Object.keys(t).length+Number(this.hasNull)}return i};e.prototype.isLimitMode=function(){var e=this.values;return!e};e.prototype.toArray=function(){var e=this,t=e.values,i=e.hasNull;if(!t)return null;var r=[];if(i)r.push(null);for(var a=0;a<l.length;a++){if(!n(t,a))continue;r.push(t[a])}return r};e.prototype.toSet=function(){if(!this.values)return null;return a.Set.fromJS(this.toArray())};e.prototype.toHavingFilter=function(e){var t=this,i=t.dimension,n=t.values;if(!e)e=i;if(!n)return null;return a.Expression._.filter(a.$(e).overlap(this.toSet()))};e.prototype.toLimitAction=function(){return a.Expression._.limit(this.numColors())};e.prototype.toggle=function(e){return this.has(e)?this.remove(e):this.add(e)};e.prototype.valueIndex=function(e){var t=this.values;if(!t)return-1;for(var i=0;i<l.length;i++){if(!n(t,i))continue;if(u(t[i],e))return i}return-1};e.prototype.nextIndex=function(){var e=this.values;if(!e)return 0;for(var t=0;t<l.length;t++){if(n(e,t))continue;return t}return-1};e.prototype.has=function(e){if(e==null)return this.hasNull;return this.valueIndex(e)!==-1};e.prototype.add=function(t){if(this.has(t))return this;var i=this.valueOf();if(t===null){i.hasNull=true}else{var n=this.nextIndex();if(n===-1)return this;i.values=i.values?c(i.values):{};i.values[n]=t;delete i.limit}return new e(i)};e.prototype.remove=function(t){if(!this.has(t))return this;var i=this.valueOf();if(t==null){i.hasNull=false}else{var n=this.valueIndex(t);if(n===-1)return this;i.values=c(i.values);delete i.values[n];delete i.limit}return new e(i)};e.prototype.getColor=function(e){var t=this,i=t.values,n=t.hasNull;if(i){if(e===null&&n)return o;var r=this.valueIndex(e);return r===-1?null:l[r]}else{return null}};return e}();t.Colors=f;p=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(16);var r=i(2);var a=i(170);var o=i(6);var l=i(39);var s=i(29);var u=i(30);var d=i(27);var c=i(57);var p=i(17);var f=2;function m(e,t){return e.filter(function(e){return Boolean(r.NamedArray.findByName(t,e))})}function g(e,t){return e.filter(function(e){return Boolean(t.getMeasure(e))})}function h(e,t,i){return e.filter(function(e){return t.indexOf(e)!==-1||e===i})}var v;(function(e){e[e["FairGame"]=0]="FairGame";e[e["UnfairGame"]=1]="UnfairGame";e[e["KeepAlways"]=2]="KeepAlways"})(v=t.VisStrategy||(t.VisStrategy={}));var b={false:"single",true:"multi",single:"single",multi:"multi"};function y(e){}var x;var S=function(){function e(t){var i=t.visualizations,a=t.dataCube,o=t.defaultMeasureModes,l=t.visualization,s=t.timezone,u=t.filter,d=t.splits,c=t.measureMode,p=t.singleMeasure,f=t.selectedMeasures,m=t.pinnedDimensions,g=t.colors,h=t.pinnedSort,v=t.highlight,y=t.customDimensions;if(!a)throw new Error("Essence must have a dataCube");if(!o)o=e.DEFAULT_DEFAULT_MEASURE_MODE;s=s||n.Timezone.UTC;if(!u){u=a.getDefaultFilter()}u=a.addMandatoryFiltersIfNeeded(u);function x(e){return c==="multi"?r.SimpleArray.contains(f,e):e===p}if(v&&v.measure&&!x(v.measure)){v=null}if(!y)y=[];var S=a.dimensions.concat(y);var w=null;if(i){var E=p||a.getDefaultSortMeasure();if(!l){l=e.getBestVisualization(i,S,d,u,E,g,null).visualization}var C=d.splitCombines.map(function(e){return r.NamedArray.findByName(S,e.dimension)});w=l.canHandleSplitDimensions(S,C,u,E);if(w.proceedWithDimensions()){var T=l.getSuitability(S,d,g,t.visualization===l);if(T.cantHandleCombine)w=T.cantHandleCombine}}c=b[String(c)]||o[l.name]||"single";this.visualizations=i;this.dataCube=a;this.defaultMeasureModes=o;this.visualization=l;this.timezone=s;this.filter=u;this.splits=d;this.measureMode=c;this.singleMeasure=p;this.selectedMeasures=f;this.pinnedDimensions=m;this.colors=g;this.pinnedSort=h;this.highlight=v;this.customDimensions=y;this.visResolve=w}e.isEssence=function(t){return t instanceof e};e.getBestVisualization=function(e,t,i,n,a,o,l){var s=l?l.name:null;var u=i.splitCombines.map(function(e){return r.NamedArray.findByName(t,e.dimension)});var d=e.filter(function(e){return e.canHandleSplitDimensions(t,u,n,a).proceedWithDimensions()});y("Start evaluation");return d.map(function(e){var n=e.getSuitability(t,i,o,e.name===s);y("> "+e.name+": "+n.score);return{suitability:n,visualization:e}}).sort(function(e,t){return t.suitability.score-e.suitability.score})[0]};e.fromHash=function(t,i){var n=t.split("/");if(n.length<3)return null;var r=n.shift();var o=parseInt(n.shift(),10);if(o>f)return null;var l=null;try{l=JSON.parse("["+a.decompressFromBase64(n.join("/"))+"]")}catch(e){return null}if(!Array.isArray(l))return null;if(o===1){l.splice(3,0,false,null)}var s=l.length;if(!(8<=s&&s<=11))return null;var u;try{u=e.fromJS({visualization:r,timezone:l[0],filter:l[1],splits:l[2],measureMode:l[3],singleMeasure:l[4],selectedMeasures:l[5],pinnedDimensions:l[6],pinnedSort:l[7],colors:l[8]||null,highlight:l[9]||null,customDimensions:l[10]||null},i)}catch(e){return null}return u};e.fromDataCube=function(t,i){var n=t.getDefaultSplits();var r=t.getDefaultFilter();var a=n.initializeGivenFilter(r,t.dimensions,t.getDefaultSortMeasure());return new e({dataCube:i.dataCube,visualizations:i.visualizations,defaultMeasureModes:i.defaultMeasureModes,visualization:null,timezone:t.getDefaultTimezone(),filter:t.getDefaultFilter(),splits:a,singleMeasure:t.getDefaultSortMeasure(),selectedMeasures:t.getDefaultSelectedMeasures(),pinnedDimensions:t.getDefaultPinnedDimensions(),colors:null,pinnedSort:t.getDefaultSortMeasure(),highlight:null,customDimensions:null})};e.fromJS=function(t,i){if(!i)throw new Error("Essence must have context");var a=i.dataCube,o=i.visualizations,u=i.defaultMeasureModes;var f=t.visualization;if(f==="time-series")f="line-chart";var h=r.NamedArray.findByName(o,f);var v=t.timezone?n.Timezone.fromJS(t.timezone):null;var y=[];var x=t.customDimensions;if(Array.isArray(x)){y=x.map(function(e){return s.Dimension.fromJS(e)})}var S=a.dimensions.concat(y);var w=t.filter?d.Filter.fromJS(t.filter).constrainToDimensions(S):null;var E={dimensions:S,measure:t.singleMeasure||a.getDefaultSortMeasure()};var C=p.Splits.fromJS(t.splits||[],E).constrainToDimensionsAndMeasures(S,a.getMeasures());var T=a.getDefaultSortMeasure();var M=b[t.measureMode||t.multiMeasureMode];var N=a.getMeasure(t.singleMeasure)?t.singleMeasure:T;var k=g(t.selectedMeasures||[],a);var D=m(t.pinnedDimensions||[],S);var I=t.colors?l.Colors.fromJS(t.colors):null;var A=a.getMeasure(t.pinnedSort)?t.pinnedSort:T;var O=null;var _=t.highlight;if(_){O=c.Highlight.fromJS(_).constrainToDimensions(S)}return new e({dataCube:a,visualizations:o,defaultMeasureModes:u,visualization:h,timezone:v,filter:w,splits:C,measureMode:M,singleMeasure:N,selectedMeasures:k,pinnedDimensions:D,colors:I,pinnedSort:A,highlight:O,customDimensions:y})};e.prototype.valueOf=function(){return{dataCube:this.dataCube,visualizations:this.visualizations,defaultMeasureModes:this.defaultMeasureModes,visualization:this.visualization,timezone:this.timezone,filter:this.filter,splits:this.splits,measureMode:this.measureMode,singleMeasure:this.singleMeasure,selectedMeasures:this.selectedMeasures,pinnedDimensions:this.pinnedDimensions,colors:this.colors,pinnedSort:this.pinnedSort,highlight:this.highlight,customDimensions:this.customDimensions}};e.prototype.toJS=function(){var e={visualization:this.visualization.name,timezone:this.timezone.toJS(),filter:this.filter.toJS(),splits:this.splits.toJS(),singleMeasure:this.singleMeasure,selectedMeasures:this.selectedMeasures,pinnedDimensions:this.pinnedDimensions};if(this.measureMode)e.measureMode=this.measureMode;if(this.colors)e.colors=this.colors.toJS();var t=this.dataCube.getDefaultSortMeasure();if(this.pinnedSort!==t)e.pinnedSort=this.pinnedSort;if(this.highlight)e.highlight=this.highlight.toJS();if(this.customDimensions.length)e.customDimensions=this.customDimensions.map(function(e){return e.toJS()});return e};e.prototype.toJSON=function(){return this.toJS()};e.prototype.toString=function(){return"[Essence]"};e.prototype.equals=function(t){return e.isEssence(t)&&this.dataCube.name===t.dataCube.name&&this.visualization.name===t.visualization.name&&this.timezone.equals(t.timezone)&&this.filter.equals(t.filter)&&this.splits.equals(t.splits)&&this.measureMode===t.measureMode&&this.singleMeasure===t.singleMeasure&&r.generalArraysEqual(this.selectedMeasures,t.selectedMeasures)&&r.generalArraysEqual(this.pinnedDimensions,t.pinnedDimensions)&&r.immutableEqual(this.colors,t.colors)&&this.pinnedSort===t.pinnedSort&&r.immutableEqual(this.highlight,t.highlight)&&r.immutableArraysEqual(this.customDimensions,t.customDimensions)};e.prototype.toHash=function(){var e=this.toJS();var t=[e.timezone,e.filter,e.splits,e.measureMode,e.singleMeasure,e.selectedMeasures,e.pinnedDimensions,e.pinnedSort];if(e.colors){t[8]=e.colors}if(e.highlight){t[9]=e.highlight}if(e.customDimensions){t[10]=e.customDimensions}var i=[];for(var n=0;n<t.length;n++){i.push(JSON.stringify(t[n]||null))}return[e.visualization,f,a.compressToBase64(i.join(","))].join("/")};e.prototype.getURL=function(){return this.dataCube.name+"/"+this.toHash()};e.prototype.getTitle=function(){var e=this.getDimensions();var t=this.getEffectiveMeasures();var i=this.splits.toArray().map(function(t){return t.getDimension(e).title}).join(", ")||"Total";if(t.length===1){i=i+" by "+t[0].title}return i};e.prototype.getDimensions=function(){return this.dataCube.dimensions.concat(this.customDimensions)};e.prototype.getDimension=function(e){return s.Dimension.getDimension(this.getDimensions(),e)};e.prototype.evaluateSelection=function(e,t){var i=this,n=i.timezone,r=i.dataCube;return u.FilterClause.evaluate(e,t.now(),r.getMaxTime(t),n)};e.prototype.evaluateClause=function(e,t){var i=this,n=i.timezone,r=i.dataCube;return e.evaluate(t.now(),r.getMaxTime(t),n)};e.prototype.getEffectiveFilter=function(e,t,i){if(t===void 0){t=null}if(i===void 0){i=null}var n=this,r=n.dataCube,a=n.filter,o=n.highlight,l=n.timezone;if(o&&t!==o.owner)a=a.applyDelta(o.delta);if(i)a=a.remove(i.name);return a.getSpecificFilter(e.now(),r.getMaxTime(e),l)};e.prototype.getRealTimeSelection=function(){var e=this.dataCube.getSpecialTimeDimension();if(!e)return null;return this.filter.getSelection(e.name)};e.prototype.getMeasureMode=function(){return this.measureMode||"single"};e.prototype.getEffectiveMeasures=function(){var e;if(this.getMeasureMode()==="multi"){e=this.getMeasures()}else{e=[this.dataCube.getMeasure(this.singleMeasure)]}if(this.dataCube.title.match(/#test$/)){e=e.map(function(e){return e.changeCompanion(JSON.stringify(e.expression.multiply(1.2)))})}else if(this.dataCube.title.match(/@test$/)){e=e.map(function(e){return e.changeCompanion(JSON.stringify(e.expression.substitute(function(e){if(e instanceof o.RefExpression&&e.name==="main"){return o.$("cmp")}else{return null}})))})}return e};e.prototype.getFirstSelectedMeasure=function(){var e=this.selectedMeasures;return e?e[0]:null};e.prototype.getMeasures=function(){var e=this.dataCube;return this.selectedMeasures.map(function(t){return e.getMeasure(t)})};e.prototype.getSortMeasure=function(){return(this.getMeasureMode()==="multi"?this.getFirstSelectedMeasure():this.singleMeasure)||this.dataCube.getDefaultSortMeasure()};e.prototype.getEffectiveSelectedMeasure=function(){if(this.getMeasureMode()==="multi"){return this.selectedMeasures}else{return[this.singleMeasure]}};e.prototype.differentDataCube=function(e){return this.dataCube!==e.dataCube};e.prototype.differentTimezone=function(e){return!this.timezone.equals(e.timezone)};e.prototype.differentTimezoneMatters=function(e){return this.splits.timezoneDependant()&&this.differentTimezone(e)};e.prototype.differentFilter=function(e){return!this.filter.equals(e.filter)};e.prototype.differentSplits=function(e){return!this.splits.equals(e.splits)};e.prototype.differentEffectiveSplits=function(e){return this.differentSplits(e)||this.differentTimezoneMatters(e)};e.prototype.differentColors=function(e){if(Boolean(this.colors)!==Boolean(e.colors))return true;if(!this.colors)return false;return!this.colors.equals(e.colors)};e.prototype.differentSelectedMeasures=function(e){return!r.generalArraysEqual(this.selectedMeasures,e.selectedMeasures)};e.prototype.differentEffectiveMeasures=function(e){return!r.generalArraysEqual(this.getEffectiveSelectedMeasure(),e.getEffectiveSelectedMeasure())};e.prototype.isSubset=function(e,t){return e.every(function(e){return t.indexOf(e)!==-1})};e.prototype.newSelectedMeasures=function(e){return!this.isSubset(this.selectedMeasures,e.selectedMeasures)};e.prototype.newEffectiveMeasures=function(e){return!this.isSubset(this.getEffectiveSelectedMeasure(),e.getEffectiveSelectedMeasure())};e.prototype.differentPinnedDimensions=function(e){return!r.generalArraysEqual(this.pinnedDimensions,e.pinnedDimensions)};e.prototype.differentPinnedSort=function(e){return this.pinnedSort!==e.pinnedSort};e.prototype.differentHighlight=function(e){if(Boolean(this.highlight)!==Boolean(e.highlight))return true;return Boolean(this.highlight&&!this.highlight.equals(e.highlight))};e.prototype.differentEffectiveFilter=function(e,t,i,n,r){if(n===void 0){n=null}if(r===void 0){r=null}var a=this.getEffectiveFilter(t,n,r);var o=e.getEffectiveFilter(i,n,r);return!a.equals(o)};e.prototype.highlightOn=function(e,t){var i=this.highlight;if(!i)return false;return i.owner===e&&(!t||i.measure===t)};e.prototype.highlightOnDifferentMeasure=function(e,t){var i=this.highlight;if(!i)return false;return i.owner===e&&t&&i.measure!==t};e.prototype.getSingleHighlightSet=function(){var e=this.highlight;if(!e)return null;return e.delta.getSingleClauseSet()};e.prototype.getApplyForSort=function(e){var t=e.expression.name;var i=this.dataCube.getMeasure(t);if(!i)return null;return i.toApplyAction()};e.prototype.updateDataCube=function(t){var i=this,n=i.dataCube,a=i.customDimensions;if(n.equals(t))return this;var o=n.getSpecialTimeDimension();var l=t.getSpecialTimeDimension();var s={};if(o&&l){s[o.name]=l.name}var u=t.dimensions.concat(a);var d=this.valueOf();d.dataCube=t;d.filter=d.filter.renameDimensions(s).constrainToDimensions(u);d.splits=d.splits.constrainToDimensionsAndMeasures(u,t.getMeasures());d.selectedMeasures=g(d.selectedMeasures,t);if(d.selectedMeasures.length===0){d.selectedMeasures=t.getDefaultSelectedMeasures()}d.pinnedDimensions=m(d.pinnedDimensions,u);if(d.colors&&!r.NamedArray.findByName(u,d.colors.dimension)){d.colors=null}if(!t.getMeasure(d.pinnedSort))d.pinnedSort=t.getDefaultSortMeasure();if(d.highlight){d.highlight=d.highlight.constrainToDimensions(u)}return new e(d)};e.prototype.updateDefaultMeasureModes=function(t){var i=this.valueOf();i.defaultMeasureModes=t;return new e(i)};e.prototype.changeFilter=function(t,i){if(i===void 0){i=false}var n=this.filter;var r=this.valueOf();r.filter=t;if(i){r.highlight=null}return new e(r).updateSplitsAfterFilterChange(n)};e.prototype.addToFilter=function(e,t){if(t===void 0){t=false}return this.changeFilter(this.filter.applyDelta(e),t)};e.prototype.changeTimezone=function(t){var i=this.timezone;if(i===t)return this;var n=this.valueOf();n.timezone=t;return new e(n)};e.prototype.convertToSpecificFilter=function(e){var t=this,i=t.dataCube,n=t.filter,r=t.timezone;if(!n.isDynamic())return this;return this.changeFilter(n.getSpecificFilter(e.now(),i.getMaxTime(e),r))};e.prototype.getEffectiveColors=function(){var e=this,t=e.visualization,i=e.splits,n=e.colors;if(!t)return null;return t.getEffectiveColors(i,n)};e.prototype.getEffectiveSplits=function(){var e=this,t=e.visualization,i=e.splits;if(!t)return null;return t.getEffectiveSplits(i)};e.prototype.getSplitForDimension=function(e){return this.splits.findSplitForDimension(e)};e.prototype.getEffectiveSplitForDimension=function(e){return this.getEffectiveSplits().findSplitForDimension(e)};e.prototype.getEffectiveColorSplit=function(){var e=this.getEffectiveColors();if(!e)return null;return this.getEffectiveSplitForDimension(e.dimension)};e.prototype.updateWithNewSplits=function(t,i){var n=this,a=n.visualizations,o=n.visualization,l=n.filter,s=n.colors;var u=this.getDimensions();var d=this.splits;if(this.visResolve.rejectedDimensions()){var c=t.splitCombines.map(function(e){return r.NamedArray.findByName(u,e.dimension)});if(!o.canHandleSplitDimensions(u,c,l,this.getSortMeasure()).rejectedDimensions()){i=v.KeepAlways}}if(d.sameOnDimensions(t)){i=v.KeepAlways}if(i==null)i=d.getStrategyForSplitChange(t);if(i!==v.KeepAlways){var p=e.getBestVisualization(a,u,t,l,this.getSortMeasure(),s,i===v.FairGame?null:o);o=p.visualization}var f=this.valueOf();f.splits=t;if(f.visualization!==o){f.visualization=o;f.measureMode=this.defaultMeasureModes[o.name]||"single"}if(f.highlight){f.filter=f.filter.applyDelta(f.highlight.delta);f.highlight=null}return new e(f)};e.prototype.changeSplit=function(e,t){var i=this.splits;var n=i.splitCombines.find(function(t){return t.dimension===e.dimension});var r=n?i.replace(n,e):i.addSplit(e);return this.updateWithNewSplits(r,t)};e.prototype.initializeAndChangeSplits=function(e,t){var i=this.filter;var n=e.initializeGivenFilter(i,this.getDimensions(),this.getSortMeasure());return this.updateWithNewSplits(n,t)};e.prototype.addSplit=function(e,t){var i=this.splits;return this.initializeAndChangeSplits(i.addSplit(e),t)};e.prototype.removeSplit=function(e,t){var i=this.splits;return this.initializeAndChangeSplits(i.removeSplit(e))};e.prototype.updateSplitsAfterFilterChange=function(t){var i=this.valueOf();var n=i.splits,r=i.filter;var a=n.recalculateBucketsWithFilterChange(t,r,this.getDimensions());if(n===a)return this;i.splits=a;return new e(i)};e.prototype.changeColors=function(t){var i=this.valueOf();i.colors=t;return new e(i)};e.prototype.summonVisualization=function(t){if(t.name===this.visualization.name)return this;var i=this,n=i.splits,a=i.filter,o=i.singleMeasure,l=i.colors;var s=this.getDimensions();var u=t.canHandleSplitDimensions(s,n.splitCombines.map(function(e){return r.NamedArray.findByName(s,e.dimension)}),a,this.getSortMeasure());var d=this.valueOf();if(u.proceedWithDimensions()){var c=t.summon(s,n,a,o,l);if(c){d.splits=c.splits;d.colors=c.colors}}d.visualization=t;d.measureMode=this.defaultMeasureModes[t.name]||"single";return new e(d)};e.prototype.pin=function(t){var i=this.valueOf();i.pinnedDimensions=r.SimpleArray.append(i.pinnedDimensions,t.name);return new e(i)};e.prototype.unpin=function(t){var i=this.valueOf();i.pinnedDimensions=r.SimpleArray.delete(i.pinnedDimensions,t.name);return new e(i)};e.prototype.getPinnedSortMeasure=function(){return this.dataCube.getMeasure(this.pinnedSort)};e.prototype.changePinnedSortMeasure=function(t){var i=this.valueOf();i.pinnedSort=t.name;return new e(i)};e.prototype.switchToMeasure=function(e){var t=this.changeSingleMeasure(e);return t.measureMode?t.toggleMultiMeasureMode():t};e.prototype.toggleMultiMeasureMode=function(){var t=this,i=t.dataCube,n=t.measureMode,r=t.selectedMeasures,a=t.singleMeasure;var o=this.valueOf();o.measureMode=n==="multi"?"single":"multi";if(n==="multi"){if(r.length&&r.indexOf(a)===-1){o.singleMeasure=r[0]}}else{o.selectedMeasures=h(i.getMeasures().map(function(e){return e.name}),o.selectedMeasures,a)}return new e(o)};e.prototype.changeSingleMeasure=function(t){if(t.name===this.singleMeasure)return this;var i=this.valueOf();i.singleMeasure=t.name;i.splits=i.splits.changeSortIfOnMeasure(this.singleMeasure,t.name);i.pinnedSort=t.name;return new e(i)};e.prototype.toggleSelectedMeasure=function(t){var i=this.dataCube;var n=this.valueOf();var a=n.selectedMeasures;var o=t.name;if(a.indexOf(o)!==-1){n.selectedMeasures=r.SimpleArray.delete(a,o)}else{n.selectedMeasures=h(i.getMeasures().map(function(e){return e.name}),a,o)}return new e(n)};e.prototype.toggleEffectiveMeasure=function(e){if(this.getMeasureMode()==="multi"){return this.toggleSelectedMeasure(e)}else{return this.changeSingleMeasure(e)}};e.prototype.acceptHighlight=function(){var e=this.highlight;if(!e)return this;return this.addToFilter(e.delta,true)};e.prototype.changeHighlight=function(t){var i=this.highlight;var n;if(i&&i.owner!==t.owner){n=this.addToFilter(i.delta).valueOf()}else{n=this.valueOf()}n.highlight=t;return new e(n)};e.prototype.dropHighlight=function(){var t=this.valueOf();t.highlight=null;return new e(t)};e.prototype.canInvertHighlight=function(){var e=this.highlight;if(!e)return false;if(this.getDimension(e.delta.clauses[0].dimension).isContinuous())return false;return true};e.prototype.invertHighlight=function(){var e=this.highlight;return this.changeHighlight(e.invert())};e.prototype.getCustomDimensions=function(){return this.customDimensions};e.prototype.changeCustomDimensions=function(t){var i=this.valueOf();i.customDimensions=t||[];return new e(i)};return e}();S.DEFAULT_DEFAULT_MEASURE_MODE={totals:"multi"};t.Essence=S;x=S},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(5);var r=i(16);var a=i(23);var o=i(2);var l=i(6);var s=5;function u(e){if(typeof e==="string"&&!isNaN(Number(e)))return parseFloat(e);return e}function d(e,t){function i(t,i){return t>e||i>e}return{returnValue:M(t),check:i}}function c(e,t,i){var r=[];var a=Math.log(e)/Math.LN10;var o=n.NumberUtils.getNumberOfWholeDigits(e);while(r.length<=t){if(!i){var l=n.NumberUtils.toSignificantDigits(5*Math.pow(10,a-1),o);r.push(M(l))}if(r.length>=t)break;var s=n.NumberUtils.toSignificantDigits(Math.pow(10,a),o);r.push(M(s));a++}return r}function p(e){return e*r.day.canonicalLength}function f(e){return e*r.hour.canonicalLength}function m(e){return e*r.minute.canonicalLength}function g(e){return e*r.year.canonicalLength}var h=function(){function e(){}return e}();h.dimensionKind="time";h.minGranularity=M("PT1M");h.defaultGranularity=M("P1D");h.supportedGranularities=function(){return["PT1S","PT1M","PT5M","PT15M","PT1H","PT6H","PT8H","PT12H","P1D","P1W","P1M","P3M","P6M","P1Y","P2Y"].map(M)};h.checkers=[d(p(95),"P1W"),d(p(8),"P1D"),d(f(8),"PT1H"),d(f(3),"PT5M")];h.coarseCheckers=[d(g(2),"P6M"),d(p(95),"P1M"),d(p(20),"P1W"),d(p(6),"P1D"),d(p(2),"PT12H"),d(f(23),"PT6H"),d(f(3),"PT1H"),d(m(30),"PT5M")];h.defaultGranularities=h.checkers.map(function(e){return e.returnValue}).concat(h.minGranularity).reverse();h.coarseGranularities=h.coarseCheckers.map(function(e){return e.returnValue}).concat(h.minGranularity).reverse();h.get={bucketSize:function(e){return e.duration.getCanonicalLength()},bucketUnit:function(e){return e.duration},fromBucketUnit:function(e){return l.Expression._.timeBucket(e)},startValue:function(e){return e.start.valueOf()},endValue:function(e){return e.end.valueOf()},toString:function(e){return e.duration.toString()},lineChartTicks:function(e,t){var i=e.start,n=e.end;var r=R(e,true);return r.materialize(i,n,t)},newBucketSize:function(e,t){return l.Expression._.timeBucket(t.duration,e.timezone)}};t.TimeHelper=h;var v=function(){function e(){}return e}();v.dimensionKind="number";v.minGranularity=M(1);v.defaultGranularity=M(10);v.checkers=[d(5e3,1e3),d(500,100),d(100,10),d(1,1),d(.1,.1)];v.defaultGranularities=v.checkers.map(function(e){return M(e.returnValue)}).reverse();v.coarseGranularities=null;v.coarseCheckers=[d(5e5,5e4),d(5e4,1e4),d(5e3,5e3),d(1e3,1e3),d(100,100),d(10,10),d(1,1),d(.1,.1)];v.supportedGranularities=function(e){return c(y(e),10)};v.get={bucketSize:function(e){return e.size},bucketUnit:function(e){return e.size},fromBucketUnit:function(e){return l.Expression._.numberBucket(e,0)},startValue:function(e){return e.start},endValue:function(e){return e.end},toString:function(e){return e.size.toString()},lineChartTicks:function(e,t){var i=e,n=i.start,r=i.end;var a=R(e,true);var o=[];var l=Math.round(n*a)/a;while(l<=r){o.push(l);l+=a}return o},newBucketSize:function(e,t){return l.Expression._.numberBucket(t.size,e.offset)}};t.NumberHelper=v;function b(){return{kind:function(e){return e==="time"?h:v},bucketUnit:function(e){return e instanceof r.Duration?h:v},range:function(e){return e instanceof l.TimeRange?h:v},granularity:function(e){return e instanceof l.TimeBucketExpression?h:v}}}var y=function(e){return b().granularity(e).get.bucketSize(e)};var x=function(e){return b().granularity(e).get.bucketUnit(e)};var S=function(e){return b().bucketUnit(e).get.fromBucketUnit(e)};var w=function(e){return b().range(e).get.startValue(e)};var E=function(e){return b().range(e).get.endValue(e)};function C(e,t){var i=n.ArrayUtils.findExactIndex(e,t,y);if(i!==-1){return e[i]}var r=n.ArrayUtils.findFirstBiggerIndex(e,t,y);if(r!==-1){return e[r]}return e[n.ArrayUtils.findMaxValueIndex(e,y)]}function T(e,t,i){var r=n.ArrayUtils.findFirstBiggerIndex(e,t,y);var a=e.slice(r,r+s);if(n.ArrayUtils.findExactIndex(a,t,y)===-1){a=[t].concat(a.slice(0,a.length-1))}return a}function M(e){e=u(e);if(typeof e==="number")return l.Expression._.numberBucket(e);if(typeof e==="string")return l.Expression._.timeBucket(e);if(typeof e==="object"){if(!a(e,"action")&&!a(e,"op")){throw new Error("could not recognize object as action")}return l.Expression.fromJS(e)}throw new Error("input should be of type number, string, or expression")}t.granularityFromJS=M;function N(e){if(!e)return"none";return b().granularity(e).get.toString(e)}t.granularityToString=N;function k(e,t){return o.immutableEqual(e,t)}t.granularityEquals=k;function D(e){var t=e.toJS();if(t.op==="timeBucket"){if(Object.keys(t).length===2)return t.duration}if(t.op==="numberBucket"){if(Object.keys(t).length===2)return t.size}return t}t.granularityToJS=D;function I(e,t){if(!t)return null;if(!e)return t;return b().granularity(e).get.newBucketSize(e,t)}t.updateBucketSize=I;function A(e,t,i,n){var r=b().kind(e);var a=r.defaultGranularities,o=r.coarseGranularities;if(!t){return i&&o?o:a}var l=r.supportedGranularities(t);return T(l,t,n)}t.getGranularities=A;function O(e,t,i){if(t)return t;if(i)return i[2];return b().kind(e).defaultGranularity}t.getDefaultGranularityForKind=O;function _(e,t,i,n){return S(R(e,t,i,n))}t.getBestGranularityForRange=_;function R(e,t,i,r){var a=Math.abs(E(e)-w(e));var o=b().range(e);var l=i?y(i):0;var s=t&&o.coarseCheckers?o.coarseCheckers:o.checkers;for(var u=0;u<s.length;u++){var d=s[u],c=d.returnValue,p=d.check;if(p(a,l)){if(i){var f=r||A(o.dimensionKind,i);var m=n.ArrayUtils.findBiggerClosestToIdeal(f,i,c,y);if(m===null)return x(o.defaultGranularity);return x(m)}else{if(!r)return x(c);return x(C(r,c))}}}var g=r?r[n.ArrayUtils.findMinValueIndex(r,y)]:o.minGranularity;var h=l>y(g)?i:g;return x(h)}t.getBestBucketUnitForRange=R;function L(e,t){return b().range(e).get.lineChartTicks(e,t)}t.getLineChartTicks=L},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=i(108);var o=function(e){n.__extends(t,e);function t(t){return e.call(this,t)||this}t.isTimekeeper=function(e){return e instanceof t};t.globalNow=function(){return new Date};t.fromJS=function(e){return new t(r.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.now=function(){return this.nowOverride||t.globalNow()};t.prototype.hasTime=function(e){var t=r.NamedArray.findByName(this.timeTags,e);return Boolean(t&&t.time)};t.prototype.getTime=function(e){var t=r.NamedArray.findByName(this.timeTags,e);if(!t)return this.now();return t.time||this.now()};t.prototype.touch=function(e){var i=this.valueOf();var n=r.NamedArray.findByName(i.timeTags,e);if(!n)return this;i.timeTags=r.NamedArray.overrideByName(i.timeTags,n.touch(this.now()));return new t(i)};t.prototype.addOrUpdateTimeTagFor=function(e,i){if(i===void 0){i=null}var n=this.valueOf();var o=r.NamedArray.findByName(n.timeTags,e);if(o){o=o.changeTime(i,this.now())}else{o=new a.TimeTag({name:e,time:i,updated:this.now()})}n.timeTags=r.NamedArray.overrideByName(n.timeTags,o);return new t(n)};t.prototype.removeTimeTagFor=function(e){return this.changeTimeTags(r.NamedArray.deleteByName(this.timeTags,e))};t.prototype.getTimeTagsNotUpdatedSince=function(e){return this.timeTags.filter(function(t){return!t.updated||t.updated<e})};t.prototype.getTimeTagsWithoutTime=function(){return this.timeTags.filter(function(e){return!e.time})};return t}(r.BaseImmutable);o.PROPERTIES=[{name:"timeTags",type:r.PropertyType.ARRAY,immutableClassArray:a.TimeTag},{name:"nowOverride",type:r.PropertyType.DATE,defaultValue:null}];t.Timekeeper=o;r.BaseImmutable.finalize(o);o.EMPTY=new o({timeTags:[]})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=i(66);var o="admin@admin.com";var l={name:o,email:"admin@admin.com",hashStrategy:"none",firstName:"Default",lastName:"Admin",permissionType:"admin",status:"ok"};var s=function(e){n.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.isUser=function(e){return e instanceof t};t.modeNeedsUserButton=function(e){return e==="native-users"||e==="external-users"||e==="external-users-and-session"};t.modeNeedsUserTable=function(e){return e==="native-users"};t.fromJS=function(e){var i=e.id;if(i&&!e.name){e.name=i}if(e.status==="passwordReset")e.status=t.STATUS_OK;return new t(r.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.fromName=function(e){return new t({name:e})};t.prototype.canAccessSettings=function(){return this.getPermissionType()==="admin"};t.prototype.getStatusDisplay=function(){var e=this.getStatus();switch(e){case t.STATUS_INVITATION_LINK:return a.STRINGS.invitationLink;default:return a.STRINGS.ok}};t.prototype.getDisplayName=function(){var e=this,t=e.firstName,i=e.lastName;if(t&&i)return t+" "+i;return t||i||"???"};t.prototype.equalsByName=function(e){if(!e)return false;return this.name===e.name};return t}(r.BaseImmutable);s.PERMISSION_TYPES=["user","admin"];s.STATUS_INVITATION_LINK="invitationLink";s.STATUS_NEEDS_TO_SET_PASS="needsToSetPass";s.STATUS_OK="ok";s.STATUSES=[s.STATUS_INVITATION_LINK,s.STATUS_OK,s.STATUS_NEEDS_TO_SET_PASS];s.PROPERTIES=[{name:"name"},{name:"email",defaultValue:null},{name:"firstName",defaultValue:null},{name:"lastName",defaultValue:null},{name:"permissionType",possibleValues:s.PERMISSION_TYPES,defaultValue:"user"},{name:"status",defaultValue:s.STATUS_OK,possibleValues:s.STATUSES}];t.User=s;r.BaseImmutable.finalize(s);s.DEFAULT_ADMIN=new s(l);s.DEFAULT_ADMIN_NAME=s.DEFAULT_ADMIN.name},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TITLE_HEIGHT=36;t.MEASURE_HEIGHT=27;t.CORE_ITEM_WIDTH=192;t.CORE_ITEM_GAP=8;t.PIN_TITLE_HEIGHT=36;t.PIN_ITEM_HEIGHT=25;t.PIN_PADDING_BOTTOM=12
;t.VIS_H_PADDING=10;t.OVERFLOW_WIDTH=40;t.SPLIT="SPLIT";t.MAX_SEARCH_LENGTH=300;t.SEARCH_WAIT=900;t.DATA_CUBES_STRATEGIES_LABELS={none:"None","no-autofill":"No autofill","autofill-dimensions-only":"Autofill dimensions only","autofill-measures-only":"Autofill measures only","autofill-all":"Autofill all"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){while(e){if(e.classList.contains(t))return e;e=e.parentNode}return null}t.findParentWithClass=n;var r=0;function a(e){return e+r++}t.uniqueId=a;function o(e,t){var i=String(e);var n=String(t);if(i!=="0")i+="px";if(n!=="0")n+="px";var r="translate("+i+","+n+")";return{transform:r,WebkitTransform:r,MsTransform:r}}t.transformStyle=o;function l(e){return Math.round(e-.5)+.5}t.roundToHalfInteger=l},,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(2);var o=i(26);var l=i(40);var s=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;i.title=i.title||r.StringUtils.makeTitle(name);return i}t.isCollectionTile=function(e){return e instanceof t};t.fromEssence=function(e,i){return new t({name:e,title:i.getTitle(),description:"",essence:i,group:null,dataCube:i.dataCube})};t.fromJS=function(e,i){if(!i)throw new Error("CollectionTile must have context");var n=i.dataCubes,o=i.visualizations;var s=e.dataCube;var u=a.SimpleArray.find(n,function(e){return e.name===s});if(!u)throw new Error("can not find dataCube '"+s+"'");var d=l.Essence.fromJS(e.essence,{dataCube:u,visualizations:o});return new t({name:e.name,title:e.title,description:e.description,position:e.position?r.Stage.fromJS(e.position):null,group:e.group,dataCube:u,essence:d})};t.prototype.equals=function(e){return t.isCollectionTile(e)&&this.name===e.name&&this.title===e.title&&this.description===e.description&&a.immutableEqual(this.position,e.position)&&this.group===e.group&&this.dataCube.name===e.dataCube.name&&a.immutableEqual(this.essence,e.essence)};t.prototype.getEffectiveEssence=function(e){var t=this.essence;if(!e)return t;return t.addToFilter(e.filter).changeHighlight(e.highlight)};return t}(a.BaseImmutable);s.PROPERTIES=[{name:"name",validate:r.StringUtils.verifyUrlSafeName},{name:"title",defaultValue:null},{name:"description",defaultValue:null},{name:"position",immutableClass:r.Stage,defaultValue:null},{name:"group",defaultValue:null},{name:"dataCube",immutableClass:o.DataCube,toJS:function(e){return e.name}},{name:"essence",immutableClass:l.Essence}];t.CollectionTile=s;a.BaseImmutable.finalize(s)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(16);var a=i(2);var o=i(171);var l=i(56);var s=function(e){n.__extends(t,e);function t(t){return e.call(this,t)||this}t.isCustomization=function(e){return e instanceof t};t.fromJS=function(e){return new t(a.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.getTitleWithVersion=function(e){return this.getTitle().replace(/%v/g,e)};t.prototype.getIssueWithPass=function(e){var i=Object.assign({},t.DEFAULT_PASS_RULE_OPTIONS,this.getPassRuleOptions());o.config(i);var n=o.test(e);if(n.requiredTestErrors.length){return n.requiredTestErrors[0]}return null};t.prototype.getHeaderStyle=function(){var e=this.headerBackground;return e?{background:e}:null};return t}(a.BaseImmutable);s.SETTINGS_MODE_NORMAL="normal";s.SETTINGS_MODE_SUPPRESSED="suppressed";s.DEFAULT_TITLE="Pivot (%v)";s.DEFAULT_TIMEZONES=[new r.Timezone("America/Juneau"),new r.Timezone("America/Los_Angeles"),new r.Timezone("America/Yellowknife"),new r.Timezone("America/Phoenix"),new r.Timezone("America/Denver"),new r.Timezone("America/Mexico_City"),new r.Timezone("America/Chicago"),new r.Timezone("America/New_York"),new r.Timezone("America/Argentina/Buenos_Aires"),r.Timezone.UTC,new r.Timezone("Asia/Jerusalem"),new r.Timezone("Europe/Paris"),new r.Timezone("Asia/Kathmandu"),new r.Timezone("Asia/Hong_Kong"),new r.Timezone("Asia/Seoul"),new r.Timezone("Pacific/Guam")];s.DEFAULT_LOGOUT_HREF="logout";s.DEFAULT_PASS_RULE_OPTIONS={allowPassphrases:true,maxLength:128,minLength:8,minPhraseLength:20,minOptionalTestsToPass:4};s.PROPERTIES=[{name:"title",defaultValue:s.DEFAULT_TITLE},{name:"headerBackground",defaultValue:null},{name:"customLogoSvg",defaultValue:null},{name:"externalViews",defaultValue:[],immutableClassArray:l.ExternalView},{name:"timezones",defaultValue:s.DEFAULT_TIMEZONES,immutableClassArray:r.Timezone},{name:"logoutHref",defaultValue:s.DEFAULT_LOGOUT_HREF},{name:"launcherHref",defaultValue:null},{name:"singleClusterMode",defaultValue:false},{name:"passRuleOptions",defaultValue:s.DEFAULT_PASS_RULE_OPTIONS,equal:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{name:"settingsMode",defaultValue:s.SETTINGS_MODE_NORMAL}];t.Customization=s;a.BaseImmutable.finalize(s)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;var r=function(){function e(e){var t=e.title,i=e.linkGenerator;if(!t)throw new Error("External view must have title");if(typeof i!=="string")throw new Error("Must provide link generator function");this.title=t;this.linkGenerator=i;var n=null;try{n=new Function("dataCube","dataSource","timezone","filter","splits",i)}catch(e){throw new Error("Error constructing link generator function: "+e.message)}this.linkGeneratorFn=function(e,r,a,o){try{return n(e,e,r,a,o)}catch(e){console.warn("Error with custom link generating function '"+t+"': "+e.message+" ["+i+"]");return null}};this.sameWindow=Boolean(e.sameWindow)}e.isExternalView=function(t){return t instanceof e};e.fromJS=function(t){var i=t;return new e({title:i.title,linkGenerator:i.linkGenerator,linkGeneratorFn:i.linkGeneratorFn,sameWindow:i.sameWindow})};e.prototype.toJS=function(){var e={title:this.title,linkGenerator:this.linkGenerator};if(this.sameWindow===true)e.sameWindow=true;return e};e.prototype.valueOf=function(){var e={title:this.title,linkGenerator:this.linkGenerator};if(this.sameWindow===true)e.sameWindow=true;return e};e.prototype.toJSON=function(){return this.toJS()};e.prototype.equals=function(t){return e.isExternalView(t)&&this.title===t.title&&this.linkGenerator===t.linkGenerator&&this.sameWindow===t.sameWindow};e.prototype.toString=function(){return this.title+": "+this.linkGenerator};return e}();t.ExternalView=r;n=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=i(27);var o=function(e){n.__extends(t,e);function t(t){return e.call(this,t)||this}t.isHighlight=function(e){return e instanceof t};t.fromJS=function(e){return new t(r.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.toString=function(){return"[Highlight "+this.owner+"]"};t.prototype.equals=function(e){return t.isHighlight(e)&&this.owner===e.owner&&this.delta.equals(e.delta)&&this.measure===e.measure};t.prototype.constrainToDimensions=function(e){var i=this.delta;var n=i.constrainToDimensions(e);if(n===i)return this;if(n.length()===0)return null;var r=this.valueOf();r.delta=n;return new t(r)};t.prototype.invert=function(){var e=this.valueOf();e.delta=e.delta.toggleMode();return new t(e)};return t}(r.BaseImmutable);o.PROPERTIES=[{name:"owner"},{name:"delta",immutableClass:a.Filter},{name:"measure",defaultValue:null}];t.Highlight=o;r.BaseImmutable.finalize(o)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=i(22);var o=i(17);var l=i(21);var s=function(e){n.__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.name="bar-chart";t.title="Bar Chart";return t}t.prototype.canHandleSplitDimensions=function(e,t,i,n){var r=function(t){var i=e.filter(function(e){return e.kind===t}).slice(0,2);return i.length?i:null};var o=r("number")||r("boolean")||r("string")||[];var s=function(e){return a.SplitCombine.fromDimensionAndFilterAndMeasure(e,i,n)};if(!t.length){return l.Resolve.rejectDimensions("The Bar Chart requires at least one split",o.map(function(e){return l.SplitSuggestion.fromTitleAndSplit("Add a split on "+e.title,s(e))}))}else if(t.length>2){return l.Resolve.rejectDimensions("Too many splits on the bar chart",[l.SplitSuggestion.fromTitleAndSplit("Remove all but the first split",s(t[0]))])}else{return l.Resolve.proceedWithDimensions()}};t.prototype.getSuitability=function(e,t,i,n){var a=n?10:4;if(t.length()===1&&r.NamedArray.findByName(e,t.first().dimension).getKind()==="number")a=10;if(t.splitCombines.some(function(e){return!e.limitAction})){a=a-1}return new l.Suitability(a)};t.prototype.getEffectiveSplits=function(e){var t=false;var i=e.splitCombines.map(function(e){if(!e.limitAction){t=true;return e.changeLimit(25)}return e});return t?new o.Splits(i):e};return t}(l.Manifest);t.BarChartManifest=s;t.BAR_CHART_MANIFEST=new s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(22);var a=i(21);var o=function(e){n.__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.name="geo";t.title="Geo";return t}t.prototype.canHandleSplitDimensions=function(e,t,i,n){if(t.length&&t.every(function(e){return e.geo})){return a.Resolve.proceedWithDimensions()}var o=e.filter(function(e){return e.isGeo()});if(o.length){return a.Resolve.rejectDimensions("The Geo visualization requires one geo split",o.map(function(e){return a.SplitSuggestion.fromTitleAndSplit("Split on "+e.title,r.SplitCombine.fromDimensionAndFilterAndMeasure(e,i,n))}))}else{return a.Resolve.rejectDimensions("The Geo visualization needs a geo split.",[])}};t.prototype.getSuitability=function(e,t,i,n){var r=t.splitCombines.some(function(e){return!e.sortAction});return r?new a.Suitability(8):new a.Suitability(10)};return t}(a.Manifest);t.GeoManifest=o;t.GEO_MANIFEST=new o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(22);var a=i(17);var o=i(21);var l=function(e){n.__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.name="heatmap";t.title="Heatmap";return t}t.prototype.canHandleSplitDimensions=function(e,t,i,n){if(t.length===2)return o.Resolve.proceedWithDimensions();var l=e.slice(0,2);var s=function(e){return r.SplitCombine.fromDimensionAndFilterAndMeasure(e,i,n)};if(l.length!==2){return o.Resolve.rejectDimensions("Not enough dimensions in this data cube for a Heatmap",[])}if(!t.length){return o.Resolve.rejectDimensions("The Heatmap requires two splits",[o.SplitSuggestion.fromTitleAndSplits("splitting on "+l.map(function(e){return e.title}).join(", "),new a.Splits(l.map(s)))])}else if(t.length===1){var u=t[0];var d=e.find(function(e){return!e.equals(u)});if(!d)throw new Error;return o.Resolve.rejectDimensions("The Heatmap requires two splits",[o.SplitSuggestion.fromTitleAndSplits("adding a split on "+d.title,new a.Splits([s(u),s(d)]))])}else{return o.Resolve.rejectDimensions("Too many splits on the Heatmap",[o.SplitSuggestion.fromTitleAndSplits("removing all but the first two splits",new a.Splits(l.map(s)))])}};t.prototype.getEffectiveSplits=function(e){var t=false;var i=new a.Splits(e.splitCombines.map(function(e){if(!e.limitAction){t=true;return e.changeLimit(25)}return e}));return t?i:e};t.prototype.getSuitability=function(e,t,i,n){var r=t.splitCombines.filter(function(t){return t.getDimension(e).isContinuous()}).length;return new o.Suitability(3+(r>1?6:0))};return t}(o.Manifest);t.HeatmapManifest=l;t.HEATMAP_MANIFEST=new l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(6);var a=i(39);var o=i(22);var l=i(17);var s=i(21);var u=function(e){n.__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.name="line-chart";t.title="Line Chart";return t}t.prototype.ensureSplitOrder=function(e,t,i,n){if(e.toArray().every(function(e){return e.isBucketed()})){var r=e.splitCombines.filter(function(e){return e.getDimension(n).getKind()==="time"});var a=null;if(r.length>=1)a=r[0];if(a&&t!==a){return{primarySplit:a,colorSplit:t}}}return{primarySplit:t,colorSplit:i}};t.prototype.summonBucketableSplit=function(e,t,i){var n=e.isSortOnSelfAscending();var a=e.limitAction,o=e.bucketAction;if(n&&!a&&o)return e;var l=e.dimension;if(!o)e=e.addBucketGivenFilter(i,t);if(!n)e=e.changeSortAction(r.Expression._.sort(r.$(l),r.SortExpression.ASCENDING));if(a)e=e.changeLimitAction(null);return e};t.prototype.summon=function(e,t,i,n,r){var a=this;var o=t.splitCombines.find(function(t){return t.isBucketable(e)});var s=function(e){return{splits:new l.Splits(e)}};var u=function(t){return a.summonBucketableSplit(t,e,i)};if(t.length()===1&&o){return s([u(o)])}else if(t.isBucketedFollowedByUnbucketed()){var d=t.get(0);var c=t.get(1);var p=this.ensureSplitOrder(t,d,c,e),f=p.primarySplit,m=p.colorSplit;return s([m,u(f)])}else if(t.length()===2&&o){var m=t.splitCombines.filter(function(e){return!e.equals(o)})[0];if(m.isBucketable(e))return null;return s([m,u(o)])}return null};t.prototype.canHandleSplitDimensions=function(e,t,i,n){var r=e.filter(function(e){return e.isBucketable()});var a=function(e){return o.SplitCombine.fromDimensionAndFilterAndMeasure(e,i,n)};if(!t.some(function(e){return e.isBucketable()})){return s.Resolve.rejectDimensions("The Line chart requires at least one bucketed split",r.map(function(e){return s.SplitSuggestion.fromTitleAndSplit("Add a split on "+e.title,a(e))}))}else if(!t.length){return s.Resolve.rejectDimensions("The Line Chart requires at least one bucketed split",r.map(function(e){return s.SplitSuggestion.fromTitleAndSplit("Add a split on "+e.title,a(e))}))}else if(t.length>2&&r.length){return s.Resolve.rejectDimensions("Too many splits on the line chart",[s.SplitSuggestion.fromTitleAndSplit("Remove all but the first bucketed split",a(t[0]))])}else{return s.Resolve.proceedWithDimensions()}};t.prototype.getSuitability=function(e,t,i,n){var r=false;var a=t.splitCombines.some(function(t){return t.getDimension(e).getKind()==="time"})?9:5;var o=null;if(t.length()===1){o=t.first();if(i)r=true}else{var l=t.first();o=t.get(1);if(!i||i.dimension!==l.dimension||!l.limitAction){r=true}}if(n)a=10;if(o.limitAction){var u=s.Resolve.rejectCombines("The line chart cannot handle a limit",["table","bar-chart"]);return new s.Suitability(0,u)}if(!o.isSortOnSelfAscending()){var u=s.Resolve.rejectCombines("The line chart cannot handle this sort",["table"]);return new s.Suitability(0,u)}if(!o.isBucketed()){var u=s.Resolve.rejectCombines("The line chart must have a bucketed second split",["table"]);return new s.Suitability(0,u)}return new s.Suitability(r?a-1:a)};t.prototype.getEffectiveSplits=function(e){if(e.length()===2){var t=e.first();if(!t.limitAction){e=e.replace(t,t.changeLimit(5))}}return e};t.prototype.getEffectiveColors=function(e,t){if(e.length()===0||e.length()===1){t=null}else{var i=e.first();var n=i.dimension;if(!t||t.dimension!==n){t=a.Colors.fromLimit(n,5)}}return t};return t}(s.Manifest);t.LineChartManifest=u;t.LINE_CHART_MANIFEST=new u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(22);var a=i(17);var o=i(21);var l=function(e){n.__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.name="table";t.title="Table";return t}t.prototype.canHandleSplitDimensions=function(e,t,i,n){if(!t.length){var a=e.filter(function(e){return e.getKind()==="string"}).slice(0,2);var l=function(e){return r.SplitCombine.fromDimensionAndFilterAndMeasure(e,i,n)};return o.Resolve.rejectDimensions("The Table requires at least one split",a.map(function(e){return o.SplitSuggestion.fromTitleAndSplit("Add a split on "+e.title,l(e))}))}return o.Resolve.proceedWithDimensions()};t.prototype.getSuitability=function(e,t,i,n){var r=t.splitCombines.some(function(e){return!e.limitAction});var a=4;if(!r){a+=2}if(n){a+=1}return new o.Suitability(a)};t.prototype.getEffectiveSplits=function(e){var t=false;var i=new a.Splits(e.splitCombines.map(function(e,i){if(!e.limitAction){t=true;return e.changeLimit(i?5:50)}return e}));return t?i:e};return t}(o.Manifest);t.TableManifest=l;t.TABLE_MANIFEST=new l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(17);var a=i(21);var o=function(e){n.__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.name="totals";t.title="Totals";return t}t.prototype.summon=function(e,t,i,n,a){return t.length()?{splits:r.Splits.EMPTY}:null};t.prototype.canHandleSplitDimensions=function(e){return a.Resolve.proceedWithDimensions()};t.prototype.getSuitability=function(e,t,i,n){return!t.length()?a.Suitability.MAX:new a.Suitability(0)};return t}(a.Manifest);t.TotalsManifest=o;t.TOTALS_MANIFEST=new o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=function(e){n.__extends(t,e);function t(t){if(t===void 0){t={}}return e.call(this,t)||this}t.fromJS=function(e){return new t(r.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.getFilter=function(e){return e.expression};t.fromExpression=function(e){if(!e)return null;var i=false;if(!e){return new t({column:null,operator:null,value:""})}if(e.op==="not"){e=e.operand;i=true}var n;if(["is","isnt"].indexOf(e.op)>-1){n=i?"!=":"=="}return new t({column:e.operand.name,operator:n,value:e.expression.value})};t.prototype.isSimpleFilter=function(){return!!this.column&&!!this.operator};t.prototype.toString=function(){return"$"+this.column+" "+this.operator+" '"+(this.value||"")+"'"};return t}(r.BaseImmutable);a.OPERATORS=[{label:"is",value:"=="},{label:"is not",value:"!="}];a.PROPERTIES=[{name:"column",defaultValue:"count"},{name:"operator",defaultValue:a.OPERATORS[0].value,possibleValues:a.OPERATORS.map(function(e){return e.value})},{name:"value",defaultValue:""}];t.MeasureFilter=a;r.BaseImmutable.finalize(a)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;var r=function(){function e(t){var i=t.rule;if(i!==e.FIXED&&i!==e.QUERY&&i!==e.REALTIME){throw new Error("rule must be on of: "+e.FIXED+", "+e.QUERY+", or "+e.REALTIME)}this.rule=i;this.time=t.time}e.isRefreshRule=function(t){return t instanceof e};e.query=function(){return new e({rule:e.QUERY})};e.fromJS=function(t){var i={rule:t.rule};if(t.time){i.time=new Date(t.time)}return new e(i)};e.prototype.valueOf=function(){var e={rule:this.rule};if(this.time){e.time=this.time}return e};e.prototype.toJS=function(){var e={rule:this.rule};if(this.time){e.time=this.time}return e};e.prototype.toJSON=function(){return this.toJS()};e.prototype.toString=function(){return"[RefreshRule: "+this.rule+"]"};e.prototype.equals=function(t){return e.isRefreshRule(t)&&this.rule===t.rule&&(!this.time||this.time.valueOf()===t.time.valueOf())};e.prototype.isFixed=function(){return this.rule===e.FIXED};e.prototype.isQuery=function(){return this.rule===e.QUERY};e.prototype.isRealtime=function(){return this.rule===e.REALTIME};e.prototype.change=function(t,i){var n=this.valueOf();n[t]=i;return new e(n)};return e}();r.FIXED="fixed";r.QUERY="query";r.REALTIME="realtime";t.RefreshRule=r;n=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.STRINGS={current:"Current",day:"Day",days:"Days",hour:"Hour",hours:"Hours",invitationLink:"Invitation Link",latest:"Latest",month:"Month",ok:"OK",passwordReset:"Password Reset",previous:"Previous",quarter:"Quarter",week:"Week",year:"Year",yes:"Yes"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(130);var o=i(2);var l=i(43);var s=r.HashUtils.sha2,u=r.HashUtils.bcryptHashSync,d=r.HashUtils.saltedSha2,c=r.HashUtils.bcryptCompare,p=r.HashUtils.bcryptHash;var f={name:l.User.DEFAULT_ADMIN_NAME,hashStrategy:"none"};var m=function(e){n.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.getValidUser=function(e,t,i,n){var r=o.NamedArray.findByName(e,t);if(r)return r.passEquals(i,n).then(function(e){return e?r:null});return a.resolve(null)};t.getDefaultAdmin=function(e){var i=Object.assign({},f,{pass:e,hashStrategy:"none"});return new t(i)};t.fromJS=function(e){return new t(o.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.getHashStrategy=function(){var e=this.hashStrategy;return e||t.DEFAULT_HASH_STRATEGY};t.prototype.passEquals=function(e,t){if(!e)return a.resolve(false);var i=this.getHashStrategy();var n=this.pass;switch(i){case"none":return a.resolve(this.pass===e);case"sha2":return a.resolve(t?s(t+e)===n:d(e)===n);case"bcrypt":return c(e,n);default:throw new Error("unrecognized strategy "+i)}};t.prototype.updatePass=function(e){var t=this;if(this.name===f.name){throw new Error("Cannot change password for default admin")}var i=this.getHashStrategy();if(i==="sha2"){return a.resolve(this.changePass(d(e)))}else if(i==="bcrypt"){return p(e).then(function(e){return t.changePass(e)})}else{return a.resolve(this.changePass(e))}};t.prototype.toJS=function(){var t=this,i=t.name,n=t.hashStrategy;if(i===f.name&&n===f.hashStrategy){return f}return e.prototype.toJS.call(this)};t.prototype.toClientUser=function(){return l.User.fromName(this.name)};return t}(o.BaseImmutable);m.DEFAULT_HASH_STRATEGY="bcrypt";m.PROPERTIES=[{name:"name"},{name:"pass",defaultValue:null},{name:"hashStrategy",defaultValue:m.DEFAULT_HASH_STRATEGY}];t.UserAuth=m;o.BaseImmutable.finalize(m)},function(e,t,i){var n=i(113);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../node_modules/css-loader/index.js!./entry.css",function(){var t=require("!!../../node_modules/css-loader/index.js!./entry.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(1);i(195);var l=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props.label;return o.createElement("div",{className:"loader"},o.createElement(r.SvgIcon,{svg:a.GRID_LOADER}),e?o.createElement("div",{className:"label"},e):null)};return t}(o.Component);t.Loader=l},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(16);var r=i(23);var a=i(93);var o="YYYY-MM-DD[T]HH:mm:ss";var l="MMM D, YYYY";var s="MMM D";function u(e){return e.minutes()?e.format("h:mma"):e.format("ha")}function d(e,t){var i=a.tz(new Date,t.toString());return i.year()===e}var c;(function(e){e[e["ALWAYS"]=0]="ALWAYS";e[e["NEVER"]=1]="NEVER";e[e["IF_DIFF"]=2]="IF_DIFF"})(c=t.DisplayYear||(t.DisplayYear={}));function p(e,t){return a.tz(f(e),t.toString())}t.getEndWallTimeInclusive=p;function f(e){return new Date(e.valueOf()-1)}t.exclusiveToInclusiveEnd=f;function m(e,t,i){var n=e.start,r=e.end;var o=a.tz(n,t.toString());var f=a.tz(r,t.toString());var m=p(r,t);var g=true;var h;if(o.year()!==m.year()){h=[o.format(l),m.format(l)].join(" - ")}else{g=i===c.ALWAYS||i===c.IF_DIFF&&!d(m.year(),t);var v=g?l:s;if(o.month()!==m.month()||o.date()!==m.date()){h=[o.format(s),m.format(v)].join(" - ")}else{h=o.format(v)}}if(o.hours()||o.minutes()||f.hours()||f.minutes()){h+=g?" ":", ";var b=u(o).toLowerCase();var y=u(f).toLowerCase();if(b===y){h+=b}else{if(b.substr(-2)===y.substr(-2)){b=b.substr(0,b.length-2)}h+=[b,y].join("-")}}return h}t.formatTimeRange=m;function g(e,t){var i=[];var r=n.month.shift(e,t,1);var o=[];var l=n.day.floor(e,t);while(l<r){var s=a.tz(l,t.toString());if(s.day()===a.localeData().firstDayOfWeek()&&o.length>0){i.push(o);o=[]}o.push(l);l=n.day.shift(l,t,1)}if(o.length>0)i.push(o);return i}t.monthToWeeks=g;function h(e,t,i){for(var r=0;r<i;r++){var a=t[0];var o=n.day.shift(a,e,-1);t.unshift(o)}return t}t.prependDays=h;function v(e,t,i){for(var r=0;r<i;r++){var a=t[t.length-1];var o=n.day.shift(a,e,1);t.push(o)}return t}t.appendDays=v;function b(e,t){return n.day.shift(e,t,1)}t.shiftOneDay=b;function y(e,t){if(!Boolean(e)===Boolean(t))return false;if(e===t)return true;return e.valueOf()===t.valueOf()}t.datesEqual=y;function x(e,t){return a.tz(e,t.toString()).date()}t.getWallTimeDay=x;function S(e,t){return a.tz(e,t.toString()).format("MMMM YYYY")}t.getWallTimeMonthWithYear=S;function w(e,t,i){if(!Boolean(e)===Boolean(t))return false;if(e===t)return true;var n=p(e,i);var r=p(t,i);return n.valueOf()===r.valueOf()}t.wallTimeInclusiveEndEqual=w;function E(e,t,i,n){var r=a.tz(e,t.toString()).format(o);if(i){return r.replace("T",n||", ")}return r.replace(/:\d\d/,"").split("T")[0]}t.getWallTimeString=E;function C(e,t,i){var n=a.tz(e.start,i.toString());var r=t.toJS();var l=r.substring(r.length-1);switch(l){case"S":return n.format("MMM D, hh:mm:ss");case"M":var s=r.substring(0,2);return s==="PT"?n.format("MMM D, h:mma"):n.format("MMM, YYYY");case"H":return n.format("MMM D YYYY, ha");case"D":return n.format("MMM D, YYYY");case"W":return""+m(e,i,c.ALWAYS);default:return n.format(o)}}t.formatTimeBasedOnGranularity=C;function T(e){return e&&r(e,"boundary")}t.isBoundaryTick=T;function M(e,t,i){var r=a.tz(e,i.toString());var o=t.end.valueOf()-t.start.valueOf();if(o<6*n.hour.canonicalLength){if(r.minute()===0)return r.format("hA");return r.format("hh:mm")}else if(o<3*n.day.canonicalLength){if(r.hour()===0)return{value:r.format("hA"),boundary:r.format("MMM DD")};return r.format("hA")}else if(o<6*n.day.canonicalLength){if(r.hour()===0)return r.format("MMM DD");return r.format("hh:mm")}else if(o<20*n.day.canonicalLength){if(r.date()===0)return{value:r.format("ddd DD"),boundary:r.format("MMMM")};return r.format("ddd DD")}else if(o<95*n.day.canonicalLength){return r.format("MMM DD")}else if(o<2*n.year.canonicalLength){if(r.month()===0)return{value:r.format("MMMM"),boundary:r.format("YYYY")};return r.format("MMM")}return r.format("MMM YYYY")}t.formatAxisBasedOnRange=M;function N(e){return e.replace(/^PT?/,"")}t.formatGranularity=N},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(9);var a=i(1);i(414);var o=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.highlightInString=function(){var e=this.props,t=e.text,i=e.highlight;if(!i)return t;var n=null;var r=null;if(typeof i==="string"){var o=t.toLowerCase();n=o.indexOf(i.toLowerCase());if(n===-1)return t;r=i.toLowerCase()}else{var l=t.match(i);if(!l)return t;r=l[0];n=l.index}var s=n+r.length;return[a.createElement("span",{className:"pre",key:"pre"},t.substring(0,n)),a.createElement("span",{className:"bold",key:"bold"},t.substring(n,s)),a.createElement("span",{className:"post",key:"post"},t.substring(s))]};t.prototype.render=function(){var e=this.props.className;return a.createElement("span",{className:r("highlight-string",e)},this.highlightInString())};return t}(a.Component);t.HighlightString=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e.replace(/^[ _\-]+|[ _\-]+$/g,"").replace(/(^|[_\-]+)\w/g,function(e){return e.replace(/[_\-]+/," ").toUpperCase()}).replace(/[a-z0-9][A-Z]/g,function(e){return e[0]+" "+e[1]})}t.makeTitle=n;function r(e,t){var i;var n=function(){i=null;t()};return function(){if(!i){i=setTimeout(n,e)}}}t.collect=r;var a=/[^\w.~\-]+/g;function o(e){return e.replace(a,"_")}t.makeUrlSafeName=o;function l(e){if(typeof e!=="string")throw new TypeError("name must be a string");if(!e.length)throw new Error("can not have empty name");var t=o(e);if(e!==t){throw new Error("'"+e+"' is not a URL safe name. Try '"+t+"' instead?")}}t.verifyUrlSafeName=l;function s(e){return e.reduce(function(e,t){return e+t},0)}t.arraySum=s;function u(e,t,i){if(!t)return-1;var n=i(t);return e.findIndex(function(e){return i(e)>n})}t.findFirstBiggerIndex=u;function d(e,t,i,n){var r=e.findIndex(function(e){return n(e)>=n(t)});var a=e.slice(r);return a.reduce(function(e,t,r,a){return Math.abs(n(e)-n(i))<Math.abs(n(t)-n(i))?e:t})}t.findBiggerClosestToIdeal=d;function c(e,t,i){return e.findIndex(function(e){return i(e)===i(t)})}t.findExactIndex=c;function p(e,t){return e.reduce(function(e,i,n,r){return t(i)>t(r[e])?n:e},0)}t.findMaxValueIndex=p;function f(e,t){return e.reduce(function(e,i,n,r){return t(i)<t(r[e])?n:e},0)}t.findMinValueIndex=f;function m(e){return Math.log(e)*Math.LOG10E}function g(e,t){var i=Math.pow(10,t-Math.floor(Math.log(e)/Math.LN10)-1);return Math.round(e*i)/i}t.toSignificantDigits=g;function h(e){return Math.max(Math.floor(m(Math.abs(e))),0)+1}t.getNumberOfWholeDigits=h;function v(e,t){return JSON.parse(JSON.stringify(e).replace(/%\{[\w\-]+\}%/g,function(e){e=e.substr(2,e.length-4);var i=t[e];if(typeof i!=="string")throw new Error("could not find variable '"+e+"'");i=JSON.stringify(i);return i.substr(1,i.length-2)}))}t.inlineVars=v;function b(e,t,i){if(t.indexOf(e)!==-1)return;var n=typeof e==="undefined"?"not defined":"'"+e+"'";throw new Error(i+" must be on of '"+t.join("', '")+"' (is "+n+")")}t.ensureOneOf=b;function y(e,t){return e+" "+t+(e===1?"":"s")}t.pluralIfNeeded=y;function x(e,t){return e.every(function(e){return t.indexOf(e)!==-1})}t.isSubset=x},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(37);var r=i(26);var a=i(31);var o={name:{label:"Name",description:"Must correspond exactly to the name of the column in the source."},type:{label:"Type",description:"The attribute's type"},nativeType:{label:"Native Type",description:"The native type of this attribute in the underlying storage. In Druid this could be a 'sketch' column like hyperUnique, thetaSketch, and approxHistogram"},unsplittable:{label:"Un-splittable",description:"An column is unsplitable (a.k.a. a metric in Druid terms) if it is already partially aggregated due to rollup.\n      In such cases splitting or filtering on this column is nonsensical"},isPrimary:{label:"Is Primary",description:"Is this time attribute the primary one that must always be filtered on (conventionally called '__time' in Druid)"}};var l={title:{label:"Name",description:"The display name for this dimension."},type:{label:"Type",description:"The dimension's type"},geoEncoding:{label:"Geo Encoding",description:"The dimension's encoding, in case it is a geo dimension. Can be either\n    <code>ISO 3166-1 Alpha-2</code>, <code>ISO 3166-1 Alpha-3</code>, <code>UN M49</code>."},formula:{label:"Formula",description:"By default it is <code>$name</code> where <em>name</em> is\n      the name of the dimension. You can create derived dimensions by using\n      non-trivial formulas."},column:{label:"Column",description:"The column for this dimension."},url:{label:"URL",description:"A url associated with the dimension, with optional token '%s' that\n    is replaced by the dimension value to generate a link specific to each value."},granularities:{label:"Granularities",description:"A set of exactly 5 granularities that you want to be available for bucketing."},bucketingStrategy:{label:"Possible Bucketing",description:"Specify if this dimension should be bucketed and if the bucketing should be applied by default."}};l["comboType"]=l["type"];l["name"]=l["title"];var s={title:{label:"Title",description:"The display name for this collection. Can be anything and is safe\n    to change at any time."},description:{label:"Description",description:"The description of the collection (shown the home view)."}};var u={title:{label:"Name",description:"The display name for this item."},description:{label:"Description",description:"The description of the collection item (shown in both the\n    overview and the detailed view."}};var d={title:{label:"Name",description:"The display name for this measure."},units:{label:"Units",description:"The optional units for this measure. Units will be shown after the title."},formula:{label:"Formula",description:'The <a href="http://plywood.imply.io/expressions" target="_blank">\n      Plywood expression</a> for this measure. By default it is\n      <code>$main.sum($name)</code> where <em>name</em> is the name of the measure.'},format:{label:"Format",
description:'The <a href="http://numeraljs.com/" target="_blank">\n      Numeral.js</a> expression for formatting values of this measure. By default it is\n      <code>'+a.Measure.DEFAULT_FORMAT+"</code>."}};var c={title:{label:"Name",description:"The name of the Cluster."},type:{label:"Type",description:"The database type of the cluster"},host:{label:"Host",description:"The host (hostname:port) of the cluster. In the Druid case this must be the broker."},version:{label:"Version (optional)",description:"The explicit version to use for this cluster.\n      This should be defined if for some reason the version was incorrectly determined through introspection."},timeout:{label:"Timeout (ms)",description:"The timeout to set on the queries. Default is <code>"+n.Cluster.DEFAULT_TIMEOUT+"</code>"},sourceListScan:{label:"Source List Scan",description:"Should the sources of this cluster be automatically scanned and new\n      sources added as data cubes. Default: <code>"+n.Cluster.DEFAULT_SOURCE_LIST_SCAN+"</code>"},introspectionStrategy:{label:"Introspection Strategy",description:"The introspection strategy for the Druid external."},requestDecorator:{label:"Request decorator",description:"The request decorator module filepath to load."},database:{label:"Database",description:"The database to which to connect to."},user:{label:"User",description:"The user to connect as. This user needs no permissions other than SELECT."},password:{label:"Password",description:"The password to use with the provided user."},socksHost:{label:"Socks Host",description:"An optional Socks5 proxy host to route confections through."},socksUsername:{label:"Socks Username",description:"The user for the Socks proxy, leave blank for unauthenticated access."},socksPassword:{label:"Socks Password",description:"The password for proxy authentication."}};var p={"customization.title":{label:"Title",description:"What will appear as the tab's title in your browser. Use <code>%v</code> as a placeholder for Pivot's version."},"customization.timezones":{label:"Timezones",description:"You can customize the timezones that appear in the header bar\n      dropdown by providing an array of timezone strings."}};var f={title:{label:"Name",description:"The user visible name that will be used to describe this data cube."},description:{label:"Description",description:"The description of the data cube shown in the homepage."},introspection:{label:"Introspection",description:"How will this cube be introspected. Default: <code>"+r.DataCube.DEFAULT_INTROSPECTION+"</code>"},clusterName:{label:"Cluster",description:"The cluster that the data cube belongs to (or <code>native</code>\n      if this is a file based data cube)"},source:{label:"Source",description:"The data source, table, or filename of the data for this data cube."},subsetFormula:{label:"Subset Filter Formula",description:"A row level filter that is applied to the data cube."+"This filter is never shown in the cube view and effectively constrains the data cube to only the events that match this filter."},defaultPinnedDimensions:{label:"Default Pinned Dimensions",description:"The names of the dimensions (in order) that will appear pinned by default on the right panel. By default this is empty."},defaultSelectedMeasures:{label:"Default Selected Measures",description:"A comma separated list of names of the measures that will be selected by default. Default: first four measures."},defaultFilter:{label:"Default Filter",description:"The default filter that will be applied to this data cube.  If a special time dimension is set, this will default to that dimension.\n    Otherwise, it will default to empty. "},defaultSplits:{label:"Default Splits",description:"The names of the dimensions (in order) that will be split on. By default this is empty."},defaultDuration:{label:"Default duration",description:'The time period, expressed as an\n      <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations" target="_blank">\n      ISO 8601 Duration</a>, that will be shown when the user first opens this\n      cube. Default: <code>'+r.DataCube.DEFAULT_DEFAULT_DURATION+"</code>."},defaultTimezone:{label:"Default timezone",description:'Expressed as an\n      <a href="https://en.wikipedia.org/wiki/Tz_database" target="_blank">\n      Olsen Timezone</a>, that will be selected when the user first opens this\n      data cube. Default: \'<code>'+r.DataCube.DEFAULT_DEFAULT_TIMEZONE+"</code>'."},defaultSortMeasure:{label:"Default sort measure",description:"The name of the measure that will be used for default sorting.\n      It is commonly set to the measure that represents the count of events.\n      Default: the first measure."},refreshRule:{label:"Refresh Rule",description:"Indicates how often the data cube will refresh. Defaults to 'Query',\n    which means it will update in accordance to cube data. Real time updates in real time.\n    'Fixed' will only update at a time you specify."},options:{label:"Cube Options (as JSON)",description:'General <a href="http://pivot.imply.io/app-settings" target="_blank">\n      data cube options</a>.'}};var m={name:{label:"User Id"},email:{label:"Email"},permissionType:{label:"User type",description:"Admins have access to editing clusters and data cubes. Users can only create collections."},firstName:{label:"First Name"},lastName:{label:"Last Name"},pass:{label:"Password"}};t.SIMPLE_MEASURE_FORMULA={filter:{label:"Filter",description:"The filter for this formula (optional)"},aggregation:{label:"Aggregation",description:"The aggregation for this formula"},column:{label:"Column",description:"The column for this formula (only when the aggregation is not <code>count</code>)"},"filter.column":{label:"Column",description:""},"filter.operator":{label:"Operator",description:""},"filter.value":{label:"Value",description:""}};t.LABELS={ATTRIBUTE:o,DIMENSION:l,COLLECTION:s,COLLECTION_ITEM:u,MEASURE:d,CLUSTER:c,GENERAL:p,DATA_CUBE:f,USER:m,SIMPLE_MEASURE_FORMULA:t.SIMPLE_MEASURE_FORMULA}},,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(45);var r=i(6);function a(e){var t=[];e.forEach(function(e){if(e instanceof r.SplitExpression){t.push(e.firstSplitExpression().toString())}});return t.join(";")}var o=function(){function e(){}e.fetch=function(t,i,o){return n.Ajax.query({method:"POST",url:e.URL+"?by="+a(i),data:{dataCube:t.name,expression:i.toJS(),timezone:o}}).then(function(e){if(!e.result)throw new Error("Got back empty result");return r.Dataset.fromJS(e.result)})};return e}();o.URL="plywood";t.QueryRunner=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(){}e.init=function(){document.addEventListener("dragend",function(){e.dragOrigin=null;e.dragDimension=null;e.dragSplit=null},false)};e.getDragOrigin=function(){return e.dragOrigin};e.setDragDimension=function(t,i){e.dragDimension=t;e.dragOrigin=i};e.getDragDimension=function(){return e.dragDimension};e.setDragSplit=function(t,i){e.dragSplit=t;e.dragOrigin=i};e.getDragSplit=function(){return e.dragSplit};return e}();n.dragOrigin=null;n.dragDimension=null;n.dragSplit=null;t.DragManager=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(1);var a=i(15);i(427);var o=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props.error;return r.createElement("div",{className:"query-error"},r.createElement("div",{className:"whiteout"}),r.createElement("div",{className:"error-container"},r.createElement("div",{className:"error"},a.STRINGS.queryError),r.createElement("div",{className:"message"},e.message)))};return t}(r.Component);t.QueryError=o},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(5);var r=i(23);var a=i(2);var o=i(37);var l=i(95);var s=i(38);var u=i(55);var d=i(97);var c=i(26);var p=i(67);var f=i(43);function m(e){var t={};for(var i=0,n=e;i<n.length;i++){var r=n[i];var a=r.name;if(t[a])throw new Error("duplicate '"+a+"'");t[a]=1}}var g;var h=function(){function e(e){var t=e.version,i=e.clusters,n=e.customization,r=e.dataCubes,a=e.linkViewConfig,o=e.collections,l=e.users,s=e.usersAuth;this.version=t||0;this.clusters=i;m(this.clusters);this.customization=n;this.dataCubes=r;m(this.dataCubes);this.linkViewConfig=a;this.collections=o;m(this.collections);this.users=l;if(l)m(l);this.usersAuth=s;if(s)m(s)}e.isAppSettings=function(t){return t instanceof e};e.fromJS=function(t,i){if(!i)throw new Error("AppSettings must have context");var n=t.collections;var l;if(t.clusters){l=t.clusters.map(function(e){return o.Cluster.fromJS(e)})}else if(r(t,"druidHost")||r(t,"brokerHost")){var d=JSON.parse(JSON.stringify(t));d.name="druid";d.type="druid";d.host=d.druidHost||d.brokerHost;l=[o.Cluster.fromJS(d)]}else{l=[]}var m=(t.dataCubes||t.dataSources||[]).map(function(e){var t=e.clusterName||e.engine;if(t!=="native"){var i=a.NamedArray.findByName(l,t);if(!i)throw new Error("Data cube '"+e.name+"' refers to a non existent cluster '"+t+"'")}return c.DataCube.fromJS(e)});var g={dataCubes:m,visualizations:i.visualizations};var h=function(e){return e?s.Collection.fromJS(e,g):null};var v=t.users,b=t.usersAuth;if(!b)b=[];if(v&&v.length){v=v.map(function(e){if(r(e,"pass")){var t=e,i=t.name,n=t.pass,o=t.hashStrategy;delete e.pass;delete e.hashStrategy;if(!a.NamedArray.findByName(b,e.name)){b.push({name:i,pass:n,hashStrategy:o})}}return e})}var y={version:t.version,clusters:l,customization:u.Customization.fromJS(t.customization||{}),dataCubes:m,linkViewConfig:h(t.linkViewConfig),collections:n?n.map(h).filter(Boolean):[],users:v?v.map(f.User.fromJS):[],usersAuth:b?b.map(p.UserAuth.fromJS):[]};return new e(y)};e.prototype.valueOf=function(){return{version:this.version,clusters:this.clusters,customization:this.customization,dataCubes:this.dataCubes,linkViewConfig:this.linkViewConfig,collections:this.collections,users:this.users,usersAuth:this.usersAuth}};e.prototype.toJS=function(){var e={};if(this.version)e.version=this.version;e.clusters=this.clusters.map(function(e){return e.toJS()});e.customization=this.customization.toJS();e.dataCubes=this.dataCubes.map(function(e){return e.toJS()});if(this.collections.length>0)e.collections=this.collections.map(function(e){return e.toJS()});if(this.linkViewConfig)e.linkViewConfig=this.linkViewConfig.toJS();if(this.users&&this.users.length>0)e.users=this.users.map(function(e){return e.toJS()});if(this.usersAuth&&this.usersAuth.length>0)e.usersAuth=this.usersAuth.map(function(e){return e.toJS()});return e};e.prototype.toJSON=function(){return this.toJS()};e.prototype.toString=function(){return"[AppSettings v"+this.version+" dataCubes="+this.dataCubes.length+"]"};e.prototype.equals=function(t){return e.isAppSettings(t)&&this.version===t.version&&a.immutableArraysEqual(this.clusters,t.clusters)&&a.immutableEqual(this.customization,t.customization)&&a.immutableArraysEqual(this.dataCubes,t.dataCubes)&&a.immutableEqual(this.linkViewConfig,t.linkViewConfig)&&a.immutableArraysEqual(this.collections,t.collections)&&a.immutableArraysEqual(this.users,t.users)&&a.immutableArraysEqual(this.usersAuth,t.usersAuth)};e.prototype.toClientSettings=function(){var t=this.valueOf();t.clusters=t.clusters.map(function(e){return e.toClientCluster()});delete t.users;delete t.usersAuth;return new e(t)};e.prototype.getVersion=function(){return this.version};e.prototype.incrementVersion=function(){var t=this.valueOf();t.version++;return new e(t)};e.prototype.getCollectionsInvolvingCluster=function(e){var t=this.getDataCubesByCluster(e);return this.collections.filter(function(e){return t.some(function(t){return e.dependsOnDataCube(t.name)})})};e.prototype.getDataCubesByCluster=function(e){return this.dataCubes.filter(function(t){return t.clusterName===e})};e.prototype.getDataCubesByClusterSource=function(e,t){return this.dataCubes.filter(function(i){return i.clusterName===e&&i.source===t})};e.prototype.getDataCube=function(e){return a.NamedArray.findByName(this.dataCubes,e)};e.prototype.getCollection=function(e){return a.NamedArray.findByName(this.collections,e)};e.prototype.getCluster=function(e){return a.NamedArray.findByName(this.clusters,e)};e.prototype.getUsers=function(){var e=this,t=e.usersAuth,i=e.users;if(i&&i.length)return i;return t&&t.length?t.map(function(e){return e.toClientUser()}):[f.User.DEFAULT_ADMIN]};e.prototype.getUsersAuth=function(e){var t=this.usersAuth;if(!t)t=[];var i=p.UserAuth.getDefaultAdmin(e);return this.getUser(i.name)?a.NamedArray.overrideByName(t,i):t};e.prototype.getUser=function(e){return a.NamedArray.findByName(this.getUsers(),e)};e.prototype.getUserAuth=function(e,t){return a.NamedArray.findByName(this.getUsersAuth(t),e)};e.prototype.change=function(e,t){return this["change"+n.StringUtils.firstUp(e)](t)};e.prototype.changeCustomization=function(t){var i=this.valueOf();i.customization=t;return new e(i)};e.prototype.changeClusters=function(t){var i=this.valueOf();i.clusters=t;var n=i.dataCubes.filter(function(e){if(e.clusterName==="native")return true;return a.NamedArray.containsByName(t,e.clusterName)});i.dataCubes=n;i.collections=i.collections.map(function(e){return e.constrainTilesToDataCubes(n)});return new e(i)};e.prototype.deleteCluster=function(e){return this.changeClusters(a.NamedArray.deleteByName(this.clusters,e))};e.prototype.addOrUpdateCluster=function(e){return this.changeClusters(a.NamedArray.overrideByName(this.clusters,e))};e.prototype.changeDataCubes=function(t){var i=this.valueOf();i.dataCubes=t;i.collections=i.collections.map(function(e){return e.constrainTilesToDataCubes(t)});return new e(i)};e.prototype.appendDataCubes=function(e){return this.changeDataCubes(a.NamedArray.overridesByName(this.dataCubes,e))};e.prototype.addOrUpdateDataCube=function(e){return this.changeDataCubes(a.NamedArray.overrideByName(this.dataCubes,e))};e.prototype.deleteDataCube=function(e){return this.changeDataCubes(a.NamedArray.deleteByName(this.dataCubes,e))};e.prototype.filterDataCubes=function(e){return this.changeDataCubes(this.dataCubes.filter(e))};e.prototype.getDataCubeDiffs=function(e){var t=[];a.NamedArray.synchronize(e,this.dataCubes,{onExit:function(e){t.push(new d.DataCubeDiff({before:e}))},onUpdate:function(e,i){t.push(new d.DataCubeDiff({before:i,after:e}))},onEnter:function(e){t.push(new d.DataCubeDiff({after:e}))}});return t};e.prototype.applyDataCubeDiff=function(e){var t=e.before,i=e.after;if(t){var n=this.getDataCube(t.name);if(!n||!n.equals(t))return null}if(i){return this.addOrUpdateDataCube(i)}else{return this.deleteDataCube(t.name)}};e.prototype.changeCollections=function(t){var i=this.valueOf();i.collections=t;return new e(i)};e.prototype.addOrUpdateCollection=function(e){return this.changeCollections(a.NamedArray.overrideByName(this.collections,e))};e.prototype.deleteCollection=function(e){return this.changeCollections(a.NamedArray.deleteByName(this.collections,e))};e.prototype.addCollectionAt=function(e,t){var i=this.collections.slice();i.splice(t,0,e);return this.changeCollections(i)};e.prototype.getCollectionDiffs=function(e){var t=[];a.NamedArray.synchronize(e,this.collections,{onExit:function(e){t.push(new l.CollectionDiff({before:e}))},onUpdate:function(e,i){t.push(new l.CollectionDiff({before:i,after:e}))},onEnter:function(e){t.push(new l.CollectionDiff({after:e}))}});return t};e.prototype.applyCollectionDiff=function(e){var t=e.before,i=e.after;if(t){var n=this.getCollection(t.name);if(!n||!n.equals(t))return null}if(i){return this.addOrUpdateCollection(i)}else{return this.deleteCollection(t.name)}};e.prototype.changeUsers=function(t){var i=this.valueOf();i.users=t;return new e(i)};e.prototype.changeUsersAuth=function(t){var i=this.valueOf();i.usersAuth=t;return new e(i)};e.prototype.addOrUpdateUser=function(e){return this.changeUsers(a.NamedArray.overrideByName(this.getUsers(),e))};e.prototype.appendUsers=function(e){return this.changeUsers(a.NamedArray.overridesByName(this.getUsers(),e))};e.prototype.deleteUser=function(e){return this.changeUsers(a.NamedArray.deleteByName(this.getUsers(),e)).changeUsersAuth(a.NamedArray.deleteByName(this.getUsersAuth(null),e))};e.prototype.updateAuthPass=function(e,t,i){var n=this;return e.updatePass(t).then(function(e){return n.changeUsersAuth(a.NamedArray.overrideByName(n.getUsersAuth(i),e))})};return e}();t.AppSettings=h;g=h;h.BLANK=h.fromJS({},{visualizations:[]})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=i(38);var o=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;var n=i,r=n.before,a=n.after;if(!r&&!a)throw new Error("invalid (empty) diff");if(r&&a&&r.name!==a.name)throw new Error("before and after names must match");return i}t.isCollectionDiff=function(e){return e instanceof t};t.fromJS=function(e,i){var n={};if(e.before)n.before=a.Collection.fromJS(e.before,i);if(e.after)n.after=a.Collection.fromJS(e.after,i);return new t(n)};t.prototype.getName=function(){var e=this,t=e.before,i=e.after;return t?t.name:i.name};return t}(r.BaseImmutable);o.PROPERTIES=[{name:"before",immutableClass:a.Collection,defaultValue:null},{name:"after",immutableClass:a.Collection,defaultValue:null}];t.CollectionDiff=o;r.BaseImmutable.finalize(o)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=function(e){n.__extends(t,e);function t(t){if(t===void 0){t={}}return e.call(this,t)||this}t.fromJS=function(e){return new t(r.BaseImmutable.jsToValue(t.PROPERTIES,e))};return t}(r.BaseImmutable);a.PROPERTIES=[{name:"name",defaultValue:null},{name:"pass",defaultValue:null}];t.Credentials=a;r.BaseImmutable.finalize(a)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=i(26);var o=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;var n=i,r=n.before,a=n.after;if(!r&&!a)throw new Error("invalid (empty) diff");if(r&&a&&r.name!==a.name)throw new Error("before and after names must match");return i}t.isDataCubeDiff=function(e){return e instanceof t};t.fromJS=function(e){return new t(r.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.getName=function(){var e=this,t=e.before,i=e.after;return t?t.name:i.name};return t}(r.BaseImmutable);o.PROPERTIES=[{name:"before",immutableClass:a.DataCube,defaultValue:null},{name:"after",immutableClass:a.DataCube,defaultValue:null}];t.DataCubeDiff=o;r.BaseImmutable.finalize(o)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(){}e.getSize=function(){if(window.innerWidth<=1080)return"small";if(window.innerWidth<=1250)return"medium";return"large"};return e}();t.Device=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.COUNTRY_ALPHA2={AF:{latitude:33,longitude:65,label:"Afghanistan"},AL:{latitude:41,longitude:20,label:"Albania"},DZ:{latitude:28,longitude:3,label:"Algeria"},AS:{latitude:-14.3333,longitude:-170,label:"American Samoa"},AD:{latitude:42.5,longitude:1.6,label:"Andorra"},AO:{latitude:-12.5,longitude:18.5,label:"Angola"},AI:{latitude:18.25,longitude:-63.1667,label:"Anguilla"},AQ:{latitude:-90,longitude:0,label:"Antarctica"},AG:{latitude:17.05,longitude:-61.8,label:"Antigua and Barbuda"},AR:{latitude:-34,longitude:-64,label:"Argentina"},AM:{latitude:40,longitude:45,label:"Armenia"},AW:{latitude:12.5,longitude:-69.9667,label:"Aruba"},AU:{latitude:-27,longitude:133,label:"Australia"},AT:{latitude:47.3333,longitude:13.3333,label:"Austria"},AZ:{latitude:40.5,longitude:47.5,label:"Azerbaijan"},BS:{latitude:24.25,longitude:-76,label:"Bahamas"},BH:{latitude:26,longitude:50.55,label:"Bahrain"},BD:{latitude:24,longitude:90,label:"Bangladesh"},BB:{latitude:13.1667,longitude:-59.5333,label:"Barbados"},BY:{latitude:53,longitude:28,label:"Belarus"},BE:{latitude:50.8333,longitude:4,label:"Belgium"},BZ:{latitude:17.25,longitude:-88.75,label:"Belize"},BJ:{latitude:9.5,longitude:2.25,label:"Benin"},BM:{latitude:32.3333,longitude:-64.75,label:"Bermuda"},BT:{latitude:27.5,longitude:90.5,label:"Bhutan"},BO:{latitude:-17,longitude:-65,label:"Bolivia"},BA:{latitude:44,longitude:18,label:"Bosnia and Herzegovina"},BW:{latitude:-22,longitude:24,label:"Botswana"},BV:{latitude:-54.4333,longitude:3.4,label:"Bouvet Island"},BR:{latitude:-10,longitude:-55,label:"Brazil"},IO:{latitude:-6,longitude:71.5,label:"British Indian Ocean Territory"},BN:{latitude:4.5,longitude:114.6667,label:"Brunei"},BG:{latitude:43,longitude:25,label:"Bulgaria"},BF:{latitude:13,longitude:-2,label:"Burkina Faso"},BI:{latitude:-3.5,longitude:30,label:"Burundi"},KH:{latitude:13,longitude:105,label:"Cambodia"},CM:{latitude:6,longitude:12,label:"Cameroon"},CA:{latitude:60,longitude:-95,label:"Canada"},CV:{latitude:16,longitude:-24,label:"Cape Verde"},KY:{latitude:19.5,longitude:-80.5,label:"Cayman Islands"},CF:{latitude:7,longitude:21,label:"Central African Republic"},TD:{latitude:15,longitude:19,label:"Chad"},CL:{latitude:-30,longitude:-71,label:"Chile"},CN:{latitude:35,longitude:105,label:"China"},CX:{latitude:-10.5,longitude:105.6667,label:"Christmas Island"},CC:{latitude:-12.5,longitude:96.8333,label:"Cocos (Keeling) Islands"},CO:{latitude:4,longitude:-72,label:"Colombia"},KM:{latitude:-12.1667,longitude:44.25,label:"Comoros"},CG:{latitude:-1,longitude:15,label:"Congo"},CD:{latitude:0,longitude:25,label:"Congo,  the Democratic Republic of the"},CK:{latitude:-21.2333,longitude:-159.7667,label:"Cook Islands"},CR:{latitude:10,longitude:-84,label:"Costa Rica"},CI:{latitude:8,longitude:-5,label:"Ivory Coast"},HR:{latitude:45.1667,longitude:15.5,label:"Croatia"},CU:{latitude:21.5,longitude:-80,label:"Cuba"},CY:{latitude:35,longitude:33,label:"Cyprus"},CZ:{latitude:49.75,longitude:15.5,label:"Czech Republic"},DK:{latitude:56,longitude:10,label:"Denmark"},DJ:{latitude:11.5,longitude:43,label:"Djibouti"},DM:{latitude:15.4167,longitude:-61.3333,label:"Dominica"},DO:{latitude:19,longitude:-70.6667,label:"Dominican Republic"},EC:{latitude:-2,longitude:-77.5,label:"Ecuador"},EG:{latitude:27,longitude:30,label:"Egypt"},SV:{latitude:13.8333,longitude:-88.9167,label:"El Salvador"},GQ:{latitude:2,longitude:10,label:"Equatorial Guinea"},ER:{latitude:15,longitude:39,label:"Eritrea"},EE:{latitude:59,longitude:26,label:"Estonia"},ET:{latitude:8,longitude:38,label:"Ethiopia"},FK:{latitude:-51.75,longitude:-59,label:"Falkland Islands (Malvinas)"},FO:{latitude:62,longitude:-7,label:"Faroe Islands"},FJ:{latitude:-18,longitude:175,label:"Fiji"},FI:{latitude:64,longitude:26,label:"Finland"},FR:{latitude:46,longitude:2,label:"France"},GF:{latitude:4,longitude:-53,label:"French Guiana"},PF:{latitude:-15,longitude:-140,label:"French Polynesia"},TF:{latitude:-43,longitude:67,label:"French Southern Territories"},GA:{latitude:-1,longitude:11.75,label:"Gabon"},GM:{latitude:13.4667,longitude:-16.5667,label:"Gambia"},GE:{latitude:42,longitude:43.5,label:"Georgia"},DE:{latitude:51,longitude:9,label:"Germany"},GH:{latitude:8,longitude:-2,label:"Ghana"},GI:{latitude:36.1833,longitude:-5.3667,label:"Gibraltar"},GR:{latitude:39,longitude:22,label:"Greece"},GL:{latitude:72,longitude:-40,label:"Greenland"},GD:{latitude:12.1167,longitude:-61.6667,label:"Grenada"},GP:{latitude:16.25,longitude:-61.5833,label:"Guadeloupe"},GU:{latitude:13.4667,longitude:144.7833,label:"Guam"},GT:{latitude:15.5,longitude:-90.25,label:"Guatemala"},GG:{latitude:49.5,longitude:-2.56,label:"Guernsey"},GN:{latitude:11,longitude:-10,label:"Guinea"},GW:{latitude:12,longitude:-15,label:"Guinea-Bissau"},GY:{latitude:5,longitude:-59,label:"Guyana"},HT:{latitude:19,longitude:-72.4167,label:"Haiti"},HM:{latitude:-53.1,longitude:72.5167,label:"Heard Island and McDonald Islands"},VA:{latitude:41.9,longitude:12.45,label:"Holy See (Vatican City State)"},HN:{latitude:15,longitude:-86.5,label:"Honduras"},HK:{latitude:22.25,longitude:114.1667,label:"Hong Kong"},HU:{latitude:47,longitude:20,label:"Hungary"},IS:{latitude:65,longitude:-18,label:"Iceland"},IN:{latitude:20,longitude:77,label:"India"},ID:{latitude:-5,longitude:120,label:"Indonesia"},IR:{latitude:32,longitude:53,label:"Iran,  Islamic Republic of"},IQ:{latitude:33,longitude:44,label:"Iraq"},IE:{latitude:53,longitude:-8,label:"Ireland"},IM:{latitude:54.23,longitude:-4.55,label:"Isle of Man"},IL:{latitude:31.5,longitude:34.75,label:"Israel"},IT:{latitude:42.8333,longitude:12.8333,label:"Italy"},JM:{latitude:18.25,longitude:-77.5,label:"Jamaica"},JP:{latitude:36,longitude:138,label:"Japan"},JE:{latitude:49.21,longitude:-2.13,label:"Jersey"},JO:{latitude:31,longitude:36,label:"Jordan"},KZ:{latitude:48,longitude:68,label:"Kazakhstan"},KE:{latitude:1,longitude:38,label:"Kenya"},KI:{latitude:1.4167,longitude:173,label:"Kiribati"},KP:{latitude:40,longitude:127,label:"Korea,  Democratic People's Republic of"},KR:{latitude:37,longitude:127.5,label:"South Korea"},KW:{latitude:29.3375,longitude:47.6581,label:"Kuwait"},KG:{latitude:41,longitude:75,label:"Kyrgyzstan"},LA:{latitude:18,longitude:105,label:"Lao People's Democratic Republic"},LV:{latitude:57,longitude:25,label:"Latvia"},LB:{latitude:33.8333,longitude:35.8333,label:"Lebanon"},LS:{latitude:-29.5,longitude:28.5,label:"Lesotho"},LR:{latitude:6.5,longitude:-9.5,label:"Liberia"},LY:{latitude:25,longitude:17,label:"Libya"},LI:{latitude:47.1667,longitude:9.5333,label:"Liechtenstein"},LT:{latitude:56,longitude:24,label:"Lithuania"},LU:{latitude:49.75,longitude:6.1667,label:"Luxembourg"},MO:{latitude:22.1667,longitude:113.55,label:"Macao"},MK:{latitude:41.8333,longitude:22,label:"Macedonia,  the former Yugoslav Republic of"},MG:{latitude:-20,longitude:47,label:"Madagascar"},MW:{latitude:-13.5,longitude:34,label:"Malawi"},MY:{latitude:2.5,longitude:112.5,label:"Malaysia"},MV:{latitude:3.25,longitude:73,label:"Maldives"},ML:{latitude:17,longitude:-4,label:"Mali"},MT:{latitude:35.8333,longitude:14.5833,label:"Malta"},MH:{latitude:9,longitude:168,label:"Marshall Islands"},MQ:{latitude:14.6667,longitude:-61,label:"Martinique"},MR:{latitude:20,longitude:-12,label:"Mauritania"},MU:{latitude:-20.2833,longitude:57.55,label:"Mauritius"},YT:{latitude:-12.8333,longitude:45.1667,label:"Mayotte"},MX:{latitude:23,longitude:-102,label:"Mexico"},FM:{latitude:6.9167,longitude:158.25,label:"Micronesia,  Federated States of"},MD:{latitude:47,longitude:29,label:"Moldova,  Republic of"},MC:{latitude:43.7333,longitude:7.4,label:"Monaco"},MN:{latitude:46,longitude:105,label:"Mongolia"},ME:{latitude:42,longitude:19,label:"Montenegro"},MS:{latitude:16.75,longitude:-62.2,label:"Montserrat"},MA:{latitude:32,longitude:-5,label:"Morocco"},MZ:{latitude:-18.25,longitude:35,label:"Mozambique"},MM:{latitude:22,longitude:98,label:"Burma"},NA:{latitude:-22,longitude:17,label:"Namibia"},NR:{latitude:-.5333,longitude:166.9167,label:"Nauru"},NP:{latitude:28,longitude:84,label:"Nepal"},NL:{latitude:52.5,longitude:5.75,label:"Netherlands"},AN:{latitude:12.25,longitude:-68.75,label:"Netherlands Antilles"},NC:{latitude:-21.5,longitude:165.5,label:"New Caledonia"},NZ:{latitude:-41,longitude:174,label:"New Zealand"},NI:{latitude:13,longitude:-85,label:"Nicaragua"},NE:{latitude:16,longitude:8,label:"Niger"},NG:{latitude:10,longitude:8,label:"Nigeria"},NU:{latitude:-19.0333,longitude:-169.8667,label:"Niue"},NF:{latitude:-29.0333,longitude:167.95,label:"Norfolk Island"},MP:{latitude:15.2,longitude:145.75,label:"Northern Mariana Islands"},NO:{latitude:62,longitude:10,label:"Norway"},OM:{latitude:21,longitude:57,label:"Oman"},PK:{latitude:30,longitude:70,label:"Pakistan"},PW:{latitude:7.5,longitude:134.5,label:"Palau"},PS:{latitude:32,longitude:35.25,label:"Palestinian Territory,  Occupied"},PA:{latitude:9,longitude:-80,label:"Panama"},PG:{latitude:-6,longitude:147,label:"Papua New Guinea"},PY:{latitude:-23,longitude:-58,label:"Paraguay"},PE:{latitude:-10,longitude:-76,label:"Peru"},PH:{latitude:13,longitude:122,label:"Philippines"},PN:{latitude:-24.7,longitude:-127.4,label:"Pitcairn"},PL:{latitude:52,longitude:20,label:"Poland"},PT:{latitude:39.5,longitude:-8,label:"Portugal"},PR:{latitude:18.25,longitude:-66.5,label:"Puerto Rico"},QA:{latitude:25.5,longitude:51.25,label:"Qatar"},RE:{latitude:-21.1,longitude:55.6,label:"RÃ©union"},RO:{latitude:46,longitude:25,label:"Romania"},RU:{latitude:60,longitude:100,label:"Russia"},RW:{latitude:-2,longitude:30,label:"Rwanda"},SH:{latitude:-15.9333,longitude:-5.7,label:"Saint Helena,  Ascension and Tristan da Cunha"},KN:{latitude:17.3333,longitude:-62.75,label:"Saint Kitts and Nevis"},LC:{latitude:13.8833,longitude:-61.1333,label:"Saint Lucia"},PM:{latitude:46.8333,longitude:-56.3333,label:"Saint Pierre and Miquelon"},VC:{latitude:13.25,longitude:-61.2,label:"St. Vincent and the Grenadines"},WS:{latitude:-13.5833,longitude:-172.3333,label:"Samoa"},SM:{latitude:43.7667,longitude:12.4167,label:"San Marino"},ST:{latitude:1,longitude:7,label:"Sao Tome and Principe"},SA:{latitude:25,longitude:45,label:"Saudi Arabia"},SN:{latitude:14,longitude:-14,label:"Senegal"},RS:{latitude:44,longitude:21,label:"Serbia"},SC:{latitude:-4.5833,longitude:55.6667,label:"Seychelles"},SL:{latitude:8.5,longitude:-11.5,label:"Sierra Leone"},SG:{latitude:1.3667,longitude:103.8,label:"Singapore"},SK:{latitude:48.6667,longitude:19.5,label:"Slovakia"},SI:{latitude:46,longitude:15,label:"Slovenia"},SB:{latitude:-8,longitude:159,label:"Solomon Islands"},SO:{latitude:10,longitude:49,label:"Somalia"},ZA:{latitude:-29,longitude:24,label:"South Africa"},GS:{latitude:-54.5,longitude:-37,label:"South Georgia and the South Sandwich Islands"},ES:{latitude:40,longitude:-4,label:"Spain"},LK:{latitude:7,longitude:81,label:"Sri Lanka"},SD:{latitude:15,longitude:30,label:"Sudan"},SR:{latitude:4,longitude:-56,label:"Suriname"},SJ:{latitude:78,longitude:20,label:"Svalbard and Jan Mayen"},SZ:{latitude:-26.5,longitude:31.5,label:"Swaziland"},SE:{latitude:62,longitude:15,label:"Sweden"},CH:{latitude:47,longitude:8,label:"Switzerland"},SY:{latitude:35,longitude:38,label:"Syrian Arab Republic"},TW:{latitude:23.5,longitude:121,label:"Taiwan"},TJ:{latitude:39,longitude:71,label:"Tajikistan"},TZ:{latitude:-6,longitude:35,label:"Tanzania,  United Republic of"},TH:{latitude:15,longitude:100,label:"Thailand"},TL:{latitude:-8.55,longitude:125.5167,label:"Timor-Leste"},TG:{latitude:8,longitude:1.1667,label:"Togo"},TK:{latitude:-9,longitude:-172,label:"Tokelau"},TO:{latitude:-20,longitude:-175,label:"Tonga"},TT:{latitude:11,longitude:-61,label:"Trinidad & Tobago"},TN:{latitude:34,longitude:9,label:"Tunisia"},TR:{latitude:39,longitude:35,label:"Turkey"},TM:{latitude:40,longitude:60,label:"Turkmenistan"},TC:{latitude:21.75,longitude:-71.5833,label:"Turks and Caicos Islands"},TV:{latitude:-8,longitude:178,label:"Tuvalu"},UG:{latitude:1,longitude:32,label:"Uganda"},UA:{latitude:49,longitude:32,label:"Ukraine"},AE:{latitude:24,longitude:54,label:"United Arab Emirates"},GB:{latitude:54,longitude:-2,label:"United Kingdom"},US:{latitude:38,longitude:-97,label:"United States"},UM:{latitude:19.2833,longitude:166.6,label:"United States Minor Outlying Islands"},UY:{latitude:-33,longitude:-56,label:"Uruguay"},UZ:{latitude:41,longitude:64,label:"Uzbekistan"},VU:{latitude:-16,longitude:167,label:"Vanuatu"},VE:{latitude:8,longitude:-66,label:"Venezuela"},VN:{latitude:16,longitude:106,label:"Vietnam"},VG:{latitude:18.5,longitude:-64.5,label:"Virgin Islands,  British"},VI:{latitude:18.3333,longitude:-64.8333,label:"Virgin Islands,  U.S."},WF:{latitude:-13.3,longitude:-176.2,label:"Wallis and Futuna"},EH:{latitude:24.5,longitude:-13,label:"Western Sahara"},YE:{latitude:15,longitude:48,label:"Yemen"},ZM:{latitude:-15,longitude:30,label:"Zambia"},ZW:{latitude:-20,longitude:30,label:"Zimbabwe"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.COUNTRY_ALPHA3={AFG:{latitude:33,longitude:65,label:"Afghanistan"},ALB:{latitude:41,longitude:20,label:"Albania"},DZA:{latitude:28,longitude:3,
label:"Algeria"},ASM:{latitude:-14.3333,longitude:-170,label:"American Samoa"},AND:{latitude:42.5,longitude:1.6,label:"Andorra"},AGO:{latitude:-12.5,longitude:18.5,label:"Angola"},AIA:{latitude:18.25,longitude:-63.1667,label:"Anguilla"},ATA:{latitude:-90,longitude:0,label:"Antarctica"},ATG:{latitude:17.05,longitude:-61.8,label:"Antigua and Barbuda"},ARG:{latitude:-34,longitude:-64,label:"Argentina"},ARM:{latitude:40,longitude:45,label:"Armenia"},ABW:{latitude:12.5,longitude:-69.9667,label:"Aruba"},AUS:{latitude:-27,longitude:133,label:"Australia"},AUT:{latitude:47.3333,longitude:13.3333,label:"Austria"},AZE:{latitude:40.5,longitude:47.5,label:"Azerbaijan"},BHS:{latitude:24.25,longitude:-76,label:"Bahamas"},BHR:{latitude:26,longitude:50.55,label:"Bahrain"},BGD:{latitude:24,longitude:90,label:"Bangladesh"},BRB:{latitude:13.1667,longitude:-59.5333,label:"Barbados"},BLR:{latitude:53,longitude:28,label:"Belarus"},BEL:{latitude:50.8333,longitude:4,label:"Belgium"},BLZ:{latitude:17.25,longitude:-88.75,label:"Belize"},BEN:{latitude:9.5,longitude:2.25,label:"Benin"},BMU:{latitude:32.3333,longitude:-64.75,label:"Bermuda"},BTN:{latitude:27.5,longitude:90.5,label:"Bhutan"},BOL:{latitude:-17,longitude:-65,label:"Bolivia"},BIH:{latitude:44,longitude:18,label:"Bosnia and Herzegovina"},BWA:{latitude:-22,longitude:24,label:"Botswana"},BVT:{latitude:-54.4333,longitude:3.4,label:"Bouvet Island"},BRA:{latitude:-10,longitude:-55,label:"Brazil"},IOT:{latitude:-6,longitude:71.5,label:"British Indian Ocean Territory"},BRN:{latitude:4.5,longitude:114.6667,label:"Brunei"},BGR:{latitude:43,longitude:25,label:"Bulgaria"},BFA:{latitude:13,longitude:-2,label:"Burkina Faso"},BDI:{latitude:-3.5,longitude:30,label:"Burundi"},KHM:{latitude:13,longitude:105,label:"Cambodia"},CMR:{latitude:6,longitude:12,label:"Cameroon"},CAN:{latitude:60,longitude:-95,label:"Canada"},CPV:{latitude:16,longitude:-24,label:"Cape Verde"},CYM:{latitude:19.5,longitude:-80.5,label:"Cayman Islands"},CAF:{latitude:7,longitude:21,label:"Central African Republic"},TCD:{latitude:15,longitude:19,label:"Chad"},CHL:{latitude:-30,longitude:-71,label:"Chile"},CHN:{latitude:35,longitude:105,label:"China"},CXR:{latitude:-10.5,longitude:105.6667,label:"Christmas Island"},CCK:{latitude:-12.5,longitude:96.8333,label:"Cocos (Keeling) Islands"},COL:{latitude:4,longitude:-72,label:"Colombia"},COM:{latitude:-12.1667,longitude:44.25,label:"Comoros"},COG:{latitude:-1,longitude:15,label:"Congo"},COD:{latitude:0,longitude:25,label:"Congo,  the Democratic Republic of the"},COK:{latitude:-21.2333,longitude:-159.7667,label:"Cook Islands"},CRI:{latitude:10,longitude:-84,label:"Costa Rica"},CIV:{latitude:8,longitude:-5,label:"Ivory Coast"},HRV:{latitude:45.1667,longitude:15.5,label:"Croatia"},CUB:{latitude:21.5,longitude:-80,label:"Cuba"},CYP:{latitude:35,longitude:33,label:"Cyprus"},CZE:{latitude:49.75,longitude:15.5,label:"Czech Republic"},DNK:{latitude:56,longitude:10,label:"Denmark"},DJI:{latitude:11.5,longitude:43,label:"Djibouti"},DMA:{latitude:15.4167,longitude:-61.3333,label:"Dominica"},DOM:{latitude:19,longitude:-70.6667,label:"Dominican Republic"},ECU:{latitude:-2,longitude:-77.5,label:"Ecuador"},EGY:{latitude:27,longitude:30,label:"Egypt"},SLV:{latitude:13.8333,longitude:-88.9167,label:"El Salvador"},GNQ:{latitude:2,longitude:10,label:"Equatorial Guinea"},ERI:{latitude:15,longitude:39,label:"Eritrea"},EST:{latitude:59,longitude:26,label:"Estonia"},ETH:{latitude:8,longitude:38,label:"Ethiopia"},FLK:{latitude:-51.75,longitude:-59,label:"Falkland Islands (Malvinas)"},FRO:{latitude:62,longitude:-7,label:"Faroe Islands"},FJI:{latitude:-18,longitude:175,label:"Fiji"},FIN:{latitude:64,longitude:26,label:"Finland"},FRA:{latitude:46,longitude:2,label:"France"},GUF:{latitude:4,longitude:-53,label:"French Guiana"},PYF:{latitude:-15,longitude:-140,label:"French Polynesia"},ATF:{latitude:-43,longitude:67,label:"French Southern Territories"},GAB:{latitude:-1,longitude:11.75,label:"Gabon"},GMB:{latitude:13.4667,longitude:-16.5667,label:"Gambia"},GEO:{latitude:42,longitude:43.5,label:"Georgia"},DEU:{latitude:51,longitude:9,label:"Germany"},GHA:{latitude:8,longitude:-2,label:"Ghana"},GIB:{latitude:36.1833,longitude:-5.3667,label:"Gibraltar"},GRC:{latitude:39,longitude:22,label:"Greece"},GRL:{latitude:72,longitude:-40,label:"Greenland"},GRD:{latitude:12.1167,longitude:-61.6667,label:"Grenada"},GLP:{latitude:16.25,longitude:-61.5833,label:"Guadeloupe"},GUM:{latitude:13.4667,longitude:144.7833,label:"Guam"},GTM:{latitude:15.5,longitude:-90.25,label:"Guatemala"},GGY:{latitude:49.5,longitude:-2.56,label:"Guernsey"},GIN:{latitude:11,longitude:-10,label:"Guinea"},GNB:{latitude:12,longitude:-15,label:"Guinea-Bissau"},GUY:{latitude:5,longitude:-59,label:"Guyana"},HTI:{latitude:19,longitude:-72.4167,label:"Haiti"},HMD:{latitude:-53.1,longitude:72.5167,label:"Heard Island and McDonald Islands"},VAT:{latitude:41.9,longitude:12.45,label:"Holy See (Vatican City State)"},HND:{latitude:15,longitude:-86.5,label:"Honduras"},HKG:{latitude:22.25,longitude:114.1667,label:"Hong Kong"},HUN:{latitude:47,longitude:20,label:"Hungary"},ISL:{latitude:65,longitude:-18,label:"Iceland"},IND:{latitude:20,longitude:77,label:"India"},IDN:{latitude:-5,longitude:120,label:"Indonesia"},IRN:{latitude:32,longitude:53,label:"Iran,  Islamic Republic of"},IRQ:{latitude:33,longitude:44,label:"Iraq"},IRL:{latitude:53,longitude:-8,label:"Ireland"},IMN:{latitude:54.23,longitude:-4.55,label:"Isle of Man"},ISR:{latitude:31.5,longitude:34.75,label:"Israel"},ITA:{latitude:42.8333,longitude:12.8333,label:"Italy"},JAM:{latitude:18.25,longitude:-77.5,label:"Jamaica"},JPN:{latitude:36,longitude:138,label:"Japan"},JEY:{latitude:49.21,longitude:-2.13,label:"Jersey"},JOR:{latitude:31,longitude:36,label:"Jordan"},KAZ:{latitude:48,longitude:68,label:"Kazakhstan"},KEN:{latitude:1,longitude:38,label:"Kenya"},KIR:{latitude:1.4167,longitude:173,label:"Kiribati"},PRK:{latitude:40,longitude:127,label:"Korea,  Democratic People's Republic of"},KOR:{latitude:37,longitude:127.5,label:"South Korea"},KWT:{latitude:29.3375,longitude:47.6581,label:"Kuwait"},KGZ:{latitude:41,longitude:75,label:"Kyrgyzstan"},LAO:{latitude:18,longitude:105,label:"Lao People's Democratic Republic"},LVA:{latitude:57,longitude:25,label:"Latvia"},LBN:{latitude:33.8333,longitude:35.8333,label:"Lebanon"},LSO:{latitude:-29.5,longitude:28.5,label:"Lesotho"},LBR:{latitude:6.5,longitude:-9.5,label:"Liberia"},LBY:{latitude:25,longitude:17,label:"Libya"},LIE:{latitude:47.1667,longitude:9.5333,label:"Liechtenstein"},LTU:{latitude:56,longitude:24,label:"Lithuania"},LUX:{latitude:49.75,longitude:6.1667,label:"Luxembourg"},MAC:{latitude:22.1667,longitude:113.55,label:"Macao"},MKD:{latitude:41.8333,longitude:22,label:"Macedonia,  the former Yugoslav Republic of"},MDG:{latitude:-20,longitude:47,label:"Madagascar"},MWI:{latitude:-13.5,longitude:34,label:"Malawi"},MYS:{latitude:2.5,longitude:112.5,label:"Malaysia"},MDV:{latitude:3.25,longitude:73,label:"Maldives"},MLI:{latitude:17,longitude:-4,label:"Mali"},MLT:{latitude:35.8333,longitude:14.5833,label:"Malta"},MHL:{latitude:9,longitude:168,label:"Marshall Islands"},MTQ:{latitude:14.6667,longitude:-61,label:"Martinique"},MRT:{latitude:20,longitude:-12,label:"Mauritania"},MUS:{latitude:-20.2833,longitude:57.55,label:"Mauritius"},MYT:{latitude:-12.8333,longitude:45.1667,label:"Mayotte"},MEX:{latitude:23,longitude:-102,label:"Mexico"},FSM:{latitude:6.9167,longitude:158.25,label:"Micronesia,  Federated States of"},MDA:{latitude:47,longitude:29,label:"Moldova,  Republic of"},MCO:{latitude:43.7333,longitude:7.4,label:"Monaco"},MNG:{latitude:46,longitude:105,label:"Mongolia"},MNE:{latitude:42,longitude:19,label:"Montenegro"},MSR:{latitude:16.75,longitude:-62.2,label:"Montserrat"},MAR:{latitude:32,longitude:-5,label:"Morocco"},MOZ:{latitude:-18.25,longitude:35,label:"Mozambique"},MMR:{latitude:22,longitude:98,label:"Burma"},NAM:{latitude:-22,longitude:17,label:"Namibia"},NRU:{latitude:-.5333,longitude:166.9167,label:"Nauru"},NPL:{latitude:28,longitude:84,label:"Nepal"},NLD:{latitude:52.5,longitude:5.75,label:"Netherlands"},ANT:{latitude:12.25,longitude:-68.75,label:"Netherlands Antilles"},NCL:{latitude:-21.5,longitude:165.5,label:"New Caledonia"},NZL:{latitude:-41,longitude:174,label:"New Zealand"},NIC:{latitude:13,longitude:-85,label:"Nicaragua"},NER:{latitude:16,longitude:8,label:"Niger"},NGA:{latitude:10,longitude:8,label:"Nigeria"},NIU:{latitude:-19.0333,longitude:-169.8667,label:"Niue"},NFK:{latitude:-29.0333,longitude:167.95,label:"Norfolk Island"},MNP:{latitude:15.2,longitude:145.75,label:"Northern Mariana Islands"},NOR:{latitude:62,longitude:10,label:"Norway"},OMN:{latitude:21,longitude:57,label:"Oman"},PAK:{latitude:30,longitude:70,label:"Pakistan"},PLW:{latitude:7.5,longitude:134.5,label:"Palau"},PSE:{latitude:32,longitude:35.25,label:"Palestinian Territory,  Occupied"},PAN:{latitude:9,longitude:-80,label:"Panama"},PNG:{latitude:-6,longitude:147,label:"Papua New Guinea"},PRY:{latitude:-23,longitude:-58,label:"Paraguay"},PER:{latitude:-10,longitude:-76,label:"Peru"},PHL:{latitude:13,longitude:122,label:"Philippines"},PCN:{latitude:-24.7,longitude:-127.4,label:"Pitcairn"},POL:{latitude:52,longitude:20,label:"Poland"},PRT:{latitude:39.5,longitude:-8,label:"Portugal"},PRI:{latitude:18.25,longitude:-66.5,label:"Puerto Rico"},QAT:{latitude:25.5,longitude:51.25,label:"Qatar"},REU:{latitude:-21.1,longitude:55.6,label:"RÃ©union"},ROU:{latitude:46,longitude:25,label:"Romania"},RUS:{latitude:60,longitude:100,label:"Russia"},RWA:{latitude:-2,longitude:30,label:"Rwanda"},SHN:{latitude:-15.9333,longitude:-5.7,label:"Saint Helena,  Ascension and Tristan da Cunha"},KNA:{latitude:17.3333,longitude:-62.75,label:"Saint Kitts and Nevis"},LCA:{latitude:13.8833,longitude:-61.1333,label:"Saint Lucia"},SPM:{latitude:46.8333,longitude:-56.3333,label:"Saint Pierre and Miquelon"},VCT:{latitude:13.25,longitude:-61.2,label:"St. Vincent and the Grenadines"},WSM:{latitude:-13.5833,longitude:-172.3333,label:"Samoa"},SMR:{latitude:43.7667,longitude:12.4167,label:"San Marino"},STP:{latitude:1,longitude:7,label:"Sao Tome and Principe"},SAU:{latitude:25,longitude:45,label:"Saudi Arabia"},SEN:{latitude:14,longitude:-14,label:"Senegal"},SRB:{latitude:44,longitude:21,label:"Serbia"},SYC:{latitude:-4.5833,longitude:55.6667,label:"Seychelles"},SLE:{latitude:8.5,longitude:-11.5,label:"Sierra Leone"},SGP:{latitude:1.3667,longitude:103.8,label:"Singapore"},SVK:{latitude:48.6667,longitude:19.5,label:"Slovakia"},SVN:{latitude:46,longitude:15,label:"Slovenia"},SLB:{latitude:-8,longitude:159,label:"Solomon Islands"},SOM:{latitude:10,longitude:49,label:"Somalia"},ZAF:{latitude:-29,longitude:24,label:"South Africa"},SGS:{latitude:-54.5,longitude:-37,label:"South Georgia and the South Sandwich Islands"},ESP:{latitude:40,longitude:-4,label:"Spain"},LKA:{latitude:7,longitude:81,label:"Sri Lanka"},SDN:{latitude:15,longitude:30,label:"Sudan"},SUR:{latitude:4,longitude:-56,label:"Suriname"},SJM:{latitude:78,longitude:20,label:"Svalbard and Jan Mayen"},SWZ:{latitude:-26.5,longitude:31.5,label:"Swaziland"},SWE:{latitude:62,longitude:15,label:"Sweden"},CHE:{latitude:47,longitude:8,label:"Switzerland"},SYR:{latitude:35,longitude:38,label:"Syrian Arab Republic"},TWN:{latitude:23.5,longitude:121,label:"Taiwan"},TJK:{latitude:39,longitude:71,label:"Tajikistan"},TZA:{latitude:-6,longitude:35,label:"Tanzania,  United Republic of"},THA:{latitude:15,longitude:100,label:"Thailand"},TLS:{latitude:-8.55,longitude:125.5167,label:"Timor-Leste"},TGO:{latitude:8,longitude:1.1667,label:"Togo"},TKL:{latitude:-9,longitude:-172,label:"Tokelau"},TON:{latitude:-20,longitude:-175,label:"Tonga"},TTO:{latitude:11,longitude:-61,label:"Trinidad & Tobago"},TUN:{latitude:34,longitude:9,label:"Tunisia"},TUR:{latitude:39,longitude:35,label:"Turkey"},TKM:{latitude:40,longitude:60,label:"Turkmenistan"},TCA:{latitude:21.75,longitude:-71.5833,label:"Turks and Caicos Islands"},TUV:{latitude:-8,longitude:178,label:"Tuvalu"},UGA:{latitude:1,longitude:32,label:"Uganda"},UKR:{latitude:49,longitude:32,label:"Ukraine"},ARE:{latitude:24,longitude:54,label:"United Arab Emirates"},GBR:{latitude:54,longitude:-2,label:"United Kingdom"},USA:{latitude:38,longitude:-97,label:"United States"},UMI:{latitude:19.2833,longitude:166.6,label:"United States Minor Outlying Islands"},URY:{latitude:-33,longitude:-56,label:"Uruguay"},UZB:{latitude:41,longitude:64,label:"Uzbekistan"},VUT:{latitude:-16,longitude:167,label:"Vanuatu"},VEN:{latitude:8,longitude:-66,label:"Venezuela"},VNM:{latitude:16,longitude:106,label:"Vietnam"},VGB:{latitude:18.5,longitude:-64.5,label:"Virgin Islands,  British"},VIR:{latitude:18.3333,longitude:-64.8333,label:"Virgin Islands,  U.S."},WLF:{latitude:-13.3,longitude:-176.2,label:"Wallis and Futuna"},ESH:{latitude:24.5,longitude:-13,label:"Western Sahara"},YEM:{latitude:15,longitude:48,label:"Yemen"},ZMB:{latitude:-15,longitude:30,label:"Zambia"},ZWE:{latitude:-20,longitude:30,label:"Zimbabwe"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.COUNTRY_UNM49={4:{latitude:33,longitude:65,label:"Afghanistan"},8:{latitude:41,longitude:20,label:"Albania"},10:{latitude:-90,longitude:0,label:"Antarctica"},12:{latitude:28,longitude:3,label:"Algeria"},16:{latitude:-14.3333,longitude:-170,label:"American Samoa"},20:{latitude:42.5,longitude:1.6,label:"Andorra"},24:{latitude:-12.5,longitude:18.5,label:"Angola"},28:{latitude:17.05,longitude:-61.8,label:"Antigua and Barbuda"},31:{latitude:40.5,longitude:47.5,label:"Azerbaijan"},32:{latitude:-34,longitude:-64,label:"Argentina"},36:{latitude:-27,longitude:133,label:"Australia"},40:{latitude:47.3333,longitude:13.3333,label:"Austria"},44:{latitude:24.25,longitude:-76,label:"Bahamas"},48:{latitude:26,longitude:50.55,label:"Bahrain"},50:{latitude:24,longitude:90,label:"Bangladesh"},51:{latitude:40,longitude:45,label:"Armenia"},52:{latitude:13.1667,longitude:-59.5333,label:"Barbados"},56:{latitude:50.8333,longitude:4,label:"Belgium"},60:{latitude:32.3333,longitude:-64.75,label:"Bermuda"},64:{latitude:27.5,longitude:90.5,label:"Bhutan"},68:{latitude:-17,longitude:-65,label:"Bolivia"},70:{latitude:44,longitude:18,label:"Bosnia and Herzegovina"},72:{latitude:-22,longitude:24,label:"Botswana"},74:{latitude:-54.4333,longitude:3.4,label:"Bouvet Island"},76:{latitude:-10,longitude:-55,label:"Brazil"},84:{latitude:17.25,longitude:-88.75,label:"Belize"},86:{latitude:-6,longitude:71.5,label:"British Indian Ocean Territory"},90:{latitude:-8,longitude:159,label:"Solomon Islands"},92:{latitude:18.5,longitude:-64.5,label:"Virgin Islands,  British"},96:{latitude:4.5,longitude:114.6667,label:"Brunei"},100:{latitude:43,longitude:25,label:"Bulgaria"},104:{latitude:22,longitude:98,label:"Burma"},108:{latitude:-3.5,longitude:30,label:"Burundi"},112:{latitude:53,longitude:28,label:"Belarus"},116:{latitude:13,longitude:105,label:"Cambodia"},120:{latitude:6,longitude:12,label:"Cameroon"},124:{latitude:60,longitude:-95,label:"Canada"},132:{latitude:16,longitude:-24,label:"Cape Verde"},136:{latitude:19.5,longitude:-80.5,label:"Cayman Islands"},140:{latitude:7,longitude:21,label:"Central African Republic"},144:{latitude:7,longitude:81,label:"Sri Lanka"},148:{latitude:15,longitude:19,label:"Chad"},152:{latitude:-30,longitude:-71,label:"Chile"},156:{latitude:35,longitude:105,label:"China"},158:{latitude:23.5,longitude:121,label:"Taiwan"},162:{latitude:-10.5,longitude:105.6667,label:"Christmas Island"},166:{latitude:-12.5,longitude:96.8333,label:"Cocos (Keeling) Islands"},170:{latitude:4,longitude:-72,label:"Colombia"},174:{latitude:-12.1667,longitude:44.25,label:"Comoros"},175:{latitude:-12.8333,longitude:45.1667,label:"Mayotte"},178:{latitude:-1,longitude:15,label:"Congo"},180:{latitude:0,longitude:25,label:"Congo,  the Democratic Republic of the"},184:{latitude:-21.2333,longitude:-159.7667,label:"Cook Islands"},188:{latitude:10,longitude:-84,label:"Costa Rica"},191:{latitude:45.1667,longitude:15.5,label:"Croatia"},192:{latitude:21.5,longitude:-80,label:"Cuba"},196:{latitude:35,longitude:33,label:"Cyprus"},203:{latitude:49.75,longitude:15.5,label:"Czech Republic"},204:{latitude:9.5,longitude:2.25,label:"Benin"},208:{latitude:56,longitude:10,label:"Denmark"},212:{latitude:15.4167,longitude:-61.3333,label:"Dominica"},214:{latitude:19,longitude:-70.6667,label:"Dominican Republic"},218:{latitude:-2,longitude:-77.5,label:"Ecuador"},222:{latitude:13.8333,longitude:-88.9167,label:"El Salvador"},226:{latitude:2,longitude:10,label:"Equatorial Guinea"},231:{latitude:8,longitude:38,label:"Ethiopia"},232:{latitude:15,longitude:39,label:"Eritrea"},233:{latitude:59,longitude:26,label:"Estonia"},234:{latitude:62,longitude:-7,label:"Faroe Islands"},238:{latitude:-51.75,longitude:-59,label:"Falkland Islands (Malvinas)"},239:{latitude:-54.5,longitude:-37,label:"South Georgia and the South Sandwich Islands"},242:{latitude:-18,longitude:175,label:"Fiji"},246:{latitude:64,longitude:26,label:"Finland"},250:{latitude:46,longitude:2,label:"France"},254:{latitude:4,longitude:-53,label:"French Guiana"},258:{latitude:-15,longitude:-140,label:"French Polynesia"},260:{latitude:-43,longitude:67,label:"French Southern Territories"},262:{latitude:11.5,longitude:43,label:"Djibouti"},266:{latitude:-1,longitude:11.75,label:"Gabon"},268:{latitude:42,longitude:43.5,label:"Georgia"},270:{latitude:13.4667,longitude:-16.5667,label:"Gambia"},275:{latitude:32,longitude:35.25,label:"Palestinian Territory,  Occupied"},276:{latitude:51,longitude:9,label:"Germany"},288:{latitude:8,longitude:-2,label:"Ghana"},292:{latitude:36.1833,longitude:-5.3667,label:"Gibraltar"},296:{latitude:1.4167,longitude:173,label:"Kiribati"},300:{latitude:39,longitude:22,label:"Greece"},304:{latitude:72,longitude:-40,label:"Greenland"},308:{latitude:12.1167,longitude:-61.6667,label:"Grenada"},312:{latitude:16.25,longitude:-61.5833,label:"Guadeloupe"},316:{latitude:13.4667,longitude:144.7833,label:"Guam"},320:{latitude:15.5,longitude:-90.25,label:"Guatemala"},324:{latitude:11,longitude:-10,label:"Guinea"},328:{latitude:5,longitude:-59,label:"Guyana"},332:{latitude:19,longitude:-72.4167,label:"Haiti"},334:{latitude:-53.1,longitude:72.5167,label:"Heard Island and McDonald Islands"},336:{latitude:41.9,longitude:12.45,label:"Holy See (Vatican City State)"},340:{latitude:15,longitude:-86.5,label:"Honduras"},344:{latitude:22.25,longitude:114.1667,label:"Hong Kong"},348:{latitude:47,longitude:20,label:"Hungary"},352:{latitude:65,longitude:-18,label:"Iceland"},356:{latitude:20,longitude:77,label:"India"},360:{latitude:-5,longitude:120,label:"Indonesia"},364:{latitude:32,longitude:53,label:"Iran,  Islamic Republic of"},368:{latitude:33,longitude:44,label:"Iraq"},372:{latitude:53,longitude:-8,label:"Ireland"},376:{latitude:31.5,longitude:34.75,label:"Israel"},380:{latitude:42.8333,longitude:12.8333,label:"Italy"},384:{latitude:8,longitude:-5,label:"Ivory Coast"},388:{latitude:18.25,longitude:-77.5,label:"Jamaica"},392:{latitude:36,longitude:138,label:"Japan"},398:{latitude:48,longitude:68,label:"Kazakhstan"},400:{latitude:31,longitude:36,label:"Jordan"},404:{latitude:1,longitude:38,label:"Kenya"},408:{latitude:40,longitude:127,label:"Korea,  Democratic People's Republic of"},410:{latitude:37,longitude:127.5,label:"South Korea"},414:{latitude:29.3375,longitude:47.6581,label:"Kuwait"},417:{latitude:41,longitude:75,label:"Kyrgyzstan"},418:{latitude:18,longitude:105,label:"Lao People's Democratic Republic"},422:{latitude:33.8333,longitude:35.8333,label:"Lebanon"},426:{latitude:-29.5,longitude:28.5,label:"Lesotho"},428:{latitude:57,longitude:25,label:"Latvia"},430:{latitude:6.5,longitude:-9.5,label:"Liberia"},434:{latitude:25,longitude:17,label:"Libya"},438:{latitude:47.1667,longitude:9.5333,label:"Liechtenstein"},440:{latitude:56,longitude:24,label:"Lithuania"},442:{latitude:49.75,longitude:6.1667,label:"Luxembourg"},446:{latitude:22.1667,longitude:113.55,label:"Macao"},450:{latitude:-20,longitude:47,label:"Madagascar"},454:{latitude:-13.5,longitude:34,label:"Malawi"},458:{latitude:2.5,longitude:112.5,label:"Malaysia"},462:{latitude:3.25,longitude:73,label:"Maldives"},466:{latitude:17,longitude:-4,label:"Mali"},470:{latitude:35.8333,longitude:14.5833,label:"Malta"},474:{latitude:14.6667,longitude:-61,label:"Martinique"},478:{latitude:20,longitude:-12,label:"Mauritania"},480:{latitude:-20.2833,longitude:57.55,label:"Mauritius"},484:{latitude:23,longitude:-102,label:"Mexico"},492:{latitude:43.7333,longitude:7.4,label:"Monaco"},496:{latitude:46,longitude:105,label:"Mongolia"},498:{latitude:47,longitude:29,label:"Moldova,  Republic of"},499:{latitude:42,longitude:19,label:"Montenegro"},500:{latitude:16.75,longitude:-62.2,label:"Montserrat"},504:{latitude:32,longitude:-5,label:"Morocco"},508:{latitude:-18.25,longitude:35,label:"Mozambique"},512:{latitude:21,longitude:57,label:"Oman"},516:{latitude:-22,longitude:17,label:"Namibia"},520:{latitude:-.5333,longitude:166.9167,label:"Nauru"},524:{latitude:28,longitude:84,label:"Nepal"},528:{latitude:52.5,longitude:5.75,label:"Netherlands"},530:{latitude:12.25,longitude:-68.75,label:"Netherlands Antilles"},533:{latitude:12.5,longitude:-69.9667,label:"Aruba"},540:{latitude:-21.5,longitude:165.5,label:"New Caledonia"},548:{latitude:-16,longitude:167,label:"Vanuatu"},554:{latitude:-41,longitude:174,label:"New Zealand"},558:{latitude:13,longitude:-85,label:"Nicaragua"},562:{latitude:16,longitude:8,label:"Niger"},566:{latitude:10,longitude:8,label:"Nigeria"},570:{latitude:-19.0333,longitude:-169.8667,label:"Niue"},574:{latitude:-29.0333,longitude:167.95,label:"Norfolk Island"},578:{latitude:62,longitude:10,label:"Norway"},580:{latitude:15.2,longitude:145.75,label:"Northern Mariana Islands"},581:{latitude:19.2833,longitude:166.6,label:"United States Minor Outlying Islands"},583:{latitude:6.9167,longitude:158.25,label:"Micronesia,  Federated States of"},584:{latitude:9,longitude:168,label:"Marshall Islands"},585:{latitude:7.5,longitude:134.5,label:"Palau"},586:{latitude:30,longitude:70,label:"Pakistan"},591:{latitude:9,longitude:-80,label:"Panama"},598:{latitude:-6,longitude:147,label:"Papua New Guinea"},600:{latitude:-23,longitude:-58,label:"Paraguay"},604:{latitude:-10,longitude:-76,label:"Peru"},608:{latitude:13,longitude:122,label:"Philippines"},612:{latitude:-24.7,longitude:-127.4,label:"Pitcairn"},616:{latitude:52,longitude:20,label:"Poland"},620:{latitude:39.5,longitude:-8,label:"Portugal"},624:{latitude:12,longitude:-15,label:"Guinea-Bissau"},626:{latitude:-8.55,longitude:125.5167,label:"Timor-Leste"},630:{latitude:18.25,longitude:-66.5,label:"Puerto Rico"},634:{latitude:25.5,longitude:51.25,label:"Qatar"},638:{latitude:-21.1,longitude:55.6,label:"RÃ©union"},642:{latitude:46,longitude:25,label:"Romania"},643:{latitude:60,longitude:100,label:"Russia"},646:{latitude:-2,longitude:30,label:"Rwanda"},654:{latitude:-15.9333,longitude:-5.7,label:"Saint Helena,  Ascension and Tristan da Cunha"},659:{latitude:17.3333,longitude:-62.75,label:"Saint Kitts and Nevis"},660:{latitude:18.25,longitude:-63.1667,label:"Anguilla"},662:{latitude:13.8833,longitude:-61.1333,label:"Saint Lucia"},666:{latitude:46.8333,longitude:-56.3333,label:"Saint Pierre and Miquelon"},670:{latitude:13.25,longitude:-61.2,label:"St. Vincent and the Grenadines"},674:{latitude:43.7667,longitude:12.4167,label:"San Marino"},678:{latitude:1,longitude:7,label:"Sao Tome and Principe"},682:{latitude:25,longitude:45,label:"Saudi Arabia"},686:{latitude:14,longitude:-14,label:"Senegal"},688:{latitude:44,longitude:21,label:"Serbia"},690:{latitude:-4.5833,longitude:55.6667,label:"Seychelles"},694:{latitude:8.5,longitude:-11.5,label:"Sierra Leone"},702:{latitude:1.3667,longitude:103.8,label:"Singapore"},703:{latitude:48.6667,longitude:19.5,label:"Slovakia"},704:{latitude:16,longitude:106,label:"Vietnam"},705:{latitude:46,longitude:15,label:"Slovenia"},706:{latitude:10,longitude:49,label:"Somalia"},710:{latitude:-29,longitude:24,label:"South Africa"},716:{latitude:-20,longitude:30,label:"Zimbabwe"},724:{latitude:40,longitude:-4,label:"Spain"},732:{latitude:24.5,longitude:-13,label:"Western Sahara"},736:{latitude:15,longitude:30,label:"Sudan"},740:{latitude:4,longitude:-56,label:"Suriname"},744:{latitude:78,longitude:20,label:"Svalbard and Jan Mayen"},748:{latitude:-26.5,longitude:31.5,label:"Swaziland"},752:{latitude:62,longitude:15,label:"Sweden"},756:{latitude:47,longitude:8,label:"Switzerland"},760:{latitude:35,longitude:38,label:"Syrian Arab Republic"},762:{latitude:39,longitude:71,label:"Tajikistan"},764:{latitude:15,longitude:100,label:"Thailand"},768:{latitude:8,longitude:1.1667,label:"Togo"},772:{latitude:-9,longitude:-172,label:"Tokelau"},776:{latitude:-20,longitude:-175,label:"Tonga"},780:{latitude:11,longitude:-61,label:"Trinidad & Tobago"},784:{latitude:24,longitude:54,label:"United Arab Emirates"},788:{latitude:34,longitude:9,label:"Tunisia"},792:{latitude:39,longitude:35,label:"Turkey"},795:{latitude:40,longitude:60,label:"Turkmenistan"},796:{latitude:21.75,longitude:-71.5833,label:"Turks and Caicos Islands"},798:{latitude:-8,longitude:178,label:"Tuvalu"},800:{latitude:1,longitude:32,label:"Uganda"},804:{latitude:49,longitude:32,label:"Ukraine"},807:{latitude:41.8333,longitude:22,label:"Macedonia,  the former Yugoslav Republic of"},818:{latitude:27,longitude:30,label:"Egypt"},826:{latitude:54,longitude:-2,label:"United Kingdom"},831:{latitude:49.5,longitude:-2.56,label:"Guernsey"},832:{latitude:49.21,longitude:-2.13,label:"Jersey"},833:{latitude:54.23,longitude:-4.55,label:"Isle of Man"},834:{latitude:-6,longitude:35,label:"Tanzania,  United Republic of"},840:{latitude:38,longitude:-97,label:"United States"},850:{latitude:18.3333,longitude:-64.8333,label:"Virgin Islands,  U.S."},854:{latitude:13,longitude:-2,label:"Burkina Faso"},858:{latitude:-33,longitude:-56,label:"Uruguay"},860:{latitude:41,longitude:64,label:"Uzbekistan"},862:{latitude:8,longitude:-66,label:"Venezuela"},876:{latitude:-13.3,longitude:-176.2,label:"Wallis and Futuna"},882:{latitude:-13.5833,longitude:-172.3333,label:"Samoa"},887:{latitude:15,longitude:48,label:"Yemen"},894:{latitude:-15,longitude:30,label:"Zambia"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(99);var r=i(100);var a=i(101);t.ENCODINGS=["ISO 3166-1 Alpha-2","ISO 3166-1 Alpha-3","UN M49"];t.CODES_BY_ENCODING={"ISO 3166-1 Alpha-2":n.COUNTRY_ALPHA2,"ISO 3166-1 Alpha-3":r.COUNTRY_ALPHA3,"UN M49":a.COUNTRY_UNM49};function o(e){if(t.ENCODINGS.indexOf(e)===-1)throw new Error("Unknown encoding: "+e);return t.CODES_BY_ENCODING[e]}t.getCodes=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(23);var r;var a=function(){function e(e){this.insert=n(e,"insert")?e.insert:null;this.replace=n(e,"replace")?e.replace:null;if(this.insert==null&&this.replace==null)throw new Error("invalid drag position")}e.isDragPosition=function(t){return t instanceof e};e.calculateFromOffset=function(t,i,n,r){if(!i){return new e({replace:0})}if(t<0){return new e({insert:0})}var a=n+r;var o=Math.floor(t/a);if(i<=o){return new e({replace:i})}var l=t-a*o;if(l<n){return new e({replace:o})}else{return new e({insert:o+1})}};e.fromJS=function(t){return new e(t)};e.prototype.valueOf=function(){return{insert:this.insert,replace:this.replace}};e.prototype.toJS=function(){var e={};if(this.insert!=null)e.insert=this.insert;if(this.replace!=null)e.replace=this.replace;return e};e.prototype.toJSON=function(){return this.toJS()};e.prototype.toString=function(){if(this.insert!=null){return"[insert "+this.insert+"]"}else{return"[replace "+this.replace+"]"}};e.prototype.equals=function(t){return e.isDragPosition(t)&&this.insert===t.insert&&this.replace===t.replace};e.prototype.isInsert=function(){return this.insert!==null};e.prototype.isReplace=function(){return this.replace!==null};return e}();t.DragPosition=a;r=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t,i){return function(n){var r={label:n[e],value:n[t]};if(i)r.description=n[i];return r}}t.listItemize=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(58);var r=i(59);var a=i(60);var o=i(61);var l=i(62);var s=i(63);t.MANIFESTS=[s.TOTALS_MANIFEST,l.TABLE_MANIFEST,o.LINE_CHART_MANIFEST,n.BAR_CHART_MANIFEST,a.HEATMAP_MANIFEST,r.GEO_MANIFEST]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=i(6);var o=i(64);var l=function(e){n.__extends(t,e);function t(t){if(t===void 0){t={}}return e.call(this,t)||this}t.fromJS=function(e){return new t(r.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.fromFormula=function(e){return t.fromExpression(a.Expression.parse(e))};t.fromExpression=function(e){if(e instanceof a.CountExpression){if(!t.isMainDataReference(e.operand))return null;var i=t.fromJS({aggregation:"count",column:null,filter:o.MeasureFilter.fromExpression(e.operand.expression)});if(i.hasSimpleFilter())return i}if(e instanceof a.SumExpression||e instanceof a.MinExpression||e instanceof a.MaxExpression||e instanceof a.AverageExpression||e instanceof a.CountDistinctExpression||e instanceof a.QuantileExpression){if(!t.isMainDataReference(e.operand))return null;var n=e.expression;if(!(n instanceof a.RefExpression))return null;var r=void 0;if(e instanceof a.QuantileExpression){if(e.value===.5){r="median"}else if(e.value===.98){r="98th"}else{return null}}else{r=e.op}var i=t.fromJS({aggregation:r,column:n.name,filter:o.MeasureFilter.fromExpression(e.operand.expression)});if(i.hasSimpleFilter())return i}return null};t.isMainDataReference=function(e){var t=a.$("main");return e.equals(t)||e instanceof a.FilterExpression&&e.operand.equals(t)};t.prototype.toFormula=function(){return this.toExpression().toString()};t.prototype.toExpression=function(){var e=a.$("main");if(this.filter){e=e.filter(this.filter.toString())}var t=this.aggregation;var i=null;if(t==="median"||t==="98th"){i=t==="median"?.5:.98;t="quantile"}var n=a.Expression.fromJS({op:t,expression:this.column?a.$(this.column):null,value:i});return e.performAction(n)};t.prototype.canHaveColumn=function(){return this.aggregation!=="count"};t.prototype.changeAggregation=function(e){var i=this.valueOf();i.aggregation=e;if(i.aggregation!=="count"&&!i.column){i.column=this.possibleColumns[0]}return new t(i)};t.prototype.hasSimpleFilter=function(){if(!this.filter)return true;return this.filter.isSimpleFilter()};t.prototype.removeFilter=function(){var e=this.valueOf();e.filter=null;return new t(e)};t.prototype.createDefaultFilter=function(e){var t=o.MeasureFilter.fromJS({column:e,operator:o.MeasureFilter.OPERATORS[0].value,value:""});return this.changeFilter(t)};return t}(r.BaseImmutable);l.AGGREGATIONS=[{label:"Count",value:"count"},{label:"Sum",value:"sum"},{label:"Average",value:"average"},{label:"Min",value:"min"},{label:"Max",value:"max"},{label:"Unique values",value:"countDistinct"},{label:"Median",value:"median"},{label:"98th percentile",value:"98th"}];l.DEFAULT_AGGREGATION=l.AGGREGATIONS[1].value;l.PROPERTIES=[{name:"aggregation",defaultValue:"count"},{name:"column",defaultValue:null},{name:"possibleColumns",defaultValue:[]},{name:"filter",immutableClass:o.MeasureFilter,defaultValue:null}];t.MeasureFormula=l;r.BaseImmutable.finalize(l)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(6);var r=i(29);var a=i(31);var o;var l=function(){function e(e){this.dimension=e.dimension;this.measure=e.measure;if(!(this.dimension||this.measure))throw new Error("must have a dimension or a measure")}e.isSortOn=function(t){return t instanceof e};e.equal=function(e,t){return e===t||e.equals(t)};e.getName=function(e){return e.toName()};e.getTitle=function(e){return e.getTitle()};e.fromDimension=function(t){return new e({dimension:t})};e.fromMeasure=function(t){return new e({measure:t})};e.fromSortAction=function(t,i,n){if(!t)return e.fromDimension(n)
;var r=t.expression.name;var a=i.getMeasure(r);if(a)return e.fromMeasure(a);return e.fromDimension(n)};e.fromJS=function(t){var i={};if(t.dimension){i.dimension=r.Dimension.fromJS(t.dimension)}else{i.measure=a.Measure.fromJS(t.measure)}return new e(i)};e.prototype.valueOf=function(){return{dimension:this.dimension,measure:this.measure}};e.prototype.toJS=function(){var e={};if(this.dimension){e.dimension=this.dimension.toJS()}else{e.measure=this.measure.toJS()}return e};e.prototype.toJSON=function(){return this.toJS()};e.prototype.toString=function(){return"[SortOn: "+this.toName()+"]"};e.prototype.equals=function(t){return e.isSortOn(t)&&(this.dimension?this.dimension.equals(t.dimension):this.measure.equals(t.measure))};e.prototype.toName=function(){var e=this.measure;return e?e.name:this.dimension.name};e.prototype.getTitle=function(){var e=this.measure;return e?e.title:this.dimension.title};e.prototype.getExpression=function(){return n.$(this.toName())};return e}();t.SortOn=l;o=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=function(e){n.__extends(t,e);function t(t){var i=e.call(this,t)||this;if(i.time&&!i.updated)i.updated=i.time;return i}t.isTimeTag=function(e){return e instanceof t};t.fromJS=function(e){return new t(r.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.changeTime=function(e,i){var n=this.valueOf();n.time=e;n.updated=i;return new t(n)};t.prototype.touch=function(e){var i=this.valueOf();i.updated=e;return new t(i)};return t}(r.BaseImmutable);a.PROPERTIES=[{name:"name"},{name:"time",type:r.PropertyType.DATE,defaultValue:null},{name:"updated",type:r.PropertyType.DATE,defaultValue:null}];t.TimeTag=a;r.BaseImmutable.finalize(a)},,,,,function(e,t,i){t=e.exports=i(3)(undefined)
;t.push([e.i,'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,button,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;outline:none}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}table{border-collapse:collapse;border-spacing:0}input{outline:none;font-size:inherit;font-family:inherit}*{box-sizing:border-box;cursor:inherit}body *{position:relative;vertical-align:top}a{text-decoration:inherit;color:inherit;cursor:inherit}div,span{cursor:inherit}button,input{border:0;margin:0}text{cursor:default}path{fill-rule:evenodd}@font-face{font-family:\'Open Sans\';font-weight:600;font-style:normal;src:url("/fonts/Open-Sans-600/Open-Sans-600.eot");src:url("/fonts/Open-Sans-600/Open-Sans-600.eot?#iefix") format("embedded-opentype"),local("Open Sans Semibold"),local("Open-Sans-600"),url("/fonts/Open-Sans-600/Open-Sans-600.woff2") format("woff2"),url("/fonts/Open-Sans-600/Open-Sans-600.woff") format("woff"),url("/fonts/Open-Sans-600/Open-Sans-600.ttf") format("truetype"),url("/fonts/Open-Sans-600/Open-Sans-600.svg#OpenSans") format("svg")}@font-face{font-family:\'Open Sans\';font-weight:400;font-style:normal;src:url("/fonts/Open-Sans-regular/Open-Sans-regular.eot");src:url("/fonts/Open-Sans-regular/Open-Sans-regular.eot?#iefix") format("embedded-opentype"),local("Open Sans"),local("Open-Sans-regular"),url("/fonts/Open-Sans-regular/Open-Sans-regular.woff2") format("woff2"),url("/fonts/Open-Sans-regular/Open-Sans-regular.woff") format("woff"),url("/fonts/Open-Sans-regular/Open-Sans-regular.ttf") format("truetype"),url("/fonts/Open-Sans-regular/Open-Sans-regular.svg#OpenSans") format("svg")}.bubble-menu{background:#fff;border-radius:2px;box-shadow:0 3px 10px 0 rgba(0,0,0,0.26),0 0 3px 0 rgba(0,0,0,0.16)}.body-portal{position:absolute}.body-portal.full-size{width:100%;height:100%}.bubble-menu{background:#fff;border-radius:2px;box-shadow:0 3px 10px 0 rgba(0,0,0,0.26),0 0 3px 0 rgba(0,0,0,0.16)}.bubble-menu{position:absolute;padding:14px}.bubble-menu.mini{padding:10px}.bubble-menu.mini ul.bubble-list{margin-left:-10px;margin-right:-10px}.bubble-menu .menu-header{position:absolute;top:0;left:0;right:0;height:40px}.bubble-menu .bubble-list-title{line-height:28px;color:#a6a6a6;font-size:12px;text-transform:uppercase}.bubble-menu ul.bubble-list{margin-left:-14px;margin-right:-14px}.bubble-menu ul.bubble-list li{padding:0 14px;line-height:28px;cursor:pointer;color:#1ea3e6;font-weight:600}.bubble-menu ul.bubble-list li:hover{background:rgba(30,163,230,0.12)}.bubble-menu ul.bubble-list li.selected{background:#ededed}.bubble-menu ul.bubble-list li.delete,.bubble-menu ul.bubble-list li.dangerous{color:#e24b4b}.bubble-menu ul.bubble-list li.delete:hover,.bubble-menu ul.bubble-list li.dangerous:hover{background:rgba(226,75,75,0.12)}.bubble-menu ul.bubble-list li.read-only{color:#999;cursor:default;pointer-events:none}.bubble-menu .ok-cancel-bar{margin-top:12px}.bubble-menu .ok-cancel-bar button{min-width:70px}.bubble-menu .ok-cancel-bar button:not(:last-child){margin-right:6px}.bubble-menu p.info{line-height:18px}.button-group{margin-bottom:12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.button-group .button-group-title{text-transform:uppercase;font-size:12px;color:#a6a6a6;margin-bottom:5px;margin-bottom:6px}.button-group .group-container{display:-webkit-box;display:-ms-flexbox;display:flex}.button-group .button-wrapper{-webkit-box-flex:2;-ms-flex:2;flex:2}.button-group .button-wrapper>button{background:#fff;border:1px solid #d1d1d1;border-radius:2px;cursor:pointer;box-shadow:0 1px 1px 0 rgba(0,0,0,0.1);border-radius:0;border-right:0;height:30px;width:100%}.button-group .button-wrapper>button:hover{border-color:#bababa}.button-group .button-wrapper>button svg path{fill:#999}.button-group .button-wrapper>button.active{box-shadow:inset 0 1px 1px 0 rgba(0,0,0,0.1);background:#ededed}.button-group .button-wrapper>button.active svg path{fill:#444}.button-group .button-wrapper>button:not(.active):not(:hover){color:#999}.button-group .button-wrapper>button:not(.no-focus):focus{color:#1ea3e6 !important}.button-group .button-wrapper:first-child>button{border-top-left-radius:2px;border-bottom-left-radius:2px}.button-group .button-wrapper:last-child>button{border-right:1px solid #d1d1d1;border-top-right-radius:2px;border-bottom-right-radius:2px}.button.primary,.button.secondary,.button.warn{display:inline-block;padding:6px 16px;font-size:13px;font-weight:600;min-width:80px;text-align:center;cursor:pointer;border-radius:2px;outline:none;height:30px}.disabled.button.primary,.disabled.button.secondary,.disabled.button.warn,[disabled].button.primary,[disabled].button.secondary,[disabled].button.warn{opacity:.60;cursor:default;pointer-events:none}.button.light,.button.light-action{color:#000;background-color:transparent;cursor:pointer}.button.light:hover,.button.light-action:hover,.button.light:focus,.button.light-action:focus{background-color:#e3f4fc}.active.button.light,.active.button.light-action{background-color:#c3e7f8}.button.primary{background:#1ea3e6;color:#fff}.button.primary svg path{fill:#fff}.button.primary:hover,.button.primary:focus{background:#1795d3}.button.primary.active,.button.primary:active{background:#1584bc;color:#e0e0e0}.button.primary.active svg path,.button.primary:active svg path{fill:#e0e0e0}.button.secondary{background:rgba(30,163,230,0.22);color:#1ea3e6}.button.secondary svg path{fill:#1ea3e6}.button.secondary:hover{background:rgba(30,163,230,0.3)}.button.secondary.active,.button.secondary:active{background:rgba(30,163,230,0.38)}.button.warn{background:#e24b4b;color:#fff}.button.warn svg path{fill:#fff}.button.warn:hover{background:#de3535}.button.warn.active,.button.warn:active{background:#d72323;color:#e0e0e0}.button.warn.active svg path,.button.warn:active svg path{fill:#e0e0e0}.button.warn.secondary{background:rgba(226,75,75,0.22);color:#e24b4b}.button.warn.secondary svg path{fill:#e24b4b}.button.warn.secondary:hover{background:rgba(226,75,75,0.3)}.button.warn.secondary.active,.button.warn.secondary:active{background:rgba(226,75,75,0.38)}.button.mini{height:28px;padding-left:10px;padding-right:10px;min-width:40px}.button.icon{min-width:27px;padding:2px 0}.button.icon svg{height:19px;margin-right:2px}.button.with-badge .badge{margin-left:6px;background-color:rgba(0,0,0,0.08);padding:1px 5px;border-radius:7px;font-size:11px}.button.light-action{font-size:12px;text-transform:uppercase;color:#1ea3e6;padding:6px;border-radius:2px}.button.light-action:not(:last-child){margin-right:15px}.checkbox{display:inline-block;vertical-align:top;width:20px;height:100%;cursor:pointer;margin-right:3px}.checkbox .checkbox-body{position:absolute;left:0;top:3px;background:rgba(0,0,0,0.12);width:15px;height:15px;border-radius:2px}.checkbox.radio .checkbox-body{border-radius:30px}.checkbox:focus.check .checkbox-body{border:1px solid #1ea3e6;border-radius:2px}.checkbox.selected .checkbox-body{background:#1ea3e6}.checkbox.selected.radio .checkbox-body::after{content:\'\';position:absolute;top:5px;left:5px;width:5px;height:5px;border-radius:30px;background:#fff}.checkbox .main-icon{position:absolute;top:4px;left:2px;width:11px;height:14px}.checkbox .main-icon path{fill:#fff}.checkbox .round-icon{position:absolute;right:0;top:4px}.checkbox .label{position:absolute;left:25px;top:5px}.clearable-input{padding-right:28px}.clearable-input input{width:100%;height:100%;background:none}.clearable-input .clear{position:absolute;top:5px;right:6px;cursor:pointer;background:#d9d9d9;border-radius:30px;width:18px;height:18px}.clearable-input .clear:hover{background:#bababa}.clearable-input .clear svg{width:10px;margin-top:5px;margin-left:4px}.clearable-input .clear svg path{fill:#fff}.clearable-input.empty .clear{display:none}.collapsible-container>.container-label{cursor:pointer}.collapsible-container>.container-label .svg-icon{width:16px;position:absolute;top:-2px;margin-left:3px}.collapsible-container.open>.container-label{margin-bottom:30px}.collapsible-container.open>.container-label .svg-icon{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.colored-label{height:30px;padding-left:8px;padding-top:2px;border-radius:2px}.colored-label>*{display:inline-block}.colored-label .label{position:absolute;top:50%;-webkit-transform:translate(0, -50%);-ms-transform:translate(0, -50%);transform:translate(0, -50%);font-weight:600}.colored-label.info{background-color:#f2f2f2;color:#666}.colored-label.info .svg-icon path{color:#666}.colored-label.success{background-color:#dcf4e6;color:#2dbe69}.colored-label.success .svg-icon path{fill:#2dbe69}.colored-label.inverted-success{background-color:#2dbe69;color:#dcf4e6}.colored-label.inverted-success .svg-icon path{fill:#dcf4e6}.colored-label .svg-icon{height:1em;width:1em;position:absolute;top:50%;-webkit-transform:translate(0, -50%);-ms-transform:translate(0, -50%);transform:translate(0, -50%)}.colored-label.has-icon .label{padding-left:1.5em}.dropdown{cursor:pointer;white-space:nowrap}.dropdown:focus .selected-item{border-color:#1ea3e6}.dropdown:hover .caret-icon path{fill:#999}.dropdown .selected-item{background:#fff;border:1px solid #d1d1d1;border-radius:2px;cursor:pointer;box-shadow:0 1px 1px 0 rgba(0,0,0,0.1);white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;display:block;height:30px;padding:8px 22px 0 6px}.dropdown .selected-item:hover{border-color:#bababa}.dropdown .dropdown-label{text-transform:uppercase;font-size:12px;color:#a6a6a6;margin-bottom:5px}.dropdown .caret-icon{position:absolute;width:11px;height:9px;right:9px;bottom:9px}.dropdown .caret-icon path{fill:#a6a6a6}.dropdown .dropdown-menu{background:#fff;border-radius:2px;box-shadow:0 3px 10px 0 rgba(0,0,0,0.26),0 0 3px 0 rgba(0,0,0,0.16);position:absolute;pointer-events:auto;z-index:800;padding:8px 0;width:100%;line-height:24px;margin-bottom:60px}.dropdown.down .dropdown-menu{top:100%}.dropdown.up .dropdown-menu{bottom:100%}.dropdown .dropdown-item{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;padding:0 10px;cursor:pointer}.dropdown .dropdown-item.selected{background:#ededed}.dropdown .dropdown-item:hover,.dropdown .dropdown-item.hovered{background:#e3f4fc}.form-label{height:20px}.form-label .label{text-transform:uppercase;font-size:12px;color:#a6a6a6;margin-bottom:5px}.form-label .round-icon{position:absolute;right:1px;top:0px}.golden-center>div{margin:auto}.grid-row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0}.grid-row .grid-col-0{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:0%;flex-basis:0%;max-width:0%}.grid-row .grid-col-0:not(.variable-width)>*{width:100%}.grid-row .grid-col-0:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-0.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-0.left{text-align:left}.grid-row .grid-col-0.right{text-align:right}.grid-row .grid-col-0.center{text-align:center}.grid-row .grid-col-0.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-0.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-0.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-0.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-0.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-0.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-10{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:10%;flex-basis:10%;max-width:10%}.grid-row .grid-col-10:not(.variable-width)>*{width:100%}.grid-row .grid-col-10:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-10.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-10.left{text-align:left}.grid-row .grid-col-10.right{text-align:right}.grid-row .grid-col-10.center{text-align:center}.grid-row .grid-col-10.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-10.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-10.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-10.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-10.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-10.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-20{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:20%;flex-basis:20%;max-width:20%}.grid-row .grid-col-20:not(.variable-width)>*{width:100%}.grid-row .grid-col-20:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-20.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-20.left{text-align:left}.grid-row .grid-col-20.right{text-align:right}.grid-row .grid-col-20.center{text-align:center}.grid-row .grid-col-20.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-20.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-20.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-20.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-20.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-20.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-30{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:30%;flex-basis:30%;max-width:30%}.grid-row .grid-col-30:not(.variable-width)>*{width:100%}.grid-row .grid-col-30:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-30.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-30.left{text-align:left}.grid-row .grid-col-30.right{text-align:right}.grid-row .grid-col-30.center{text-align:center}.grid-row .grid-col-30.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-30.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-30.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-30.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-30.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-30.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-40{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:40%;flex-basis:40%;max-width:40%}.grid-row .grid-col-40:not(.variable-width)>*{width:100%}.grid-row .grid-col-40:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-40.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-40.left{text-align:left}.grid-row .grid-col-40.right{text-align:right}.grid-row .grid-col-40.center{text-align:center}.grid-row .grid-col-40.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-40.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-40.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-40.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-40.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-40.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-50{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.grid-row .grid-col-50:not(.variable-width)>*{width:100%}.grid-row .grid-col-50:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-50.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-50.left{text-align:left}.grid-row .grid-col-50.right{text-align:right}.grid-row .grid-col-50.center{text-align:center}.grid-row .grid-col-50.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-50.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-50.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-50.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-50.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-50.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-60{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:60%;flex-basis:60%;max-width:60%}.grid-row .grid-col-60:not(.variable-width)>*{width:100%}.grid-row .grid-col-60:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-60.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-60.left{text-align:left}.grid-row .grid-col-60.right{text-align:right}.grid-row .grid-col-60.center{text-align:center}.grid-row .grid-col-60.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-60.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-60.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-60.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-60.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-60.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-70{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:70%;flex-basis:70%;max-width:70%}.grid-row .grid-col-70:not(.variable-width)>*{width:100%}.grid-row .grid-col-70:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-70.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-70.left{text-align:left}.grid-row .grid-col-70.right{text-align:right}.grid-row .grid-col-70.center{text-align:center}.grid-row .grid-col-70.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-70.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-70.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-70.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-70.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-70.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-80{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:80%;flex-basis:80%;max-width:80%}.grid-row .grid-col-80:not(.variable-width)>*{width:100%}.grid-row .grid-col-80:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-80.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-80.left{text-align:left}.grid-row .grid-col-80.right{text-align:right}.grid-row .grid-col-80.center{text-align:center}.grid-row .grid-col-80.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-80.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-80.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-80.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-80.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-80.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-90{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:90%;flex-basis:90%;max-width:90%}.grid-row .grid-col-90:not(.variable-width)>*{width:100%}.grid-row .grid-col-90:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-90.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-90.left{text-align:left}.grid-row .grid-col-90.right{text-align:right}.grid-row .grid-col-90.center{text-align:center}.grid-row .grid-col-90.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-90.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-90.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-90.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-90.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-90.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-100{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.grid-row .grid-col-100:not(.variable-width)>*{width:100%}.grid-row .grid-col-100:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-100.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-100.left{text-align:left}.grid-row .grid-col-100.right{text-align:right}.grid-row .grid-col-100.center{text-align:center}.grid-row .grid-col-100.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-100.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-100.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-100.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-100.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-100.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-33{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.grid-row .grid-col-33:not(.variable-width)>*{width:100%}.grid-row .grid-col-33:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-33.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-33.left{text-align:left}.grid-row .grid-col-33.right{text-align:right}.grid-row .grid-col-33.center{text-align:center}.grid-row .grid-col-33.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-33.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-33.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-33.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-33.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-33.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-auto-expand{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;-ms-flex-positive:1;flex-grow:1}.grid-row .grid-col-auto-expand:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-auto-expand.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-auto-expand.left{text-align:left}.grid-row .grid-col-auto-expand.right{text-align:right}.grid-row .grid-col-auto-expand.center{text-align:center}.grid-row .grid-col-auto-expand.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-auto-expand.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-auto-expand.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-auto-expand.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-auto-expand.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-auto-expand.h-padded:not(:last-child){padding-right:10px}.grid-row .grid-col-fit-content{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;position:relative;padding-top:10px;padding-bottom:10px;overflow:visible;flex-grow:0}.grid-row .grid-col-fit-content:not(.vertical)>*:not(.grid-row){display:inline-block;vertical-align:top}.grid-row .grid-col-fit-content.vertical>*:not(.grid-row){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.grid-row .grid-col-fit-content.left{text-align:left}.grid-row .grid-col-fit-content.right{text-align:right}.grid-row .grid-col-fit-content.center{text-align:center}.grid-row .grid-col-fit-content.middle{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.grid-row .grid-col-fit-content.top{-ms-flex-item-align:start;align-self:flex-start}.grid-row .grid-col-fit-content.bottom{-ms-flex-item-align:end;align-self:flex-end}.grid-row .grid-col-fit-content.stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.grid-row .grid-col-fit-content.h-padded:not(:first-child){padding-left:10px}.grid-row .grid-col-fit-content.h-padded:not(:last-child){padding-right:10px}.header-bar{background:#1ea3e6;color:#fff;font-size:16px;z-index:11;height:41px}.header-bar .left-bar{display:inline-block;height:100%;padding-left:12px;padding-right:12px;cursor:pointer}.header-bar .left-bar .menu-icon,.header-bar .left-bar .description-icon{display:inline-block;padding:11px 5px}.header-bar .left-bar .menu-icon svg path,.header-bar .left-bar .description-icon svg path{fill:#fff}.header-bar .left-bar .title{display:inline-block;font-size:14px;font-weight:600;padding:0 2px 0 4px;line-height:42px}.header-bar .left-bar .title:first-child{padding:0 3px 0 7px}.header-bar .left-bar .description-icon{opacity:0.6}.header-bar .left-bar .description-icon:hover{opacity:0.85}.header-bar .right-bar{position:absolute;top:0;right:14px}.header-bar .left-bar .text-button,.header-bar .right-bar .text-button{display:inline-block;font-size:12px;text-transform:uppercase;font-weight:600;height:42px;line-height:42px;padding:0 5px;margin-right:2px;cursor:pointer;background-color:transparent;color:#fff}.header-bar .left-bar .svg-text-button>*:not(:first-child),.header-bar .right-bar .svg-text-button>*:not(:first-child){padding-left:3px}.header-bar .left-bar .svg-text-button .svg-icon,.header-bar .right-bar .svg-text-button .svg-icon{width:initial;height:23px;top:8px}.header-bar .left-bar .svg-text-button .svg-icon path,.header-bar .right-bar .svg-text-button .svg-icon path{fill:white}.header-bar .left-bar .svg-text-button .faded,.header-bar .right-bar .svg-text-button .faded{opacity:0.6}.header-bar .left-bar .icon-button,.header-bar .right-bar .icon-button{display:inline-block;padding:11px 7px;cursor:pointer}.header-bar .left-bar .icon-button:hover:after,.header-bar .right-bar .icon-button:hover:after{content:\'\';position:absolute;top:4px;left:0;background:#fff;opacity:0.25;width:33px;height:33px;border-radius:33px}.header-bar .left-bar .icon-button:not(:first-child),.header-bar .right-bar .icon-button:not(:first-child){margin-left:1px}.header-bar .left-bar .icon-button svg path,.header-bar .right-bar .icon-button svg path{fill:#fff}.header-bar .left-bar .button-group,.header-bar .right-bar .button-group{display:inline-block;padding-top:6px;margin-left:8px;margin-bottom:12px}.header-bar .left-bar .button-group>*:not(:last-child),.header-bar .right-bar .button-group>*:not(:last-child){margin-right:8px}.header-bar .left-bar .button-group .cancel,.header-bar .left-bar .button-group .more,.header-bar .right-bar .button-group .cancel,.header-bar .right-bar .button-group .more{color:#fff;background-color:rgba(255,255,255,0.25)}.header-bar .left-bar .button-group .cancel:hover,.header-bar .left-bar .button-group .more:hover,.header-bar .right-bar .button-group .cancel:hover,.header-bar .right-bar .button-group .more:hover{background-color:rgba(255,255,255,0.34)}.header-bar .left-bar .button-group .save,.header-bar .right-bar .button-group .save{color:#fff;background-color:#0d5173}.header-bar .left-bar .button-group .save:hover,.header-bar .right-bar .button-group .save:hover{background-color:#0b4460}.header-bar svg{height:19px;width:19px}.info-spot{position:absolute;top:0;left:0;width:220px;background:#fff;border-radius:2px;box-shadow:0 3px 10px 0 rgba(0,0,0,0.26),0 0 3px 0 rgba(0,0,0,0.16);padding:10px}.info-spot .info-spot-title{font-weight:600;margin-bottom:5px;color:#666}.info-spot .info-spot-content{font-size:12px;line-height:17px;color:#999}.info-spot .info-spot-content .error-text{color:#e24b4b;margin-bottom:10px}.info-spot .info-spot-content a{color:#1ea3e6;cursor:pointer;font-weight:600}.info-spot .info-spot-content a:hover{text-decoration:underline}.info-spot .info-spot-content em{font-style:italic}.info-spot .info-spot-content code{color:#737373;background:rgba(0,0,0,0.08);border-radius:2px;padding:0 4px;margin:0 2px}.info-spot.in-modal{-webkit-transform:translate(100%, 0);-ms-transform:translate(100%, 0);transform:translate(100%, 0);left:auto;right:-10px}.info-spot.in-modal p:last-child{margin-bottom:0}.loader svg{position:absolute;top:50%;left:50%;width:30px;height:30px;margin-left:-15px;margin-top:-15px;-webkit-animation-name:loader-appears;animation-name:loader-appears;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-timing-function:linear;animation-timing-function:linear}.loader svg circle{-webkit-animation-name:loader-circle;animation-name:loader-circle;-webkit-animation-duration:0.5s;animation-duration:0.5s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate}@-webkit-keyframes loader-circle{0%{fill-opacity:1}100%{fill-opacity:0.2}}@keyframes loader-circle{0%{fill-opacity:1}100%{fill-opacity:0.2}}@-webkit-keyframes loader-appears{0%{opacity:0}100%{opacity:1}}@keyframes loader-appears{0%{opacity:0}100%{opacity:1}}.loader svg circle:nth-child(1){-webkit-animation-delay:-400s;animation-delay:-400s}.loader svg circle:nth-child(2){-webkit-animation-delay:-300ms;animation-delay:-300ms}.loader svg circle:nth-child(3){-webkit-animation-delay:-100ms;animation-delay:-100ms}.loader svg circle:nth-child(4){-webkit-animation-delay:200ms;animation-delay:200ms}.loader svg circle:nth-child(5){-webkit-animation-delay:400ms;animation-delay:400ms}.loader svg circle:nth-child(6){-webkit-animation-delay:0ms;animation-delay:0ms}.loader svg circle:nth-child(7){-webkit-animation-delay:300ms;animation-delay:300ms}.loader svg circle:nth-child(8){-webkit-animation-delay:100ms;animation-delay:100ms}.loader svg circle:nth-child(9){-webkit-animation-delay:-200ms;animation-delay:-200ms}.loader .label{position:absolute;top:calc(50% + 40px);left:50%;text-align:center;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-transform:uppercase;color:#1ea3e6}.loading-bar{width:100%;height:30px}.loading-bar>*{padding-top:9px;text-align:center;font-weight:600;color:#1ea3e6}.loading-bar .undetermined{width:100%;height:100%;background-image:repeating-linear-gradient(-45deg, #e8f5fd, #e8f5fd 7px, #d5eefb 7px, #d5eefb 10px);-webkit-animation:progress 1s linear infinite;animation:progress 1s linear infinite;background-size:150% 100%}@-webkit-keyframes progress{0%{background-position:0 0}100%{background-position:-70px 0}}@keyframes progress{0%{background-position:0 0}100%{background-position:-70px 0}}.marker-map{height:100%}.marker-map.deaf{pointer-events:none}.marker-map .buttons{position:absolute;top:40px;left:16px}.marker-map .buttons>.button{display:block;width:29px;height:29px;background:white;box-shadow:0 2px 4px 0 rgba(0,0,0,0.26),0 0 1px 0 rgba(0,0,0,0.16)}.marker-map .buttons>.button svg path{fill:#000}.marker-map .buttons .zoom-cont{display:block;width:29px;background:white;box-shadow:0 2px 4px 0 rgba(0,0,0,0.26),0 0 1px 0 rgba(0,0,0,0.16);border-radius:2px;margin-bottom:8px}.marker-map .buttons .zoom-cont .button{display:block;width:29px;background:transparent;color:#000;font-size:19px;border-radius:0}.marker-map .buttons .zoom-cont .button:first-child{border-bottom:1px solid #e6e6e6}.marker-map .marker-map-circle{position:absolute;cursor:pointer}.marker-map .marker-map-circle .focus{fill-opacity:0}.marker-map>div:first-child>div:first-child{-webkit-filter:grayscale(80%) brightness(94%) contrast(140%) hue-rotate(30deg) saturate(520%);filter:grayscale(80%) brightness(94%) contrast(140%) hue-rotate(30deg) saturate(520%)}.modal{position:absolute;top:0;bottom:0;left:0;right:0}.modal.deaf{pointer-events:none}.modal .backdrop{position:absolute;top:0;bottom:0;left:0;right:0;background:#000;opacity:0.2}.modal .golden-center{position:absolute;top:0;bottom:0;left:0;right:0;overflow-y:auto}.modal .modal-window{background:#fff;border-radius:2px;box-shadow:0 5px 9px 0 rgba(0,0,0,0.3),0 0 5px 0 rgba(0,0,0,0.2);width:450px;padding:18px;background:#fff}.modal .modal-window .modal-title{line-height:30px;font-size:17px;margin-bottom:16px}.modal .modal-window .modal-title .close{top:0;right:0;position:absolute;padding:5px;cursor:pointer}.modal .modal-window .modal-title:hover svg path{fill:#888}.modal .modal-window .modal-title svg{width:19px}.modal .modal-window .modal-title svg path{fill:#bbb}.modal .modal-window p{line-height:17px;margin-bottom:25px}.modal.raw-data-modal .modal-window{width:70%;height:85%;min-height:200px}.modal .p-group{margin-bottom:25px}.modal .p-group p{margin-bottom:18px}.modal .p-group p:last-child{margin-bottom:0}.modal .checkbox .label{color:#000}.modal .button-bar button:not(:last-child){margin-right:8px}.modal .button-bar button.alternate{color:#1ea3e6;background:none;padding-left:0;padding-right:0}.modal .button-bar button.alternate:hover{text-decoration:underline}.notification-card{transition:top 0.2s,opacity 0.2s;position:absolute;min-width:250px;max-width:400px;padding:10px 20px;line-height:16px;-webkit-transform:translate(-50%, 0);-ms-transform:translate(-50%, 0);transform:translate(-50%, 0);opacity:0;background-color:#5dc3ef;color:#fff;box-shadow:0 3px 4px 0 rgba(0,0,0,0.25);border-radius:2px;text-align:center;cursor:pointer}.notification-card:not(.appearing):not(.disappearing){opacity:1}.notification-card.rows-1{height:36px}.notification-card.rows-2{height:64px}.notification-card.rows-3{height:108px}.notification-card.success{background-color:#004584}.notification-card.failure{background-color:#e24b4b}.notification-card.info{background-color:#004584}.notification-card>*{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.notification-card .title{margin-bottom:8px}.notification-card .description{font-style:italic}.notification-card .action{opacity:0.7}.notification-card .action span{border-bottom:1px dashed}.notification-card:hover{box-shadow:0 0 1px 1px rgba(35,39,41,0.2)}.notification-card:hover .action{opacity:1}.notification-card:hover .action span{border-bottom:1px solid}.notification-card.muted{pointer-events:none}.remove-modal .message p{margin-bottom:18px}.remove-modal .message .dependency-list{background:#f5f5f5;padding:10px 0;max-height:300px;overflow:auto;margin-bottom:25px}.remove-modal .message .dependency-list .message{padding:4px 10px;color:#999;font-style:italic}.remove-modal .message .dependency-list .row{padding-left:14px;height:27px;cursor:pointer;white-space:nowrap}.remove-modal .message .dependency-list .row .label{position:absolute;top:5px;left:24px}.remove-modal .message .dependency-list .row:hover{background:#eee}.remove-modal .message .dependency-list p{padding:4px 10px;color:#e24b4b;margin-bottom:0}.resize-handle{z-index:1;width:18px;position:absolute;height:100%;cursor:ew-resize}.resize-handle.top,.resize-handle.bottom{height:18px;width:100%;cursor:ns-resize}.resize-handle>.svg-icon{width:20px;height:20px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.resize-handle>.svg-icon path{fill:#b4b4b4}.resize-handle.top{-webkit-transform:translate(0, -50%);-ms-transform:translate(0, -50%);transform:translate(0, -50%);margin-top:-5px}.resize-handle.bottom{-webkit-transform:translate(0, 50%);-ms-transform:translate(0, 50%);transform:translate(0, 50%);margin-bottom:-5px}.resize-handle.left{-webkit-transform:translate(-50%, 0);-ms-transform:translate(-50%, 0);transform:translate(-50%, 0);margin-left:-5px}.resize-handle.right{-webkit-transform:translate(50%, 0);-ms-transform:translate(50%, 0);transform:translate(50%, 0);margin-right:-5px}.round-icon .icon-container{position:absolute;right:1px;top:-3px;width:16px;height:16px;border-radius:20px;background:rgba(30,163,230,0.22);cursor:pointer}.round-icon .icon-container:hover,.round-icon .icon-container.visible{background:#1ea3e6}.round-icon .icon-container:hover .icon path,.round-icon .icon-container.visible .icon path{fill:#fff}.round-icon .icon-container.visible:hover{background:#1791cf}.round-icon .icon-container.error{background:#e24b4b}.round-icon .icon-container.error .icon path{fill:#fff}.round-icon .icon-container .icon{position:absolute;top:1px;left:1px;width:14px;height:14px}.round-icon .icon-container .icon path{fill:#189bdc}.round-icon .additional-text{position:absolute;left:calc(100% + 10px);top:-2px;width:200px;max-width:400px;font-size:12px;line-height:17px;color:#4cb6eb}.round-icon .additional-text .error-text{color:#e24b4b;margin-bottom:10px}.round-icon .additional-text a::after{position:absolute;top:0;left:0;right:0;height:15px;content:\'\';position:absolute;border-bottom:1px dotted}.round-icon .additional-text em{font-style:italic}.round-icon .additional-text code{background:rgba(30,163,230,0.16);border-radius:2px;padding:0 4px}.round-icon.error .icon path{fill:#e24b4b}.modal .round-icon .additional-text{background:#fff;border-radius:2px;box-shadow:0 3px 10px 0 rgba(0,0,0,0.26),0 0 3px 0 rgba(0,0,0,0.16);padding:10px;max-width:300px}.scroller{overflow:hidden;cursor:pointer}.scroller.unclickable{cursor:auto}.scroller>*{position:absolute;overflow:hidden;white-space:nowrap}.scroller>.event-container{overflow:auto;top:0;bottom:0;left:0;right:0;z-index:2}.scroller>.event-container.no-x-scroll{overflow-x:hidden}.scroller>.event-container.no-y-scroll{overflow-y:hidden}.scroller>.event-container>.event-target{background:#fff;opacity:0.001}.scroller .top-gutter,.scroller .bottom-gutter{width:100%}.scroller .left-shadow{box-shadow:1px 0 5px 0 rgba(0,0,0,0.2)}.scroller .top-shadow{box-shadow:0 3px 5px -2px rgba(0,0,0,0.2);width:100%}.scroller .right-shadow{box-shadow:4px 0 4px 5px rgba(0,0,0,0.2)}.scroller .bottom-shadow{box-shadow:0 0 2px 1px rgba(0,0,0,0.2);width:100%}.scroller .overlay{position:absolute;top:0;bottom:0;left:0;right:0}.search-button .clearable-input{border:1px solid #dedede}.search-button .clearable-input .clear{top:3px;right:3px;width:14px;height:14px}.search-button .clearable-input .clear svg{width:8px;margin-top:4px;margin-left:3px}.shpitz{position:absolute;width:40px;height:40px;overflow:hidden;pointer-events:none}.shpitz .rectangle{position:absolute}.shpitz .rectangle::after{content:\'\';position:absolute;width:12px;height:12px;-webkit-transform:translate(-50%, -50%) rotate(45deg);-ms-transform:translate(-50%, -50%) rotate(45deg);transform:translate(-50%, -50%) rotate(45deg);background:#fff;box-shadow:0 0 4px 0 rgba(0,0,0,0.35)}.shpitz.up{margin-bottom:-40px;margin-left:-20px}.shpitz.up .rectangle{bottom:100%;left:50%}.shpitz.down{margin-top:-40px;margin-left:-20px}.shpitz.down .rectangle{top:100%;left:50%}.shpitz.left{margin-right:-40px;margin-top:-20px}.shpitz.left .rectangle{right:100%;top:50%}.shpitz.right{margin-left:-40px;margin-top:-20px}.shpitz.right .rectangle{left:100%;top:50%}.side-drawer{position:absolute;top:0;bottom:0;left:0;width:320px;background:#fff;font-size:13px;box-shadow:1px 0 2px 0 rgba(0,0,0,0.13),2px 0 12px 0 rgba(0,0,0,0.26);overflow:auto;padding-bottom:40px}.side-drawer .nav-logo{padding-right:18px;height:70px;margin-bottom:-10px}.side-drawer .nav-logo .logo{position:absolute;left:14px;height:40px;top:15px;-webkit-transform:initial;-ms-transform:initial;transform:initial}.side-drawer .nav-logo .logo svg{height:100%}.side-drawer .side-drawer-items .side-drawer-item{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:38px;padding-left:18px;padding-right:18px;cursor:pointer;color:#1ea3e6;font-weight:600}.side-drawer .side-drawer-items .side-drawer-item .icon{display:inline-block;top:9px;left:0;margin-right:9px}.side-drawer .side-drawer-items .side-drawer-item .icon .svg-icon{width:19px;height:19px}.side-drawer .side-drawer-items .side-drawer-item .icon .svg-icon path{fill:#1ea3e6}.side-drawer .side-drawer-items .side-drawer-item.selected{background:#1ea3e6;color:#fff}.side-drawer .side-drawer-items .side-drawer-item.selected .svg-icon path{fill:white}.side-drawer .side-drawer-items .side-drawer-item:hover:not(.selected){background:#e3f4fc}.side-drawer .side-drawer-items .separator{border-bottom:1px solid #e6e6e6;margin-top:10px;margin-bottom:10px}.side-drawer .nav-logo{cursor:pointer}.side-drawer-enter{-webkit-transform:translate(-321px, 0);-ms-transform:translate(-321px, 0);transform:translate(-321px, 0)}.side-drawer-enter.side-drawer-enter-active{-webkit-transform:translate(0, 0);-ms-transform:translate(0, 0);transform:translate(0, 0);transition:-webkit-transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s;transition:transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s;transition:transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s, -webkit-transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s}.side-drawer-leave{-webkit-transform:translate(0, 0);-ms-transform:translate(0, 0);transform:translate(0, 0)}.side-drawer-leave.side-drawer-leave-active{-webkit-transform:translate(-321px, 0);-ms-transform:translate(-321px, 0);transform:translate(-321px, 0);transition:-webkit-transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s;transition:transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s;transition:transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s, -webkit-transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s}.simple-list{overflow:auto;padding-top:1px}.simple-list .item{display:-webkit-box;display:-ms-flexbox;display:flex;padding:10px 4px 10px 6px;cursor:default;border-top:1px solid transparent;border-bottom:1px solid transparent}.simple-list .item.sortable{cursor:move}.simple-list .item.in-group{padding-left:40px}.simple-list .item.in-group.drop-after::after,.simple-list .item.in-group.drop-before::before{left:40px}.simple-list .item.group .text .title{line-height:31px}.simple-list .item.group.drop-after::after{left:40px}.simple-list .item.group .actions{margin-right:31px}.simple-list .item:not(:first-child){border-top:1px solid #e6e6e6}.simple-list .item.dragged{background:#f5f5f5}.simple-list .item.dragged:hover .drag-handle{opacity:0}.simple-list .item.drop-before::before{content:\'\';position:absolute;top:-2px;left:0;right:0;height:2px;border-top:2px dashed #1ea3e6;background:#fff;z-index:10}.simple-list .item.drop-after::after{content:\'\';position:absolute;bottom:-2px;left:0;right:0;height:2px;border-bottom:2px dashed #1ea3e6;background:#fff;z-index:10}.simple-list .item .svg-icon{width:19px;height:19px;margin:6px}.simple-list .item .svg-icon path{fill:#1ea3e6}.simple-list .item .drag-handle{position:absolute;top:10px;left:-14px;pointer-events:none;opacity:0}.simple-list .item .drag-handle .svg-icon path{fill:#d9d9d9}.simple-list .item .text{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;overflow:auto;padding:0 10px}.simple-list .item .text>*{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.simple-list .item .text .title{line-height:16px;margin-bottom:2px}.simple-list .item .text .description{color:#bababa;font-size:12px;line-height:14px}.simple-list .item .actions button{border-radius:20px;padding:0}.simple-list .item .actions button.disabled{cursor:default;pointer-events:none}.simple-list .item .actions button.disabled .svg-icon path{fill:#d9d9d9}.simple-list .item:hover .drag-handle{opacity:1}.simple-list-modal form{margin-bottom:30px}.simple-list-modal form input{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.simple-list-modal form input:hover{border-color:#b8b8b8}.simple-list-modal form input:focus{border-color:#1ea3e6}.simple-list-modal form input.error{border-color:#e24c4c}.simple-list-menu ul.bubble-list li.disabled{pointer-events:none;font-style:italic;color:#999}.simple-table .scroller{height:100%;cursor:auto}.simple-table .scroller .column-headers{font-size:12px;border-bottom:1px solid #e6e6e6;height:100%;width:100%;color:#a6a6a6;padding-left:4px;background-color:#fff}.simple-table .scroller .column-headers>*{display:inline-block}.simple-table .scroller .column-headers .sort-arrow{width:8px;margin-left:10px}.simple-table .scroller .column-headers .sort-arrow.ascending{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.simple-table .scroller .top-right-corner{border-bottom:1px solid #e6e6e6;background-color:#fff}.simple-table .scroller .row{position:absolute;border-bottom:1px solid #e6e6e6;white-space:nowrap;width:100%}.simple-table .scroller .row>*{display:inline-block}.simple-table .scroller .row.hover{background:#e3f4fc}.simple-table .scroller .row .cell{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;position:absolute;padding:14px 10px 5px 4px}.simple-table .scroller .row .cell.has-icon{padding-left:34px}.simple-table .scroller .row .cell .prefix-icon{position:absolute;top:10px;left:6px;width:19px;height:19px}.simple-table .scroller .row .cell .prefix-icon path{fill:#1ea3e6}.simple-table .scroller .row.action{text-align:center;padding-top:10px}.simple-table .scroller .row.action .icon{width:19px;height:19px}.simple-table .scroller .row.action .icon .svg-icon{width:100%;height:100%}.simple-table .scroller .row.action .icon .svg-icon path{fill:#1ea3e6}.simple-table .scroller .row.action .icon:not(.disabled).hover::after{content:\'\';position:absolute;top:-6px;left:0;width:30px;height:30px;border-radius:30px;background:rgba(30,163,230,0.18)}.simple-table .scroller .row.action .icon.disabled .svg-icon path{fill:rgba(0,0,0,0.14)}.simple-table.clickable .scroller{cursor:pointer}.simple-table .loader{position:absolute;top:70px;bottom:0;left:0;right:0;background-color:rgba(237,237,237,0.5)}.svg-icon{pointer-events:none}.immutable-dropdown.disabled{pointer-events:none}.immutable-list .list-title{display:-webkit-box;display:-ms-flexbox;display:flex;height:50px;width:400px;padding-top:12px;border-bottom:1px solid #e6e6e6}.immutable-list .list-title .label{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;padding:8px 0;color:#666;font-size:12px;text-transform:uppercase}.immutable-list .list-title .actions>*{display:inline-block}.immutable-list .list-title .actions>*:not(:last-child){margin-right:5px}.immutable-list .simple-list{position:absolute;top:50px;bottom:0;left:0;right:0}.immutable-list .simple-list .item{width:400px}.immutable-list .empty-container{position:absolute;top:0;bottom:0;left:0;width:400px;top:43px}.immutable-list .empty-container .empty-message{position:absolute;top:36%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-align:center;color:#999;width:100%}.immutable-list .empty-container .empty-message a{color:#1ea3e6;border-bottom:1px dashed;cursor:pointer}.immutable-list .empty-container .empty-message .label{display:inline-block;height:46px;padding-top:13px;font-size:20px}.immutable-list .empty-container .empty-message.no-search-results{font-style:italic;font-size:15px}.immutable-text-input{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.immutable-text-input:hover{border-color:#b8b8b8}.immutable-text-input:focus{border-color:#1ea3e6}.immutable-text-input.error{border-color:#e24c4c}html,body{height:100%;font-family:\'Open Sans\', Helvetica, Arial, sans-serif;font-size:13px;color:#444;overflow:hidden}svg{width:auto;height:auto}.app-container{position:absolute;top:0;bottom:0;left:0;right:0}.app-container *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.app-container>.loader{position:absolute;top:0;bottom:0;left:0;right:0}.drag-ghost{position:absolute;top:0;left:0;z-index:-10;margin:10px;padding:4px 8px;background:#004584;color:#fff;border-radius:3px}\n',""])
},,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(16);var r=i(126);var a=i(6);var o=i(10);var l=i(15);var s=i(75);var u={a:{"":1,k:1e3,m:1e6,b:1e9,t:1e12},b:{B:1,KB:1024,MB:1024*1024,GB:1024*1024*1024,TB:1024*1024*1024*1024,PB:1024*1024*1024*1024*1024,EB:1024*1024*1024*1024*1024*1024,ZB:1024*1024*1024*1024*1024*1024*1024,YB:1024*1024*1024*1024*1024*1024*1024*1024}};function d(e){var t=[];for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r===0||isNaN(r)||!isFinite(r))continue;t.push(Math.abs(r))}var a=t.length;if(a){t.sort(function(e,t){return t-e});return t[Math.ceil((a-1)/2)]}else{return 0}}t.getMiddleNumber=d;function c(e,t){var i=t.match(/^(\S*)( ?)([ab])$/);if(i){var n=i[1];var a=i[2];var o=i[3];var l=d(e);var s=r(l).format("0 "+o);var c=s.split(" ")[1]||"";var p=u[o][c];var f=c?a+c:"";return function(e){if(isNaN(e)||!isFinite(e))return"-";return r(e/p).format(n)+f}}else{return function(e){if(isNaN(e)||!isFinite(e))return"-";return r(e).format(t)}}}t.formatterFromData=c;function p(e){var t=e.start!=null?String(e.start):l.STRINGS.any;var i=e.end!=null?String(e.end):l.STRINGS.any;return t+" to "+i}t.formatNumberRange=p;function f(e,t,i){if(a.NumberRange.isNumberRange(e)){return p(e)}else if(a.TimeRange.isTimeRange(e)){return s.formatTimeRange(e,t,i)}else{return""+e}}t.formatValue=f;function m(e,t,i,n){var r=this.getFormattedClause(e,t,i,n),a=r.title,o=r.values;return a?a+" "+o:o}t.formatFilterClause=m;function g(e,t,i,n){var r=e.getType();var l;var u=t.getLiteralSet();function d(){var i=e.title;if(r==="TIME"&&!n)return"";var a=["regex","contains"].indexOf(t.getAction())!==-1?" ~":":";if(u&&u.elements.length>1&&!n)return""+i;return""+i+a}switch(r){case"NULL":case"BOOLEAN":case"NUMBER":case"STRING":case"SET/BOOLEAN":case"SET/NUMBER":case"SET/STRING":var c=t.getAction();if(c==="overlap"){if(n){l=u.toString()}else{var p=u.elements;if(p.length>1){l="("+p.length+")"}else{l=f(p[0])}}}else if(c==="match"){l="/"+t.search+"/"}else if(c===o.Filter.CONTAINS){l='"'+t.search+'"'}break;case"TIME":if(t.dynamic){l=h(t.dynamic)}else{var m=t.values;var g=m.elements;if(g.length===1){var v=g[0];if(v instanceof a.TimeRange){l=s.formatTimeRange(v,i,s.DisplayYear.IF_DIFF)}else{l=u.toString()}}else{l=g.length+" time ranges"}}break;default:throw new Error("unknown type "+r)}return{title:d(),values:l}}t.getFormattedClause=g;function h(e){var t=e.getHeadOperand();if(!(e instanceof a.TimeRangeExpression)&&!(e instanceof a.TimeBucketExpression)){return e.toString()}var i=e.duration;var r=e instanceof a.TimeRangeExpression?e.getQualifiedDurationDescription():i.getDescription(true);if(i.equals(n.Duration.fromJS("P3M")))r=l.STRINGS.quarter;var s=e instanceof a.TimeRangeExpression&&e.step<0;var u=t.equals(o.FilterClause.$now);if(t.equals(o.FilterClause.$maxTime)&&s){return l.STRINGS.latest+" "+r}else if(u&&s){return l.STRINGS.previous+" "+r}else if(u&&e instanceof a.TimeBucketExpression){return l.STRINGS.current+" "+r}return e.toString()}t.getLabelForRelativeSelection=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(9);var s=i(1);var u=i(20);var d=i(34);var c=i(215);i(429);var p=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={actionsMenuOpenOn:null};t.globalMouseDownListener=t.globalMouseDownListener.bind(t);t.onEscape=t.onEscape.bind(t);return t}t.prototype.componentDidMount=function(){this.mounted=true;this.setState({actionsMenuAlignOn:u.findDOMNode(this.refs["header"])});window.addEventListener("mousedown",this.globalMouseDownListener)};t.prototype.componentWillUnmount=function(){this.mounted=false;window.removeEventListener("mousedown",this.globalMouseDownListener)};t.prototype.globalMouseDownListener=function(e){var t=this.props,i=t.searchText,n=t.toggleChangeFn;if(i!=="")return;var a=e.target;var o=u.findDOMNode(this.refs["search-box"]);if(!o||r.DOMUtils.isInside(a,o))return;var l=this.refs["header"];if(!l)return;var s=u.findDOMNode(l.refs["search"]);if(!s||r.DOMUtils.isInside(a,s))return;n()};t.prototype.onEscape=function(e){var t=this.props,i=t.toggleChangeFn,n=t.showSearch;if(!n)return;i()};t.prototype.onActionsMenuClose=function(){var e=this.state.actionsMenuOpenOn;if(!e)return;this.setState({actionsMenuOpenOn:null})};t.prototype.onActionsMenuClick=function(e){var t=this.state.actionsMenuOpenOn;if(t)return this.onActionsMenuClose();this.setState({actionsMenuOpenOn:e.target})};t.prototype.onSelectGranularity=function(e){this.onActionsMenuClose();e.onClick()};t.prototype.renderGranularityElements=function(){var e=this;var t=this.props.actions;return t.map(function(t,i){return s.createElement("li",{className:l({selected:t.selected}),key:i,onClick:e.onSelectGranularity.bind(e,t)},t.label||t.toString())})};t.prototype.renderActionsMenu=function(){var e=this.state,t=e.actionsMenuOpenOn,i=e.actionsMenuAlignOn;var n=r.Stage.fromSize(180,200);return s.createElement(d.BubbleMenu,{align:"end",className:"dimension-tile-actions",direction:"down",stage:n,onClose:this.onActionsMenuClose.bind(this),openOn:t,alignOn:i},s.createElement("ul",{className:"bubble-list"},this.renderGranularityElements()))};t.prototype.render=function(){var e=this.props,t=e.className,i=e.style,n=e.icons,r=e.title,u=e.onSearchChange,d=e.showSearch,p=e.searchText,f=e.children,m=e.onDragStart,g=e.actions;var h=this.state.actionsMenuOpenOn;var v=n;if(g&&g.length>0){v=[{name:"more",ref:"more",onClick:this.onActionsMenuClick.bind(this),svg:o.FULL_MORE,active:Boolean(h)}].concat(n)}var b="searchable-tile "+t;var y=s.createElement(c.TileHeader,{title:r,ref:"header",icons:v,onDragStart:m});var x=null;if(d){x=s.createElement("div",{className:"search-box",ref:"search-box"},s.createElement(a.ClearableInput,{placeholder:"Search",focusOnMount:true,value:p,onChange:u.bind(this)}))}b=l(b,d?"has-search":"no-search");return s.createElement("div",{className:b,style:i},s.createElement(a.GlobalEventListener,{escape:this.onEscape.bind(this)}),y,x,h?this.renderActionsMenu():null,f)};return t}(s.Component);t.SearchableTile=p},,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(1);var l=i(47);i(408);var s=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props.dragPosition;if(!e)return null;var t=l.CORE_ITEM_WIDTH+l.CORE_ITEM_GAP;var i;var n=null;if(e.isInsert()){i=e.insert*t-l.CORE_ITEM_GAP/2}else{i=e.replace*t+l.CORE_ITEM_WIDTH/2;var s=e.replace*t;n=o.createElement("div",{className:"drag-ghost-element",style:{left:s}})}return o.createElement("div",{className:"fancy-drag-indicator"},n,o.createElement(r.SvgIcon,{className:"drag-ghost-arrow",svg:a.DRAG_ARROW,style:{left:i}}))};return t}(o.Component);t.FancyDragIndicator=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(1);var l=i(10);var s=i(15);i(410);var u=[{label:s.STRINGS.include,value:l.Filter.INCLUDE,svg:a.FILTER_INCLUDE,checkType:"check"},{label:s.STRINGS.exclude,value:l.Filter.EXCLUDE,svg:a.FILTER_EXCLUDE,checkType:"cross"},{label:s.STRINGS.contains,value:l.Filter.CONTAINS,svg:a.FILTER_CONTAINS},{label:s.STRINGS.regex,value:l.Filter.REGEX,svg:a.FILTER_REGEX}];var d=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.getFilterOptions=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return u.filter(function(t){return e.indexOf(t.value)!==-1})};t.prototype.onSelectOption=function(e){this.props.onSelectOption(e.value)};t.prototype.renderFilterOption=function(e){return o.createElement("span",{className:"filter-option"},o.createElement(r.SvgIcon,{className:"icon",svg:e.svg}),o.createElement("span",{className:"option-label"},e.label))};t.prototype.render=function(){var e=this.props,t=e.selectedOption,i=e.onSelectOption,n=e.filterOptions;var a=r.Dropdown.specialize();var l=n||u;var s=l.filter(function(e){return e.value===t})[0]||l[0];return o.createElement("div",{className:"filter-options-dropdown"},o.createElement(a,{menuClassName:"filter-options",items:l,selectedItem:s,equal:function(e,t){return e.value===t.value},keyItem:function(e){return e.value},renderItem:this.renderFilterOption.bind(this),renderSelectedItem:function(e){return o.createElement(r.SvgIcon,{className:"icon",svg:e.svg})},onSelect:this.onSelectOption.bind(this)}))};return t}(o.Component);t.FilterOptionsDropdown=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(1);var s=i(15);var u=i(34);i(430);var d=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={moreMenuOpenOn:null,mainLabel:s.STRINGS.select};return t}t.prototype.onAltDown=function(e){var t=this.props,i=t.clicker,n=t.dimensions,r=t.disableExclusion;if(r===true)return;if(!n||n.some(function(e){return e.isContinuous()}))return;var a=i.invertHighlight();if(a){this.setState({mainLabel:s.STRINGS.exclude})}};t.prototype.onAltUp=function(e){var t=this.props,i=t.clicker,n=t.dimensions,r=t.disableExclusion;if(r===true)return;if(!n||n.some(function(e){return e.isContinuous()}))return;i.invertHighlight();this.setState({mainLabel:s.STRINGS.select})};t.prototype.onExclude=function(e){var t=this.props,i=t.onClose,n=t.clicker;n.acceptInvertedHighlight();if(i)i()};t.prototype.onSelect=function(e){var t=this.props,i=t.onClose,n=t.clicker;n.acceptHighlight();if(i)i()};t.prototype.onCancel=function(e){var t=this.props,i=t.onClose,n=t.clicker;n.dropHighlight();if(i)i()};t.prototype.onMore=function(e){var t=this.state.moreMenuOpenOn;if(t)return this.closeMoreMenu();this.setState({moreMenuOpenOn:e.target})};t.prototype.closeMoreMenu=function(){this.setState({moreMenuOpenOn:null})};t.prototype.getUrl=function(){var e=this.props,t=e.segmentLabel,i=e.dimensions;if(!i||i.length>1||!i[0]||!i[0].url)return null;return i[0].url.replace(/%s/g,t)};t.prototype.openRawDataModal=function(){var e=this.props.openRawDataModal;if(!e)return;this.closeMoreMenu();e()};t.prototype.renderMoreMenu=function(){var e=this.props,t=e.segmentLabel,i=e.dimensions,n=e.disableExclusion,a=e.openRawDataModal;var o=this.state.moreMenuOpenOn;if(!o)return null;var d=r.Stage.fromSize(160,160);var c=[l.createElement("li",{className:"clipboard",key:"copyValue","data-clipboard-text":t,onClick:this.closeMoreMenu.bind(this)},s.STRINGS.copyValue)];if(a){c.push(l.createElement("li",{className:"view-raw-data",key:"view-raw-data",onClick:this.openRawDataModal.bind(this)},s.STRINGS.viewRawData))}var p=this.getUrl();if(p){c.push(l.createElement("li",{key:"goToUrl"},l.createElement("a",{href:p,onClick:this.closeMoreMenu.bind(this),target:"_blank"},s.STRINGS.goToUrl)))}if(!n&&i&&!i.some(function(e){return e.isContinuous()})){c.push(l.createElement("li",{className:"exclude",key:"exclude",onClick:this.onExclude.bind(this)},s.STRINGS.exclude))}return l.createElement(u.BubbleMenu,{className:"more-menu",direction:"down",stage:d,openOn:o,align:"start",onClose:this.closeMoreMenu.bind(this)},l.createElement("ul",{className:"bubble-list"},c))};t.prototype.render=function(){var e=this.props.disableMoreMenu;var t=this.state,i=t.moreMenuOpenOn,n=t.mainLabel;return l.createElement("div",{className:"segment-action-buttons"},l.createElement(a.GlobalEventListener,{altDown:this.onAltDown.bind(this),altUp:this.onAltUp.bind(this)}),l.createElement(a.Button,{type:"primary",className:"mini main",onClick:this.onSelect.bind(this),title:n}),l.createElement(a.Button,{type:"secondary",className:"mini",onClick:this.onCancel.bind(this),title:s.STRINGS.cancel}),e?null:l.createElement(a.Button,{type:"secondary",className:"mini",onClick:this.onMore.bind(this),svg:o.FULL_MORE_MINI,active:Boolean(i)}),this.renderMoreMenu())};return t}(l.Component);t.SegmentActionButtons=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(9);var a=i(1);i(433);var o=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.direction,i=e.style;return a.createElement("div",{className:r("shpitz",t),style:i},a.createElement("div",{className:"rectangle"}))};return t}(a.Component);t.Shpitz=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NUM_REGEX=/^\d+$/;function n(e){return e?e.charAt(0).toUpperCase()+e.slice(1):undefined}t.firstUp=n;function r(e){return n(e.toLowerCase())}t.titleCase=r;function a(e,t){if(t===void 0){t=3}var i=String(e);if(i.length>t)return i;while(i.length<t)i="0"+i;return i}t.pad=a;function o(e,t,i){i=i||{suffixIfAlreadyUnique:true,separator:"",startAt:0};var n=i.suffixIfAlreadyUnique||false;var r=i.separator||"";var o=i.startAt||0;if(!n&&t(e))return e;var l=o;var s=e+r+a(l);while(!t(s)){s=e+r+a(++l)}return s}t.generateUniqueName=o},,,,,,,,function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".loader svg{position:absolute;top:50%;left:50%;width:30px;height:30px;margin-left:-15px;margin-top:-15px;fill:#1ea3e6;-webkit-animation-name:loader-appears;animation-name:loader-appears;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-timing-function:linear;animation-timing-function:linear}.loader svg circle{-webkit-animation-name:loader-circle;animation-name:loader-circle;-webkit-animation-duration:0.5s;animation-duration:0.5s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate}.loader svg circle:nth-child(1){-webkit-animation-delay:-400s;animation-delay:-400s}.loader svg circle:nth-child(2){-webkit-animation-delay:-300ms;animation-delay:-300ms}.loader svg circle:nth-child(3){-webkit-animation-delay:-100ms;animation-delay:-100ms}.loader svg circle:nth-child(4){-webkit-animation-delay:200ms;animation-delay:200ms}.loader svg circle:nth-child(5){-webkit-animation-delay:400ms;animation-delay:400ms}.loader svg circle:nth-child(6){-webkit-animation-delay:0ms;animation-delay:0ms}.loader svg circle:nth-child(7){-webkit-animation-delay:300ms;animation-delay:300ms}.loader svg circle:nth-child(8){-webkit-animation-delay:100ms;animation-delay:100ms}.loader svg circle:nth-child(9){-webkit-animation-delay:-200ms;animation-delay:-200ms}.loader .label{position:absolute;top:calc(50% + 40px);left:50%;text-align:center;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-transform:uppercase;color:#1ea3e6}@-webkit-keyframes loader-circle{0%{fill-opacity:1}100%{fill-opacity:0.2}}@keyframes loader-circle{0%{fill-opacity:1}100%{fill-opacity:0.2}}@-webkit-keyframes loader-appears{0%{opacity:0}100%{opacity:1}}@keyframes loader-appears{0%{opacity:0}100%{opacity:1}}\n",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(160);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./loader.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./loader.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},,,function(e,t){},function(e,t){},,,,function(e,t,i){"use strict";function n(e){for(var i in e)if(!t.hasOwnProperty(i))t[i]=e[i]}Object.defineProperty(t,"__esModule",{value:true});n(i(34));n(i(318));n(i(319));n(i(320));n(i(204));n(i(205));n(i(322));n(i(206));n(i(323));n(i(207));n(i(324));n(i(148));n(i(208));n(i(149));n(i(313));n(i(325));n(i(326));n(i(76));n(i(327));n(i(321));n(i(328));n(i(330));n(i(331));n(i(332));n(i(209));n(i(210));n(i(211));n(i(333));n(i(92));n(i(212));n(i(125));n(i(150));n(i(314));n(i(312));n(i(151));n(i(213));n(i(336));n(i(214));n(i(215));n(i(216));n(i(337));n(i(338));n(i(339));n(i(340));n(i(217))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(93);var a=i(1);var o=i(75);i(401);var l=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={dateString:""};return t}t.prototype.componentDidMount=function(){var e=this.props,t=e.time,i=e.timezone;this.updateStateFromTime(t,i)};t.prototype.componentWillReceiveProps=function(e){var t=e.time,i=e.timezone;this.updateStateFromTime(t,i)};t.prototype.updateStateFromTime=function(e,t){if(!e)return;if(isNaN(e.valueOf())){this.setState({dateString:""});return}var i=this.props.type==="end"?o.exclusiveToInclusiveEnd(e):e;this.setState({dateString:o.getWallTimeString(i,t)})};t.prototype.dateChange=function(e){var t=e.target.value.replace(/[^\d-]/g,"").substr(0,10);this.setState({dateString:t});if(t.length===10){this.changeDate(t)}};t.prototype.changeDate=function(e){var t=this.props,i=t.timezone,n=t.onChange,a=t.type;var o=new Date(e);if(isNaN(o.valueOf())){n(null)}else{var l=r.tz(e,i.toString());if(a==="end"){l.add(1,"days")}n(new Date(l.valueOf()))}};t.prototype.render=function(){var e=this.props.hide;var t=this.state.dateString;var i=e?"":t;return a.createElement("div",{className:"date-range-input"},a.createElement("input",{className:"input-field",value:i,onChange:this.dateChange.bind(this)}))};return t}(a.Component);t.DateRangeInput=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(16);var l=i(9);var s=i(93);var u=i(6);var d=i(1);var c=i(75);var p=i(204);i(402);var f=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={activeMonthStartDate:null,hoverTimeRange:null,selectionSet:false};return t}t.prototype.componentWillMount=function(){var e=this.props,t=e.startTime,i=e.endTime,n=e.timezone;if(t&&!c.datesEqual(t,o.day.floor(t,n)))throw new Error("start time must be round");if(i&&!c.datesEqual(i,o.day.floor(i,n)))throw new Error("end time must be round");var r=o.month.floor(t||new Date,n);this.setState({activeMonthStartDate:r,selectionSet:true})};t.prototype.navigateToMonth=function(e){var t=this.props.timezone;var i=this.state.activeMonthStartDate;var n=o.month.shift(i,t,e);this.setState({activeMonthStartDate:n})};t.prototype.goToPreviousMonth=function(){return this.navigateToMonth(-1)};t.prototype.goToNextMonth=function(){return this.navigateToMonth(1)};t.prototype.calculateHoverTimeRange=function(e){var t=this.props,i=t.startTime,n=t.endTime;var r=null;if(i&&!n){var a=i;var o=e;if(e<i){a=e;o=i}r=new u.TimeRange({start:a,end:o,bounds:"[]"})}this.setState({hoverTimeRange:r})};t.prototype.onCalendarMouseLeave=function(){this.setState({hoverTimeRange:null})};t.prototype.selectNewRange=function(e,t){var i=this.props,n=i.onStartChange,r=i.onEndChange,a=i.timezone;n(e);if(t)t=c.shiftOneDay(t,a);r(t)};t.prototype.selectDay=function(e){var t=this.props.startTime;var i=this.state.selectionSet;if(i){this.setState({hoverTimeRange:null,selectionSet:false});this.selectNewRange(e,null)}else{var n=c.datesEqual(e,t);var r=e<t;if(n){this.selectNewRange(t,t)}else if(r){this.selectNewRange(e,t)}else{this.selectNewRange(t,e)}this.setState({selectionSet:true})}};t.prototype.getIsSelectable=function(e){var t=this.state,i=t.hoverTimeRange,n=t.selectionSet;var r=false;if(i){r=i.contains(e)}return r&&!n};t.prototype.getIsSelectedEdgeEnd=function(e,t){if(e)return false;var i=this.props,n=i.startTime,r=i.endTime,a=i.timezone;var o=c.shiftOneDay(t,a);return c.wallTimeInclusiveEndEqual(r,o,a)&&r>n};t.prototype.renderDays=function(e,t,i){var n=this;var r=this.props,a=r.startTime,s=r.endTime,u=r.maxTime,p=r.timezone;var f=o.month.shift(t,p,1);return e.map(function(e,r){return d.createElement("div",{className:"week",key:r}," ",e.map(function(e,r){var o=e<t;var m=e>=f;var g=e>u;var h=c.datesEqual(e,a);var v=n.getIsSelectedEdgeEnd(i,e);var b=l("day","value",{past:o,future:m,"beyond-max-range":g,selectable:n.getIsSelectable(e),selected:a<e&&e<s,"selected-edge":h||v});return d.createElement("div",{className:b,key:r,onClick:n.selectDay.bind(n,e),onMouseEnter:n.calculateHoverTimeRange.bind(n,e)},c.getWallTimeDay(e,p))}))})};t.prototype.renderCalendar=function(e,t){var i=this.props.timezone;var n=c.monthToWeeks(e,i);var r=n[0];var a=n[n.length-1];var o=7-r.length;var l=7-a.length;n[0]=c.prependDays(i,r,o);n[n.length-1]=c.appendDays(i,a,l);return this.renderDays(n,e,t)};t.prototype.renderCalendarNav=function(e){var t=this.props.timezone;return d.createElement("div",{className:"calendar-nav"},d.createElement("div",{className:"caret left",onClick:this.goToPreviousMonth.bind(this)},d.createElement(r.SvgIcon,{svg:a.FULL_CARET_LEFT})),c.getWallTimeMonthWithYear(e,t),d.createElement("div",{className:"caret right",onClick:this.goToNextMonth.bind(this)},d.createElement(r.SvgIcon,{svg:a.FULL_CARET_RIGHT})))};t.prototype.render=function(){var e=this.props,t=e.startTime,i=e.endTime,n=e.timezone,r=e.onStartChange,a=e.onEndChange;var o=this.state,l=o.activeMonthStartDate,u=o.selectionSet;if(!l)return null;var f=i?c.getWallTimeDay(t,n)===c.getEndWallTimeInclusive(i,n).date():true;return d.createElement("div",{className:"date-range-picker"},d.createElement("div",{className:"side-by-side"},d.createElement(p.DateRangeInput,{type:"start",time:t,timezone:n,onChange:r.bind(this)}),d.createElement(p.DateRangeInput,{type:"end",time:i,timezone:n,onChange:a.bind(this),hide:!u})),d.createElement("div",{className:"calendar",onMouseLeave:this.onCalendarMouseLeave.bind(this)},this.renderCalendarNav(l),d.createElement("div",{className:"week"},s.weekdaysShort().map(function(e,t){return d.createElement("div",{className:"day label",key:e+t},d.createElement("span",{className:"space"}),e)})),this.renderCalendar(l,f)))};return t}(d.Component);t.DateRangePicker=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(6);var s=i(1);var u=i(10);var d=i(15);var c=i(90);var p=i(34);var f=i(329);i(404);var m=60;var g=20;function h(e){if(l.NumberRange.isNumberRange(e)){return e.start+" - "+e.end}return e+" values"}var v=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={loading:false,error:null,preview:null};return t}t.prototype.fetchData=function(e,t,i){var n=this;var r=e.getDimensions();var a=e.dataCube;var o=e.getEffectiveFilter(t,null,i).toExpression(r);var s=l.$("main");var u=i.expression;var d=l.ply().apply("main",s.filter(o));var p=null;if(i.isContinuous()){p=function(e){return l.NumberRange.fromJS({start:e["Min"],end:e["Max"]})};d=d.apply("Min",s.min(u)).apply("Max",s.max(u))}else{p=function(e){return Math.round(e["Count"])};d=d.apply("Count",s.countDistinct(u))}this.setState({loading:true});c.QueryRunner.fetch(a,d,e.timezone).then(function(e){if(!n.mounted)return;n.setState({loading:false,preview:p(e.data[0]),error:null})},function(e){if(!n.mounted)return;n.setState({loading:false,error:e})})};t.prototype.componentDidMount=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension;this.mounted=true;if(this.shouldShowPreview()){this.fetchData(t,i,n)}};t.prototype.componentWillUnmount=function(){this.mounted=false};t.prototype.onFilter=function(){var e=this.props,t=e.dimension,i=e.triggerFilterMenu,n=e.onClose;i(t);n()};t.prototype.onSplit=function(){var e=this.props,t=e.clicker,i=e.essence,n=e.dimension,r=e.triggerSplitMenu,a=e.onClose;if(i.splits.hasSplitOn(n.name)&&i.splits.length()===1){r(n)}else{var o=u.SplitCombine.fromDimensionAndFilterAndMeasure(n,i.filter,i.getSortMeasure());t.changeSplits(u.Splits.fromSplitCombine(o),u.VisStrategy.FairGame)}a()};t.prototype.onSubsplit=function(){var e=this.props,t=e.clicker,i=e.essence,n=e.dimension,r=e.triggerSplitMenu,a=e.onClose;if(i.splits.hasSplitOn(n.name)){r(n)}else{t.addSplit(u.SplitCombine.fromDimensionAndFilterAndMeasure(n,i.filter,i.getSortMeasure()))}a()};t.prototype.onPin=function(){var e=this.props,t=e.clicker,i=e.dimension,n=e.onClose;t.pin(i);n()};t.prototype.shouldShowPreview=function(){var e=this.props.dimension;return e.getKind()!=="time"};t.prototype.renderPreview=function(){var e=this.state,t=e.preview,i=e.loading,n=e.error;if(!this.shouldShowPreview())return null;if(i)return s.createElement("div",{className:"preview"},s.createElement(f.LineLoader,null));var r=n?"query error":h(t);return s.createElement("div",{className:"preview"},s.createElement("div",{className:"preview-text"},r))};t.prototype.render=function(){var e=this.props,t=e.direction,i=e.openOn,n=e.dimension,l=e.onClose;if(!n)return null;var u=m*2;if(this.shouldShowPreview())u=u+g;var c=r.Stage.fromSize(m*2,u);return s.createElement(p.BubbleMenu,{className:"dimension-actions-menu",direction:t,stage:c,fixedSize:true,openOn:i,onClose:l},s.createElement("div",{className:"filter action",onClick:this.onFilter.bind(this)},s.createElement(a.SvgIcon,{svg:o.PREVIEW_FILTER}),s.createElement("div",{className:"action-label"},d.STRINGS.filter)),s.createElement("div",{className:"pin action",onClick:this.onPin.bind(this)},s.createElement(a.SvgIcon,{svg:o.PREVIEW_PIN}),s.createElement("div",{className:"action-label"},d.STRINGS.pin)),s.createElement("div",{className:"split action",onClick:this.onSplit.bind(this)},s.createElement(a.SvgIcon,{svg:o.PREVIEW_SPLIT}),s.createElement("div",{className:"action-label"},d.STRINGS.split)),s.createElement("div",{className:"subsplit action",onClick:this.onSubsplit.bind(this)},s.createElement(a.SvgIcon,{svg:o.PREVIEW_SUBSPLIT}),s.createElement("div",{className:"action-label"},d.STRINGS.subsplit)),this.renderPreview())};return t}(s.Component);t.DimensionActionsMenu=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(9);var s=i(2);var u=i(6);var d=i(1);var c=i(10);var p=i(221);var f=i(15);var m=i(47);var g=i(91);var h=i(124);var v=i(90);var b=i(76);var y=i(70);var x=i(92);var S=i(125);i(406);var w=100;var E=30;function C(e,t,i){if(!i.canAutoBucket())return null;var n=e.filter.getSelection(i.name);var r=i.getKind();if(n){var a=r==="time"?e.evaluateSelection(n,t):n.getLiteralValue().extent();return c.getBestGranularityForRange(a,true,i.bucketedBy,i.granularities)}else{return c.getDefaultGranularityForKind(r,i.bucketedBy,i.granularities)}}var T=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={loading:false,dataset:null,error:null,fetchQueued:false,unfolded:true,foldable:false,showSearch:false,selectedGranularity:null,searchText:""};t.collectTriggerSearch=p.collect(m.SEARCH_WAIT,function(){if(!t.mounted)return;var e=t.props,i=e.essence,n=e.timekeeper,r=e.dimension,a=e.colors,o=e.sortOn,l=e.colorSplit;var s=t.state.unfolded;t.fetchData(i,n,r,a,o,l,t.getSelectedGranularity(),s)});return t}t.prototype.fetchData=function(e,t,i,n,r,a,o,l){var s=this;var d=this.state.searchText;var c=e.getDimensions();var p=e.dataCube;var f=e.getEffectiveFilter(t);if(l&&!p.isMandatoryFilter(i.name)&&!n){f=f.remove(i.name)}if(!n){f=f.setExclusionForDimension(i,false)}else if(!l&&n.dimension===i.name&&n.values){f=f.setValues(i.name,n.toSet())}if(d){f=f.setSearch(i.name,"contains",d)}var m=u.$("main").filter(f.toExpression(c));var g=null;if(a){m=m.split(a.toSplitExpression(c),i.name);g=r.getExpression()}else{if(o){m=m.split(i.expression.performAction(o),i.name);g=u.$(i.name)}else{m=m.split(i.expression,i.name);g=r.getExpression()}}if(r.measure){m=m.performAction(r.measure.toApplyAction())}var h=a&&a.sortAction?a.sortAction.direction:u.SortExpression.DESCENDING;m=m.sort(g,h).limit(w+1);this.setState({loading:true,fetchQueued:false});v.QueryRunner.fetch(p,m,e.timezone).then(function(e){if(!s.mounted)return;s.setState({loading:false,dataset:e,error:null})},function(e){if(!s.mounted)return;s.setState({loading:false,dataset:null,error:e})})};t.prototype.getSelectedGranularity=function(){if(this.state.selectedGranularity)return this.state.selectedGranularity;var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension;return C(t,i,n)};t.prototype.updateFoldability=function(e,t,i){var n=this.state.unfolded;var r;if(i){r=true}else{r=e.filter.filteredOn(t.name);n=true}this.setState({foldable:r,unfolded:n});return n};t.prototype.componentWillMount=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension,r=e.colors,a=e.sortOn,o=e.colorSplit;var l=this.updateFoldability(t,n,r);this.fetchData(t,i,n,r,a,o,this.getSelectedGranularity(),l)};t.prototype.componentWillReceiveProps=function(e){var t=this.props,i=t.essence,n=t.timekeeper,r=t.dimension,a=t.sortOn,o=t.colorSplit,l=t.colors;var u=e.essence;var d=e.timekeeper;var c=e.dimension;var p=e.colors;var f=e.sortOn;var m=e.colorSplit;var g=this.updateFoldability(u,c,p);var h=i.getRealTimeSelection();var v=u.getRealTimeSelection();var b=h?!h.equals(v):Boolean(v);if(b){this.setState({dataset:null})}if(i.differentDataCube(u)||i.differentEffectiveFilter(u,n,d,null,g&&!l?r:null)||i.differentColors(u)||!r.equals(c)||!a.equals(f)||!s.immutableEqual(o,m)||i.differentTimezoneMatters(u)||!i.timezone.equals(u.timezone)&&r.getKind()==="time"||b){this.fetchData(u,d,c,p,f,m,C(u,d,c),g)}this.setFilterModeFromProps(e)};t.prototype.setFilterModeFromProps=function(e){if(e.colors){this.setState({filterMode:c.Filter.INCLUDE})}else{var t=e.essence.filter.getModeFor(e.dimension.name);if(t)this.setState({filterMode:t})}};t.prototype.componentDidMount=function(){this.mounted=true;this.setFilterModeFromProps(this.props)};t.prototype.componentWillUnmount=function(){this.mounted=false};t.prototype.onRowClick=function(e,t){var i=this.props,n=i.clicker,r=i.essence,a=i.dimension,o=i.colors;var l=this.state,s=l.dataset,u=l.filterMode;var d=r.filter;if(o&&o.dimension===a.name){if(o.limit){if(!s)return;var p=s.data.slice(0,o.limit).map(function(e){return e[a.name]});o=c.Colors.fromValues(o.dimension,p)}o=o.toggle(e);n.changeColors(o)}else{var f=a.name;if(t.altKey||t.ctrlKey||t.metaKey){var m=d.filteredOnValue(f,e);var g=d.getLiteralSet(f);var h=g?g.size()===1:false;if(m&&h){d=d.remove(f)}else{d=d.remove(f).addValue(f,e)}}else{d=d.toggleValue(f,e)}var v=this.state.unfolded;if(!v&&!d.filteredOn(f)){this.setState({unfolded:true})}n.changeFilter(d.setExclusionForDimension(a,u===c.Filter.EXCLUDE))}};t.prototype.changeFilterMode=function(e){var t=this.props,i=t.clicker,n=t.essence,r=t.dimension;this.setState({filterMode:e},function(){i.changeFilter(n.filter.setExclusionForDimension(r,e===c.Filter.EXCLUDE))})};t.prototype.getFilterActions=function(){var e=this;var t=this.props,i=t.essence,n=t.dimension;var r=this.state.filterMode;if(!i||!n)return null;var a=i.filter;var o=[c.Filter.INCLUDE,c.Filter.EXCLUDE];return o.map(function(t){return{selected:r===t,onClick:e.changeFilterMode.bind(e,t),label:f.STRINGS[t]}})};t.prototype.toggleFold=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension,r=e.colors,a=e.sortOn,o=e.colorSplit;var l=this.state.unfolded;l=!l;this.setState({unfolded:l});this.fetchData(t,i,n,r,a,o,this.getSelectedGranularity(),l)};t.prototype.onDragStart=function(e){var t=this.props,i=t.essence,n=t.dimension,a=t.getUrlPrefix;var o=i.filter;var l=i.addSplit(c.SplitCombine.fromDimensionAndFilterAndMeasure(n,o,i.getSortMeasure()),c.VisStrategy.FairGame);var s=a()+l.getURL();var u=e.dataTransfer;u.effectAllowed="all";u.setData("text/url-list",s);u.setData("text/plain",s);g.DragManager.setDragDimension(n,"dimension-tile");r.DOMUtils.setDragGhost(u,n.title)};t.prototype.toggleSearch=function(){var e=this.state.showSearch;this.setState({showSearch:!e});this.onSearchChange("")};t.prototype.onSearchChange=function(e){var t=this.state,i=t.searchText,n=t.dataset,r=t.fetchQueued,a=t.loading;var o=e.substr(0,m.MAX_SEARCH_LENGTH);if(i===o)return;if(o.indexOf(i)!==-1&&!r&&!a&&n&&n.data.length<w){this.setState({searchText:o});return}this.setState({searchText:o,fetchQueued:true});this.collectTriggerSearch()};t.prototype.getTitleHeader=function(){var e=this.props.dimension;var t=this.getSelectedGranularity()
;if(t&&e.getKind()==="time"&&t instanceof u.TimeBucketExpression){return e.title+" ("+t.duration.getDescription()+")"}return e.title};t.prototype.onSelectGranularity=function(e){if(s.immutableEqual(e,this.state.selectedGranularity))return;var t=this.props,i=t.essence,n=t.timekeeper,r=t.dimension,a=t.colors,o=t.sortOn,l=t.colorSplit;var u=this.updateFoldability(i,r,a);this.setState({dataset:null,selectedGranularity:e});this.fetchData(i,n,r,a,o,l,e,u)};t.prototype.getGranularityActions=function(){var e=this;var t=this.props.dimension;var i=this.getSelectedGranularity();var n=t.granularities||c.getGranularities(t.getKind(),t.bucketedBy,true);return n.map(function(t){var n=c.granularityToString(t);return{selected:c.granularityEquals(i,t),onClick:e.onSelectGranularity.bind(e,t),label:p.formatGranularity(n)}})};t.prototype.render=function(){var e=this;var t=this.props,i=t.clicker,n=t.essence,r=t.dimension,s=t.sortOn,f=t.colors,g=t.colorSplit,v=t.onClose;var C=this.state,T=C.loading,M=C.dataset,N=C.error,k=C.showSearch,D=C.unfolded,I=C.foldable,A=C.fetchQueued,O=C.searchText,_=C.filterMode;var R=this.getSelectedGranularity();var L=s.measure;var F=L?L.name:null;var P=n.filter.getLiteralSet(r.name);var U=r.isContinuous();var B=_===c.Filter.EXCLUDE;var G=m.PIN_TITLE_HEIGHT;var z=[];var V=null;var j=false;if(M){j=M.data.length>w;var H=M.data.slice(0,w);if(!D){if(P){H=H.filter(function(e){return P.contains(e[r.name])})}if(f){if(f.values){var q=f.toSet();H=H.filter(function(e){return q.contains(e[r.name])})}else{H=H.slice(0,f.limit)}}}if(O){var J=O.toLowerCase();H=H.filter(function(e){return String(e[r.name]).toLowerCase().indexOf(J)!==-1})}var W=L?h.formatterFromData(H.map(function(e){return e[F]}),L.getFormat()):null;var K;z=H.map(function(t){var i=t[r.name];var o=String(i);var l="row";var s=null;if(P||f){if(f){K=false;l+=" color"}else{K=n.filter.filteredOnValue(r.name,i);l+=" "+(K?"selected":"not-selected")}s=d.createElement(a.Checkbox,{selected:K,type:B?"cross":"check",color:f?f.getColor(i):null})}if(i instanceof u.TimeRange){o=p.formatTimeBasedOnGranularity(i,R.duration,n.timezone)}else if(i instanceof u.NumberRange){o=h.formatNumberRange(i)}var c=null;if(L){c=d.createElement("div",{className:"measure-value"},W(t[F]))}return d.createElement("div",{className:l,key:o,onClick:e.onRowClick.bind(e,i)},d.createElement("div",{className:"segment-value",title:o},s,d.createElement(b.HighlightString,{className:"label",text:o,highlight:O})),c)});G+=Math.max(2,z.length)*m.PIN_ITEM_HEIGHT;if(I){V=d.createElement("div",{className:l("folder",D?"folded":"unfolded"),onClick:this.toggleFold.bind(this)},d.createElement(a.SvgIcon,{svg:o.CARET}),D?"Show selection":"Show all");G+=E}}G+=m.PIN_PADDING_BOTTOM;var Y=null;if(!T&&M&&!A&&O&&!z.length){Y=d.createElement("div",{className:"message"},'No results for "'+O+'"')}var $=l("dimension-tile",_,V?"has-folder":"no-folder",f?"has-colors":"no-colors",{continuous:U});var Q=[];if(!r.isContinuous()){Q.push({name:"search",ref:"search",onClick:this.toggleSearch.bind(this),svg:o.FULL_SEARCH,active:k})}if(v!==null){Q.push({name:"close",ref:"close",onClick:v,svg:o.FULL_REMOVE})}var X=null;if(!g){if(r.canAutoBucket()){X=this.getGranularityActions()}else if(!U){X=this.getFilterActions()}}return d.createElement(S.SearchableTile,{style:{maxHeight:G},title:this.getTitleHeader(),toggleChangeFn:this.toggleSearch.bind(this),onDragStart:this.onDragStart.bind(this),onSearchChange:this.onSearchChange.bind(this),searchText:O,showSearch:k,icons:Q,className:$,actions:X},d.createElement("div",{className:"rows"},z,Y),V,N?d.createElement(x.QueryError,{error:N}):null,T?d.createElement(y.Loader,null):null)};return t}(d.Component);t.DimensionTile=T},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(1);var a=i(209);var o=i(214);var l=i(216);i(409);var s=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.clicker,i=e.essence,n=e.timekeeper,s=e.changePosition,u=e.openOn,d=e.dimension,c=e.onClose,p=e.inside;if(!d)return null;var f=d.getKind();if(f==="time"){return r.createElement(l.TimeFilterMenu,{essence:i,timekeeper:n,clicker:t,dimension:d,onClose:c,openOn:u,inside:p})}else if(f==="number"){return r.createElement(a.NumberFilterMenu,{essence:i,timekeeper:n,clicker:t,dimension:d,onClose:c,openOn:u,inside:p})}else{return r.createElement(o.StringFilterMenu,{essence:i,timekeeper:n,clicker:t,dimension:d,changePosition:s,onClose:c,openOn:u,inside:p})}};return t}(r.Component);t.FilterMenu=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(6);var l=i(1);var s=i(10);var u=i(15);var d=i(34);var c=i(149);var p=i(210);i(421);function f(e){if(e===p.ANY_VALUE)return u.STRINGS.any;return""+e}function m(e){var t=parseFloat(e);return isNaN(t)?p.ANY_VALUE:t}var g=250;var h=c.FilterOptionsDropdown.getFilterOptions(s.Filter.INCLUDE,s.Filter.EXCLUDE);var v=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={leftOffset:null,rightBound:null,start:null,startInput:"",end:null,endInput:""};return t}t.prototype.componentWillMount=function(){var e=this.props,t=e.essence,i=e.dimension;var n=t.filter;var r=n.getLiteralSet(i.name);var a=r&&r.elements.length!==0;var o=null;var l=null;if(a){if(r.setType==="NUMBER_RANGE"){var u=r.elements[0];o=u.start;l=u.end}else if(r.setType==="NUMBER"){var d=r.elements[0];o=d;l=d}}this.setState({startInput:f(o),endInput:f(l),start:o,end:l,filterMode:n.getModeFor(i.name)||s.Filter.INCLUDE})};t.prototype.constructFilter=function(){var e=this.props,t=e.essence,i=e.dimension;var n=this.state,r=n.start,a=n.end,l=n.filterMode;var u=t.filter;var d=false;if(r!==null&&a!==null){d=r<=a}else{d=!isNaN(r)&&!isNaN(a)&&(r!==null||a!==null)}if(d){var c=r===a?"[]":"[)";var p=o.Set.fromJS({setType:"NUMBER_RANGE",elements:[o.NumberRange.fromJS({start:r,end:a,bounds:c})]});var f=new s.FilterClause({dimension:i.name,values:p,exclude:l===s.Filter.EXCLUDE});return u.setClause(f)}else{return null}};t.prototype.onOkClick=function(){if(!this.actionEnabled())return;var e=this.props,t=e.clicker,i=e.onClose;t.changeFilter(this.constructFilter());i()};t.prototype.onCancelClick=function(){var e=this.props.onClose;e()};t.prototype.onRangeInputStartChange=function(e){var t=e.target.value;this.setState({startInput:t,start:m(t)})};t.prototype.onRangeInputEndChange=function(e){var t=e.target.value;this.setState({endInput:t,end:m(t)})};t.prototype.onRangeStartChange=function(e){this.setState({startInput:f(e),start:e})};t.prototype.onRangeEndChange=function(e){this.setState({endInput:f(e),end:e})};t.prototype.onSelectFilterOption=function(e){this.setState({filterMode:e})};t.prototype.actionEnabled=function(){var e=this.props.essence;return!e.filter.equals(this.constructFilter())&&Boolean(this.constructFilter())};t.prototype.render=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension,o=e.onClose,f=e.openOn,m=e.inside;var v=this.state,b=v.endInput,y=v.startInput,x=v.end,S=v.start,w=v.filterMode;var E=r.Stage.fromSize(g,410);return l.createElement(d.BubbleMenu,{className:"number-filter-menu",direction:"down",stage:E,openOn:f,onClose:o,inside:m},l.createElement("div",{className:"side-by-side"},l.createElement("div",{className:"group"},l.createElement("label",{className:"input-top-label"},"Type"),l.createElement(c.FilterOptionsDropdown,{selectedOption:w,onSelectOption:this.onSelectFilterOption.bind(this),filterOptions:h})),l.createElement("div",{className:"group"},l.createElement("label",{className:"input-top-label"},"Min"),l.createElement("input",{value:y,onChange:this.onRangeInputStartChange.bind(this)})),l.createElement("div",{className:"group"},l.createElement("label",{className:"input-top-label"},"Max"),l.createElement("input",{value:b,onChange:this.onRangeInputEndChange.bind(this)}))),l.createElement(p.NumberRangePicker,{onRangeEndChange:this.onRangeEndChange.bind(this),onRangeStartChange:this.onRangeStartChange.bind(this),start:S,end:x,dimension:n,essence:t,timekeeper:i,exclude:w===s.Filter.EXCLUDE}),l.createElement("div",{className:"ok-cancel-bar"},l.createElement(a.Button,{type:"primary",title:u.STRINGS.ok,onClick:this.onOkClick.bind(this),disabled:!this.actionEnabled()}),l.createElement(a.Button,{type:"secondary",title:u.STRINGS.cancel,onClick:this.onCancelClick.bind(this)})))};return t}(l.Component);t.NumberFilterMenu=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(16);var o=i(9);var l=i(6);var s=i(1);var u=i(20);var d=i(77);var c=i(90);var p=i(70);var f=i(92);var m=i(212);i(422);t.ANY_VALUE=null;var g=16;var h=300;function v(e){return e+g}function b(e){return e&&e>g?e-g:0}function y(e){var t=d.getNumberOfWholeDigits(e/h);return t>3?Math.min(t,4):3}function x(e){return e+g/2}var S=function(e){n.__extends(i,e);function i(){var t=e.call(this)||this;t.state={min:null,max:null,step:null,loading:false,error:null};return t}i.prototype.fetchData=function(e,t,i,n){var r=this;var o=e.dataCube;var s=e.getDimensions();var u=e.getEffectiveFilter(t,null,i).toExpression(s);var d=l.$("main");var p=i.expression;var f=l.ply().apply("main",d.filter(u)).apply("Min",d.min(p)).apply("Max",d.max(p));this.setState({loading:true});c.QueryRunner.fetch(o,f,a.Timezone.UTC).then(function(e){if(!r.mounted)return;var t={loading:false};if(e.data.length){var i=e.data[0]["Min"];var a=e.data[0]["Max"];var o=a&&i&&isFinite(a)&&isFinite(i)?(a-i)/n:1;t.min=i;t.max=a;t.step=o||1}r.setState(t)},function(e){if(!r.mounted)return;r.setState({loading:false,error:e})})};i.prototype.componentDidMount=function(){this.mounted=true;var e=u.findDOMNode(this.refs["number-range-picker"]);var t=e.getBoundingClientRect();var i=this.props,n=i.essence,r=i.timekeeper,a=i.dimension;var o=t.left;var l=t.width;this.setState({leftOffset:o,rightBound:l});this.fetchData(n,r,a,l)};i.prototype.componentWillUnmount=function(){this.mounted=false};i.prototype.relativePositionToValue=function(e,i){var n=this.state,r=n.step,a=n.min,o=n.max,l=n.rightBound;if(e<=v(0)&&i==="start")return t.ANY_VALUE;if(e>=l&&i==="end")return t.ANY_VALUE;var s=o-a!==0?o-a:Math.abs(o);return d.toSignificantDigits(e*r,y(s))};i.prototype.valueToRelativePosition=function(e){var t=this.state.step;return e/t};i.prototype.onBarClick=function(e,t,i){var n=this.state.leftOffset;var a=5;var o=r.EventUtils.getXFromEvent(i);var l=o-n;if(l<g/2)return this.updateStart(n);var s=v(e)+a;var u=b(t)+a;var d=l<e;var c=l>t+g;var p=l<t&&l>s;if(d){this.updateStart(o-g)}else if(c){this.updateEnd(o)}else if(p){var f=u-l;var m=l-s;if(f<m){this.updateEnd(u+n-f)}else{this.updateStart(s+n+m-g)}return}};i.prototype.updateStart=function(e){var t=this.props.onRangeStartChange;var i=this.state.leftOffset;var n=e-i;var r=this.relativePositionToValue(v(n),"start");t(r)};i.prototype.updateEnd=function(e){var t=this.props.onRangeEndChange;var i=this.state.leftOffset;var n=e-i;var r=this.relativePositionToValue(n,"end");t(r)};i.prototype.render=function(){var e=this.props,i=e.start,n=e.end,a=e.exclude;var l=this.state,u=l.min,d=l.max,c=l.loading,g=l.error,h=l.step,y=l.rightBound,S=l.leftOffset;var w=null;if(y&&h&&isFinite(d)&&isFinite(u)){var E=i===t.ANY_VALUE?0:b(this.valueToRelativePosition(i));var C=n===t.ANY_VALUE?y:this.valueToRelativePosition(n);var T=b(y);var M=r.NumberUtils.clamp(C,v(E),T);var N=i?r.NumberUtils.clamp(E,0,b(M)):0;var k={left:x(N),width:M-N};var D=S+y;w=s.createElement("div",{className:"range-slider",onMouseDown:this.onBarClick.bind(this,N,M)},s.createElement("div",{className:"range-bar full"}),s.createElement("div",{className:"range-bar selected",style:k}),s.createElement(m.RangeHandle,{positionLeft:N,onChange:this.updateStart.bind(this),isAny:i===t.ANY_VALUE,isBeyondMin:i!==t.ANY_VALUE&&i<u,leftBound:S,rightBound:S+b(M),offset:S}),s.createElement(m.RangeHandle,{positionLeft:M,onChange:this.updateEnd.bind(this),isAny:n===t.ANY_VALUE,isBeyondMax:n!==t.ANY_VALUE&&d<n,leftBound:S+v(N),rightBound:D,offset:S}))}return s.createElement("div",{className:o("number-range-picker",{inverted:a}),ref:"number-range-picker"},w,c?s.createElement(p.Loader,null):null,g?s.createElement(f.QueryError,{error:g}):null)};return i}(s.Component);t.NumberRangePicker=S},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(1);var o=i(10);i(424);var l=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.essence,i=e.title,n=e.dimension,l=e.sortOn,s=e.onSelect;if(!l)return null;var u=(n?[o.SortOn.fromDimension(n)]:[]).concat(t.dataCube.getMeasures().map(o.SortOn.fromMeasure));var d=r.Dropdown.specialize();return a.createElement("div",{className:"pinboard-measure-tile"},a.createElement("div",{className:"title"},i),a.createElement(d,{items:u,selectedItem:l,equal:o.SortOn.equal,renderItem:o.SortOn.getTitle,keyItem:o.SortOn.getName,onSelect:s}))};return t}(a.Component);t.PinboardMeasureTile=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(9);var o=i(1);i(428);var l=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={anchor:null};t.onGlobalMouseUp=t.onGlobalMouseUp.bind(t);t.onGlobalMouseMove=t.onGlobalMouseMove.bind(t);return t}t.prototype.onGlobalMouseMove=function(e){var t=this.props,i=t.onChange,n=t.leftBound,a=t.rightBound;var o=this.state.anchor;var l=r.EventUtils.getXFromEvent(e)-o;i(r.NumberUtils.clamp(l,n,a))};t.prototype.onMouseDown=function(e){var t=this.props,i=t.offset,n=t.positionLeft;var a=r.EventUtils.getXFromEvent(e);var o=a-i-n;this.setState({anchor:o});e.preventDefault();window.addEventListener("mouseup",this.onGlobalMouseUp);window.addEventListener("mousemove",this.onGlobalMouseMove)};t.prototype.onGlobalMouseUp=function(){window.removeEventListener("mouseup",this.onGlobalMouseUp);window.removeEventListener("mousemove",this.onGlobalMouseMove)};t.prototype.render=function(){var e=this.props,t=e.positionLeft,i=e.isAny,n=e.isBeyondMin,r=e.isBeyondMax;var l={left:t};return o.createElement("div",{className:a("range-handle",{empty:i,"beyond min":n,"beyond max":r}),style:l,onMouseDown:this.onMouseDown.bind(this)})};return t}(o.Component);t.RangeHandle=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(9);var s=i(6);var u=i(1);var d=i(10);var c=i(221);var p=i(15);var f=i(34);i(434);var m=s.Expression._.limit(5);function g(e){if(e===m)return p.STRINGS.custom;return e==null||e===d.SplitCombine.EFFECTIVE_NO_LIMIT?p.STRINGS.none:String(e.value)}function h(e,t){if(!t.isBucketed())return false;return!e.getGranularities().find(function(e){return d.granularityEquals(e,t.bucketAction)})}var v=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={split:null,colors:null,invalidGranularityInput:null,showCustomGranularity:false};return t}t.prototype.componentWillMount=function(){var e=this.props,t=e.essence,i=e.split,n=e.dimension;var r=t.getEffectiveColors();var a=null;if(r){var o=t.getDimension(r.dimension);if(o.name===i.dimension){a=r}}this.setState({split:i,colors:a,showCustomGranularity:h(n,i)})};t.prototype.onSelectGranularity=function(e){var t=this.state.split;var i=d.updateBucketSize(t.bucketAction,e);this.setState({split:t.changeBucketAction(i),showCustomGranularity:false})};t.prototype.onSelectSortOn=function(e){var t=this.state.split;var i=t.sortAction;var n=i?i.direction:s.SortExpression.DESCENDING;this.setState({split:t.changeSortAction(s.Expression._.sort(e.getExpression(),n))})};t.prototype.onToggleDirection=function(){var e=this.state.split;var t=e.sortAction;this.setState({split:e.changeSortAction(t.toggleDirection())})};t.prototype.onSelectLimit=function(e){var t=this.props.essence;var i=this.state.split;var n=t.getEffectiveColors();if(n){n=d.Colors.fromLimit(n.dimension,e.value)}var r={colors:n};if(!(e===d.SplitCombine.EFFECTIVE_NO_LIMIT&&!i.limitAction)){r.split=i.changeLimitAction(e)}this.setState(r)};t.prototype.onOkClick=function(){if(!this.actionEnabled())return;var e=this.props,t=e.clicker,i=e.essence,n=e.onClose;var r=this.state,a=r.split,o=r.colors;t.changeSplits(i.splits.replace(this.props.split,a),d.VisStrategy.UnfairGame,o);n()};t.prototype.onMoreClick=function(){this.setState({showCustomGranularity:true})};t.prototype.onCancelClick=function(){var e=this.props.onClose;e()};t.prototype.getSortOn=function(){var e=this.props,t=e.essence,i=e.dimension;var n=this.state.split;return d.SortOn.fromSortAction(n.sortAction,t.dataCube,i)};t.prototype.onInputChange=function(e,t){var i=this.state.split;var n=t.target.value;try{var r=e(n);this.setState({split:i.changeBucketAction(r),invalidGranularityInput:null})}catch(t){this.setState({invalidGranularityInput:n})}};t.prototype.renderCustomGranularityInput=function(e){var t=this.state,i=t.showCustomGranularity,n=t.invalidGranularityInput,r=t.split;if(!i)return null;var a=function(e){return s.TimeBucketExpression.fromJS({duration:e})};var o=function(e){var t=Number.parseInt(e);if(isNaN(t)||t<=0)throw new Error("invalid number bucket size");return s.NumberBucketExpression.fromJS({size:t})};var c=e==="number"?o:a;var p=n!=null?n:d.granularityToString(r.bucketAction);return u.createElement("input",{className:l({error:!!n}),value:p,onChange:this.onInputChange.bind(this,c)})};t.prototype.renderGranularityPicker=function(){var e=this;var t=this.state,i=t.split,n=t.showCustomGranularity;var r=this.props.dimension;var l=i.bucketAction;var s=r.bucketedBy;var f=d.granularityToString(l);var m=r.canHaveNoBucket();var g=r.getGranularities();if(!s&&m){g=[null].concat(g.slice(0,g.length-1))}var h=g.map(function(t){var i=d.granularityToString(t);return{active:i===f&&!n,onClick:e.onSelectGranularity.bind(e,t),title:c.formatGranularity(i)}});h.push({active:n,onClick:this.onMoreClick.bind(this),svg:o.FULL_MORE_MINI,className:"more"});return u.createElement(a.ButtonGroup,{className:"granularity-picker",title:p.STRINGS.granularity,items:h})};t.prototype.renderSortDropdown=function(){var e=this.props,t=e.essence,i=e.dimension;var n=[d.SortOn.fromDimension(i)].concat(t.dataCube.getMeasures().map(d.SortOn.fromMeasure));var r=a.Dropdown.specialize();return u.createElement(r,{label:p.STRINGS.sortBy,items:n,selectedItem:this.getSortOn(),equal:d.SortOn.equal,renderItem:d.SortOn.getTitle,keyItem:d.SortOn.getName,onSelect:this.onSelectSortOn.bind(this)})};t.prototype.renderSortDirection=function(){var e=this.state.split;var t=e.sortAction.direction;return u.createElement("div",{className:"sort-direction"},this.renderSortDropdown(),u.createElement("div",{className:"direction "+t,onClick:this.onToggleDirection.bind(this)},u.createElement(a.SvgIcon,{svg:o.SORT_ARROW})))};t.prototype.renderLimitDropdown=function(e){var t=this.props.displayLimit;var i=this.state,n=i.colors,r=i.split;var o=function(e){return s.Expression._.limit(e)};var l=[5,10,25,50,100].map(o);var c=r.limitAction||t;if(n){l=[3,5,7,9,10].map(o);c=n.values?m:o(n.limit)}if(e)l.unshift(d.SplitCombine.EFFECTIVE_NO_LIMIT);var f=a.Dropdown.specialize();return u.createElement(f,{label:p.STRINGS.limit,items:l,selectedItem:c,renderItem:g,onSelect:this.onSelectLimit.bind(this)})};t.prototype.renderTimeControls=function(){return u.createElement("div",null,this.renderGranularityPicker(),this.renderCustomGranularityInput("time"),this.renderSortDirection(),this.renderLimitDropdown(true))};t.prototype.renderNumberControls=function(){return u.createElement("div",null,this.renderGranularityPicker(),this.renderCustomGranularityInput("number"),this.renderSortDirection(),this.renderLimitDropdown(true))};t.prototype.renderStringControls=function(){return u.createElement("div",null,this.renderSortDirection(),this.renderLimitDropdown(false))};t.prototype.actionEnabled=function(){var e=this.props.split;var t=this.props.essence.getEffectiveColors();var i=this.state.split;var n=this.state.colors;return!e.equals(i)||t&&!t.equals(n)};t.prototype.render=function(){var e=this.props,t=e.openOn,i=e.dimension,n=e.onClose,o=e.inside;if(!i)return null;var l=i.getKind();var s=i.isBucketable();var d=r.Stage.fromSize(250,240);var c=null;if(l==="time"&&s){c=this.renderTimeControls()}else if(l==="number"&&s){c=this.renderNumberControls()}else{c=this.renderStringControls()}return u.createElement(f.BubbleMenu,{className:"split-menu",direction:"down",stage:d,openOn:t,onClose:n,inside:o},u.createElement(a.GlobalEventListener,{enter:this.onOkClick.bind(this)}),c,u.createElement("div",{className:"button-bar"},u.createElement(a.Button,{className:"ok",type:"primary",onClick:this.onOkClick.bind(this),disabled:!this.actionEnabled(),title:p.STRINGS.ok}),u.createElement(a.Button,{className:"cancel",type:"secondary",onClick:this.onCancelClick.bind(this),title:p.STRINGS.cancel})))};return t}(u.Component);t.SplitMenu=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(1);var l=i(10);var s=i(34);var u=i(149);var d=i(334);var c=i(335);i(436);var p=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={filterMode:null,searchText:null};return t}t.prototype.componentWillMount=function(){var e=this.props,t=e.essence,i=e.dimension;var n=t.filter.getModeFor(i.name);if(n&&!this.state.filterMode){this.setState({filterMode:n})}};t.prototype.onSelectFilterOption=function(e){this.setState({filterMode:e})};t.prototype.updateSearchText=function(e){this.setState({searchText:e})};t.prototype.updateFilter=function(e){var t=this.props,i=t.essence,n=t.dimension,r=t.changePosition;var a=i.filter;if(!e)return a.remove(n.name);if(r){if(r.isInsert()){return a.insertByIndex(r.insert,e)}else{return a.replaceByIndex(r.replace,e)}}else{return a.setClause(e)}};t.prototype.getFilterOptions=function(){var e=this.props.dimension;var t=e.getKind();var i=u.FilterOptionsDropdown.getFilterOptions(l.Filter.INCLUDE,l.Filter.EXCLUDE);if(t!=="boolean")i=i.concat(u.FilterOptionsDropdown.getFilterOptions(l.Filter.REGEX,l.Filter.CONTAINS));return i};t.prototype.renderMenuControls=function(){var e=this.state,t=e.filterMode,i=e.searchText;return o.createElement("div",{className:"string-filter-menu-controls"},o.createElement("div",{className:"side-by-side"},o.createElement(u.FilterOptionsDropdown,{selectedOption:t,onSelectOption:this.onSelectFilterOption.bind(this),filterOptions:this.getFilterOptions()}),o.createElement("div",{className:"search-box"},o.createElement(a.ClearableInput,{placeholder:t===l.Filter.REGEX?"Regex":t===l.Filter.CONTAINS?"Contains text":"Search",focusOnMount:true,value:i,onChange:this.updateSearchText.bind(this)}))))};t.prototype.render=function(){var e=this.props,t=e.dimension,i=e.clicker,n=e.essence,a=e.timekeeper,u=e.onClose,p=e.openOn,f=e.inside;var m=this.state,g=m.filterMode,h=m.searchText;if(!t)return null;var v=null;var b=null;if(g===l.Filter.REGEX||g===l.Filter.CONTAINS){v=r.Stage.fromSize(350,410);b=o.createElement(d.PreviewStringFilterMenu,{dimension:t,clicker:i,essence:n,timekeeper:a,onClose:u,searchText:h,filterMode:g,onClauseChange:this.updateFilter.bind(this)})}else{v=r.Stage.fromSize(250,410);b=o.createElement(c.SelectableStringFilterMenu,{dimension:t,clicker:i,essence:n,timekeeper:a,onClose:u,searchText:h,filterMode:g,onClauseChange:this.updateFilter.bind(this)})}return o.createElement(s.BubbleMenu,{className:"string-filter-menu",direction:"down",stage:v,openOn:p,onClose:u,inside:f},this.renderMenuControls(),b)};return t}(o.Component);t.StringFilterMenu=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(9);var o=i(1);i(437);var l=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.renderIcons=function(){var e=this.props.icons;if(!e||!e.length)return null;var t=e.map(function(e){return o.createElement("div",{className:a("icon",e.name,{active:e.active}),key:e.name,onClick:e.onClick,ref:e.ref},o.createElement(r.SvgIcon,{svg:e.svg}))});return o.createElement("div",{className:"icons"},t)};t.prototype.render=function(){var e=this.props,t=e.title,i=e.onDragStart;return o.createElement("div",{className:"tile-header",draggable:i?true:null,onDragStart:i},o.createElement("div",{className:"title"},t),this.renderIcons())};return t}(o.Component);t.TileHeader=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(16);var l=i(9);var s=i(6);var u=i(1);var d=i(10);var c=i(15);var p=i(75);var f=i(34);var m=i(205);i(438);function g(e,t){return new s.TimeRange({start:o.second.shift(e,t,-1),end:o.second.shift(e,t,1)})}var h=250;var v="relative";var b="specific";var y="multiple";var x=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={tab:null,timeSelection:null,startTime:null,endTime:null,hoverPreset:null};return t}t.prototype.componentWillMount=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension;var r=t.filter;var a=t.timezone;var l=n.name;var u=r.getSelection(l);var d=t.getEffectiveFilter(i).getLiteralSet(l);var c=d&&d.size()===1?d.elements[0]:null;if(c&&!s.Range.isRange(c))c=g(c,a);this.setState({timeSelection:u,tab:this.getTabFromClause(r.clauseForDimension(l)),startTime:c?o.day.floor(c.start,a):null,endTime:c?o.day.ceil(c.end,a):null})};t.prototype.getTabFromClause=function(e){if(!e)return v;if(e.dynamic)return v;if(e.values&&e.values.size()>1)return y;return b};t.prototype.constructFilter=function(){var e=this.props,t=e.essence,i=e.dimension;var n=this.state,r=n.tab,a=n.startTime,l=n.endTime;var u=t.filter;var d=t.timezone;if(!this.isSpecific())return null;if(a&&!l){l=o.day.shift(a,d,1)}if(a&&l&&a<l){return u.setValues(i.name,s.Set.fromJS([s.TimeRange.fromJS({start:a,end:l})]))}else{return null}};t.prototype.onPresetClick=function(e){var t=this.props,i=t.clicker,n=t.onClose,r=t.essence,a=t.dimension;var o=r.filter;var l=o.setDynamic(a.name,e.selection);i.changeFilter(l);n()};t.prototype.onPresetMouseEnter=function(e){var t=this.state.hoverPreset;if(t===e)return;this.setState({hoverPreset:e})};t.prototype.onPresetMouseLeave=function(e){var t=this.state.hoverPreset;if(t!==e)return;this.setState({hoverPreset:null})};t.prototype.onStartChange=function(e){this.setState({startTime:e})};t.prototype.onEndChange=function(e){this.setState({endTime:e})};t.prototype.selectTab=function(e){this.setState({tab:e})};t.prototype.isRelative=function(){return this.state.tab===v};t.prototype.isSpecific=function(){return this.state.tab===b};t.prototype.isMultiple=function(){return this.state.tab===y};t.prototype.onOkClick=function(){if(!this.actionEnabled())return;var e=this.props,t=e.clicker,i=e.onClose;var n=this.constructFilter();if(!n)return;t.changeFilter(n);i()};t.prototype.onCancelClick=function(){var e=this.props.onClose;e()};t.prototype.renderPresets=function(){var e=this;var t=this.props,i=t.essence,n=t.timekeeper,r=t.dimension;var o=this.state,f=o.timeSelection,m=o.hoverPreset;if(!r)return null;var h=i.timezone;var v=function(t){var i=t.selection.equals(f);return u.createElement(a.Button,{key:t.name,type:i?"primary":"secondary",className:l("preset",{hover:t===m,selected:i}),onClick:e.onPresetClick.bind(e,t),onMouseEnter:e.onPresetMouseEnter.bind(e,t),onMouseLeave:e.onPresetMouseLeave.bind(e,t),title:t.name})};var b=null;if(f&&f.type==="SET/TIME_RANGE"){var y=f.value;if(!s.Set.isSet(y))throw new Error("Unrecognized filter value "+y);if(y.size()!==1)throw new Error("Can only filter on one time");var x=y.elements[0];b=g(x,h)}else{b=i.evaluateSelection(m?m.selection:f,n)}var S=b?p.formatTimeRange(b,h,p.DisplayYear.IF_DIFF):c.STRINGS.noFilter;var w=u.createElement("div",null,u.createElement("div",{className:"type"},c.STRINGS.latest),u.createElement("div",{className:"buttons"},d.FilterClause.LATEST_PRESETS.map(v)));return u.createElement("div",{className:"cont"},i.dataCube.isSpecialTimeDimension(r.name)?w:null,u.createElement("div",{className:"type"},c.STRINGS.current),u.createElement("div",{className:"buttons"},d.FilterClause.CURRENT_PRESETS.map(v)),u.createElement("div",{className:"type"},c.STRINGS.previous),u.createElement("div",{className:"buttons"},d.FilterClause.PREVIOUS_PRESETS.map(v)),u.createElement("div",{className:"preview"},S))};t.prototype.actionEnabled=function(){var e=this.props.essence;var t=this.state.tab;if(t!=="specific")return false;var i=this.constructFilter();return i&&!e.filter.equals(i)};t.prototype.renderCustom=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension;var r=this.state,o=r.startTime,l=r.endTime;if(!n)return null;return u.createElement("div",null,u.createElement(m.DateRangePicker,{startTime:o,endTime:l,maxTime:i.getTime(t.dataCube.name),timezone:t.timezone,onStartChange:this.onStartChange.bind(this),onEndChange:this.onEndChange.bind(this)}),u.createElement("div",{className:"ok-cancel-bar"},u.createElement(a.Button,{type:"primary",onClick:this.onOkClick.bind(this),disabled:!this.actionEnabled(),title:c.STRINGS.ok}),u.createElement(a.Button,{type:"secondary",onClick:this.onCancelClick.bind(this),title:c.STRINGS.cancel})))};t.prototype.isMultipleSelection=function(){var e=this.state.timeSelection;var t=e.value;return s.Set.isSet(t)&&t.size()>1};t.prototype.switchToSingleRange=function(){var e=this.props.essence;var t=this.state.timeSelection;var i=t.value;this.setState({tab:"specific",startTime:o.day.floor(i.elements[0].start,e.timezone),endTime:o.day.ceil(i.elements[0].end,e.timezone)})};t.prototype.renderMultipleSelection=function(){var e=this.props,t=e.onClose,i=e.openOn,n=e.inside,o=e.essence;var l=this.state.timeSelection;var s=l.value;var d=r.Stage.fromSize(h,410);return u.createElement(f.BubbleMenu,{className:"time-filter-menu multiple",direction:"down",stage:d,openOn:i,onClose:t,inside:n},s.elements.map(function(e,t){return u.createElement("div",{key:t,className:"range"},p.formatTimeRange(e,o.timezone,p.DisplayYear.IF_DIFF))}),u.createElement(a.Button,{type:"secondary",title:"Select single range",onClick:this.switchToSingleRange.bind(this)}))};t.prototype.render=function(){var e=this.props,t=e.dimension,i=e.onClose,n=e.openOn,o=e.inside;if(!t)return null;if(this.isMultiple())return this.renderMultipleSelection();var l=r.Stage.fromSize(h,410);var s=[{active:this.isRelative(),onClick:this.selectTab.bind(this,v),title:c.STRINGS.relative},{active:this.isSpecific(),onClick:this.selectTab.bind(this,b),title:c.STRINGS.specific}];return u.createElement(f.BubbleMenu,{className:"time-filter-menu",direction:"down",stage:l,openOn:n,onClose:i,inside:o},u.createElement(a.GlobalEventListener,{enter:this.onOkClick.bind(this)}),u.createElement(a.ButtonGroup,{items:s}),this.isRelative()?this.renderPresets():this.renderCustom())};return t}(u.Component);t.TimeFilterMenu=x},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(9);var l=i(1);var s=i(20);var u=i(218);i(442);var d=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.globalMouseDownListener=t.globalMouseDownListener.bind(t);return t}t.prototype.componentDidMount=function(){window.addEventListener("mousedown",this.globalMouseDownListener)};t.prototype.componentWillUnmount=function(){window.removeEventListener("mousedown",this.globalMouseDownListener)};t.prototype.globalMouseDownListener=function(e){var t=this.props,i=t.onClose,n=t.openOn;var a=s.findDOMNode(this);if(!a)return;var o=e.target;if(r.DOMUtils.isInside(o,a)||r.DOMUtils.isInside(o,n))return;i()};t.prototype.onVisSelect=function(e){var t=this.props.clicker;t.summonVisualization(e);this.setState({menuOpen:false})};t.prototype.renderVisItem=function(e){var t=this.props.essence;var i=t.visualization;return l.createElement("div",{className:o("vis-item",e.name===i.name?"selected":"not-selected"),key:e.name,
onClick:this.onVisSelect.bind(this,e)},l.createElement(a.SvgIcon,{svg:u.VISUALIZATIONS[e.name]}),l.createElement("div",{className:"vis-title"},e.title))};t.prototype.render=function(){var e=this;var t=this.props.essence;var i=t.visualizations;var n=null;if(i){n=i.map(function(t){return e.renderVisItem(t)})}return l.createElement("div",{className:"vis-selector-menu"},l.createElement(a.GlobalEventListener,{escape:this.props.onClose}),n)};return t}(l.Component);t.VisSelectorMenu=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(11);t.VISUALIZATIONS={"bar-chart":n.VIS_BAR_CHART,geo:n.VIS_GEO,heatmap:n.VIS_HEATMAP,"line-chart":n.VIS_LINE_CHART,"scatter-plot":n.VIS_SCATTER_PLOT,"stacked-bars":n.VIS_STACKED_BARS,table:n.VIS_TABLE,totals:n.VIS_TOTALS,treemap:n.VIS_TREEMAP}},function(e,t,i){"use strict";function n(e){for(var i in e)if(!t.hasOwnProperty(i))t[i]=e[i]}Object.defineProperty(t,"__esModule",{value:true});n(i(341))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(47);t.SECTION_WIDTH=n.CORE_ITEM_WIDTH+n.CORE_ITEM_GAP;function r(e,i){var r=Math.floor((e-n.OVERFLOW_WIDTH)/t.SECTION_WIDTH);if(r<i){var a=r*t.SECTION_WIDTH+n.OVERFLOW_WIDTH+n.CORE_ITEM_GAP;var o=null;if(e<a){o=r-1}else if(i-r===1){o=Math.floor(e/t.SECTION_WIDTH)}else{o=r}return o}else{return r}}t.getMaxItems=r},function(e,t,i){"use strict";function n(e){for(var i in e)if(!t.hasOwnProperty(i))t[i]=e[i]}Object.defineProperty(t,"__esModule",{value:true});n(i(77));n(i(345));n(i(75));n(i(344))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(45);var a=i(8);var o=i(11);var l=i(9);var s=i(446);var u=i(2);var d=i(6);var c=i(49);var p=i(1);var f=i(10);var m=i(15);var g=i(77);var h=i(152);var v=i(342);var b=i(450);var y=i(451);var x=i(454);var S=i(455);var w=i(456);var E=i(457);var C=i(458);var T=i(459);var M=i(460);i(738);var N={clusters:"clusters",newCluster:"new-cluster",advanced:"advanced",users:"users",newUser:"new-user"};function k(){r.Ajax.query({url:"settings/check-version"})}var D=function(e,t){return[{label:t?"Cluster":"Clusters",value:N.clusters,svg:o.FULL_CLUSTER},f.User.modeNeedsUserTable(e)?{label:"Users",value:N.users,svg:o.FULL_USER}:null,{label:"Advanced",value:N.advanced,svg:o.FULL_MORE}].filter(Boolean)};function I(e,t){return r.Ajax.query({url:"settings/attributes",data:{cluster:t,source:e.source}}).then(function(t){return e.fillAllFromAttributes(d.AttributeInfo.fromJSs(t.attributes))})}var A=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.mounted=false;t.state={};t.reloadSettings=t.reloadSettings.bind(t);t.sideBarHrefFn=x.createFunctionSlot();var i=new s(".clipboard");return t}t.prototype.reloadSettings=function(){var e=this;r.Ajax.query({url:"settings/load"}).then(function(t){if(!e.mounted)return;e.setState({settings:f.AppSettings.fromJS(t.appSettings,{visualizations:f.MANIFESTS})})},function(t){if(!e.mounted)return;a.Notifier.failure("Sorry","The settings couldn't be loaded "+t.message)})};t.prototype.componentDidMount=function(){this.mounted=true;r.Ajax.addUpdateHandler(this.reloadSettings);this.reloadSettings();this.interval=setInterval(k,1e4)};t.prototype.componentWillUnmount=function(){this.mounted=false;r.Ajax.removeUpdateHandler(this.reloadSettings);clearInterval(this.interval)};t.prototype.onSave=function(e,t){var i=this;var n=this.props.onSettingsChange;e=e.incrementVersion();return r.Ajax.query({url:"settings/set",data:{appSettings:e}}).then(function(r){i.setState({settings:e});if(t!==null){a.Notifier.clear();a.Notifier.success(t||"Settings saved")}if(n){n(e.toClientSettings(),f.Timekeeper.fromJS(r.timekeeper))}},function(e){a.Notifier.failure("Woops",e.message)})};t.prototype.selectTab=function(e){window.location.hash=""+e;this.setState({tempCluster:null,tempClusterSources:null,showCubesModal:false,tempUser:null})};t.prototype.renderLeftButtons=function(e){var t=this;if(!e||!e.length)return[];var i=this.props,n=i.userMode,r=i.customization;var o=function(e){a.GateKeeper.checkAndCall(t.selectTab.bind(t,e))};return D(n,r.getSingleClusterMode()).map(function(i){var n=i.label,r=i.value,s=i.svg;return p.createElement(a.Button,{className:l({active:e[0]===r}),title:n,type:"primary",svg:s,key:r,onClick:o.bind(t,r)})})};t.prototype.onURLChange=function(e){this.setState({breadCrumbs:e})};t.prototype.createCluster=function(e,t){this.setState({tempCluster:e,tempClusterSources:{names:t,cluster:e},showCubesModal:false})};t.prototype.addCluster=function(e){var t=this;var i=this.state.settings;return this.onSave(i.addOrUpdateCluster(e),"Cluster created").then(function(){window.location.hash="clusters";t.setState({showCubesModal:true});return false})};t.prototype.cancelClusterCreation=function(){this.selectTab(N.clusters)};t.prototype.backToClustersView=function(){this.setState({tempCluster:null,tempClusterSources:null,showCubesModal:false});window.location.hash="clusters"};t.prototype.saveCluster=function(e){var t=this.state.settings;return this.onSave(t.addOrUpdateCluster(e))};t.prototype.addDependantCubes=function(e,t){if(!t.length)return c(null);return c.all(t.map(function(t){return I(t,e)})).then(this.addDataCubes.bind(this)).then(function(){a.Notifier.clear();a.Notifier.success("Data cubes created")},function(e){a.Notifier.failure("Woops",e.message)})};t.prototype.renderCreateCubesModal=function(){var e=this;var t=this.state.tempClusterSources;var i=t.names,n=t.cluster;var r=y.SuggestionModal.specialize();var a=this.backToClustersView.bind(this);var o={label:function(e){return m.STRINGS.create+" "+g.pluralIfNeeded(e,"data cube")},closePromise:function(t){return e.addDependantCubes(n,t)},loadingMessage:"Creating data cubes..."};var l={label:function(){return m.STRINGS.noIllCreateThem},callback:a};var s=i.map(function(e,t){var i=f.DataCube.fromClusterAndSource(n.name+"_"+t,n,e);return{label:i.title,value:i}});return p.createElement(r,{onOk:o,onDoNothing:l,onClose:a,suggestions:s,title:m.STRINGS.createDataCubesFromCluster})};t.prototype.addDataCubes=function(e){return this.onSave(this.state.settings.appendDataCubes(e),null)};t.prototype.addUser=function(e){e=e.changeStatus(f.User.STATUS_INVITATION_LINK);return this.onSave(this.state.settings.appendUsers([e]),"User created")};t.prototype.backToUsersView=function(){window.location.hash=""+N.users;this.setState({tempUser:null})};t.prototype.updateUser=function(e){var t=this.state.settings;return this.onSave(t.addOrUpdateUser(e))};t.prototype.renderSideDrawer=function(){var e=this;var t=this.state,i=t.drawerOpen,n=t.settings;var r=n.dataCubes,l=n.collections,s=n.customization;var u=function(){return e.setState({drawerOpen:false})};var d=window.location.href.replace(/\/settings#.*$/,"");var c=function(e){return{label:e.title,href:d+"#"+(f.Collection.isCollection(e)?"collection/":"")+e.name,svgIcon:f.DataCube.isDataCube(e)?o.FULL_CUBE:o.FULL_COLLECTION,needsGateKeeping:true}};var m=[a.SideDrawer.separator(),{svgIcon:o.HOME,label:"Home",href:d+"#home",needsGateKeeping:true},a.SideDrawer.separator()].concat(r.map(c),[r.length?a.SideDrawer.separator():null],l.map(c),[l.length?a.SideDrawer.separator():null]).filter(Boolean);if(s.getLauncherHref()){m.push({svgIcon:o.LAUNCHER,label:"Launcher",href:s.getLauncherHref(),needsGateKeeping:true})}else{m.push({label:"Settings",selected:true});m.push({label:"Info & feedback",onClick:function(){return e.setState({showAboutModal:true})}})}return p.createElement(a.SideDrawer,{open:i,items:m,onClose:u,navLogo:s&&s.customLogoSvg?s.customLogoSvg:o.IMPLY_PIVOT_LOGO})};t.prototype.onNavClick=function(){this.setState({drawerOpen:true})};t.prototype.renderClustersRoute=function(){var e=this;var t=this.props.customization;var i=this.state,n=i.settings,r=i.tempCluster,o=i.tempClusterSources,l=i.showCubesModal;var s=function(e,t){if(e!=="clusterId")return{key:e,value:t};return{key:"cluster",value:u.NamedArray.findByName(n.clusters,t)}};if(t.getSingleClusterMode()&&n.clusters.length===1){var d=function(){a.GateKeeper.forget();e.backToClustersView()};return p.createElement(a.Route,{fragment:N.clusters},p.createElement(a.Route,{fragment:":clusterId="+n.clusters[0].name,inflate:s},p.createElement(S.ClusterEdit,{onSave:this.saveCluster.bind(this),back:d})))}return p.createElement(a.Route,{fragment:N.clusters},p.createElement(w.Clusters,{settings:n,onSave:this.onSave.bind(this)}),o&&l?this.renderCreateCubesModal():null,p.createElement(a.Route,{fragment:N.newCluster},r?null:p.createElement(w.Clusters,{settings:n,onSave:this.onSave.bind(this)}),r?p.createElement(S.ClusterEdit,{isNewCluster:true,cluster:r,onSave:this.addCluster.bind(this),back:this.cancelClusterCreation.bind(this)}):p.createElement(b.ClusterSeedModal,{onNext:this.createCluster.bind(this),onCancel:this.backToClustersView.bind(this),clusters:n.clusters})),p.createElement(a.Route,{fragment:":clusterId",inflate:s},p.createElement(S.ClusterEdit,{onSave:this.saveCluster.bind(this),back:this.backToClustersView.bind(this)})))};t.prototype.renderAboutModal=function(){var e=this;var t=this.props.version;var i=this.state.showAboutModal;if(!i)return null;var n=function(){return e.setState({showAboutModal:false})};return p.createElement(v.AboutModal,{version:t,onClose:n})};t.prototype.render=function(){var e=this.props,t=e.user,i=e.customization,n=e.userMode;var r=this.state,o=r.settings,l=r.breadCrumbs,s=r.tempUser;if(!o)return p.createElement("div",{className:"settings-view"},p.createElement(a.Loader,{label:m.STRINGS.loadingSettings}));var d=function(e,t){if(e!=="userId")return{key:e,value:t};return{key:"user",value:o.getUser(t)}};return p.createElement("div",{className:"settings-view"},this.renderSideDrawer(),p.createElement(C.SettingsHeaderBar,{user:t,userMode:n,onNavClick:this.onNavClick.bind(this),customization:i,title:m.STRINGS.settings}),p.createElement("div",{className:"left-panel"},this.renderLeftButtons(l)),p.createElement("div",{className:"main-panel"},p.createElement(a.Router,{onURLChange:this.onURLChange.bind(this)},this.renderClustersRoute(),f.User.modeNeedsUserTable(n)?p.createElement(a.Route,{fragment:N.users},p.createElement(M.Users,{settings:o,user:t,onSave:this.onSave.bind(this)}),p.createElement(a.Route,{fragment:N.newUser},s?p.createElement(T.UserEdit,{isNewUser:false,user:s,onSave:this.addUser.bind(this),back:this.backToUsersView.bind(this)}):p.createElement(T.UserEdit,{isNewUser:true,user:f.User.fromName(h.generateUniqueName("",function(e){return!u.NamedArray.findByName(o.users,e)})),onSave:this.addUser.bind(this),back:this.backToUsersView.bind(this)})),p.createElement(a.Route,{fragment:":userId",inflate:d},p.createElement(T.UserEdit,{onSave:this.updateUser.bind(this),back:this.backToUsersView.bind(this)}))):null,p.createElement(a.Route,{fragment:N.advanced},p.createElement(E.Other,{settings:o,onSave:this.onSave.bind(this)})))),this.renderAboutModal(),p.createElement(a.Notifications,null),p.createElement(a.Questions,null))};return t}(p.Component);t.SettingsView=A},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(16);var s=i(1);var u=i(15);var d=i(34);i(423);var c={null:"Off",undefined:"Off",PT5S:"Every 5 seconds",PT15S:"Every 15 seconds",PT1M:"Every minute",PT5M:"Every 5 minutes",PT10M:"Every 10 minutes",PT30M:"Every 30 minutes"};var p=[null,l.Duration.fromJS("PT5S"),l.Duration.fromJS("PT15S"),l.Duration.fromJS("PT1M"),l.Duration.fromJS("PT5M"),l.Duration.fromJS("PT10M"),l.Duration.fromJS("PT30M")];var f=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.changeTimezone=function(e){var t=this.props,i=t.onClose,n=t.changeTimezone;n(e);i()};t.prototype.renderTimezonesDropdown=function(){var e=this.props,t=e.timezone,i=e.customization;var n=a.Dropdown.specialize();return s.createElement(n,{className:"timezone-dropdown",label:u.STRINGS.timezone,selectedItem:t,renderItem:function(e){return e.toString().replace(/_/g," ")},items:i.getTimezones(),onSelect:this.changeTimezone.bind(this)})};t.prototype.renderRefreshControls=function(){var e=this.props,t=e.onRefreshMaxTime,i=e.autoRefreshRate,n=e.setAutoRefreshRate;if(!t||!n)return null;var r=a.Dropdown.specialize();return s.createElement("div",{className:"refresh-controls"},s.createElement(r,{label:u.STRINGS.autoUpdate,items:p,selectedItem:i,renderItem:function(e){return c[String(e)]||"Custom "+e},onSelect:n}),s.createElement(a.Button,{svg:o.FULL_REFRESH,type:"secondary",className:"update-now-button",onClick:t}))};t.prototype.render=function(){var e=this.props,t=e.openOn,i=e.onClose,n=e.refreshText;return s.createElement(d.BubbleMenu,{className:"options-menu",direction:"down",stage:r.Stage.fromSize(240,200),openOn:t,onClose:i},this.renderTimezonesDropdown(),this.renderRefreshControls(),n?s.createElement("div",{className:"update-info"},n):null)};return t}(s.Component);t.OptionsMenu=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(9);var s=i(49);var u=i(1);var d=i(20);var c=i(10);var p=i(15);var f=i(47);var m=i(48);var g=i(91);var h=i(124);var v=i(220);var b=i(34);var y=i(148);var x=i(208);i(411);var S="filter";var w=400;function E(e){return e.title}var C=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.overflowMenuId=m.uniqueId("overflow-menu-");t.state={menuOpenOn:null,menuDimension:null,menuInside:null,overflowMenuOpenOn:null,dragPosition:null,possibleDimension:null,possiblePosition:null};return t}t.prototype.componentDidMount=function(){this.calculateSize()};t.prototype.componentDidUpdate=function(){var e=this.state,t=e.possibleDimension,i=e.overflowMenuOpenOn;if(t){this.dummyDeferred.resolve(null)}if(i){var n=this.getOverflowMenu();if(n)this.overflowMenuDeferred.resolve(n)}};t.prototype.calculateSize=function(){if(!this.itemsDOM)return;var e=this.state.itemStage;var t=r.Stage.fromClientRect(this.itemsDOM.getBoundingClientRect());if(!t.equals(e)){this.setState({itemStage:t})}};t.prototype.getOverflowMenu=function(){return document.getElementById(this.overflowMenuId)};t.prototype.clickDimension=function(e,t){var i=m.findParentWithClass(t.target,S);this.openMenu(e,i)};t.prototype.openMenuOnDimension=function(e){var t=this;var i=this.refs[e.name];if(i){var n=d.findDOMNode(i);if(!n)return;this.openMenu(e,n)}else{var r=this.overflowDOM;if(r){this.openOverflowMenu(r).then(function(){var i=d.findDOMNode(t.refs[e.name]);if(!i)return;t.openMenu(e,i)})}}};t.prototype.openMenu=function(e,t){var i=this.state.menuOpenOn;if(i===t){this.closeMenu();return}var n=this.getOverflowMenu();var a=null;if(n&&r.DOMUtils.isInside(t,n)){a=n}this.setState({menuOpenOn:t,menuDimension:e,menuInside:a})};t.prototype.closeMenu=function(){var e=this.state,t=e.menuOpenOn,i=e.possibleDimension;if(!t)return;var n={menuOpenOn:null,menuDimension:null,menuInside:null,possibleDimension:null,possiblePosition:null};if(i){n.overflowMenuOpenOn=null}this.setState(n)};t.prototype.openOverflowMenu=function(e){if(!e)return s(null);var t=this.state.overflowMenuOpenOn;if(t===e){this.closeOverflowMenu();return s(null)}this.overflowMenuDeferred=s.defer();this.setState({overflowMenuOpenOn:e});return this.overflowMenuDeferred.promise};t.prototype.closeOverflowMenu=function(){var e=this.state.overflowMenuOpenOn;if(!e)return;this.setState({overflowMenuOpenOn:null})};t.prototype.removeFilter=function(e,t){var i=this.props,n=i.essence,r=i.clicker;if(e.clause){if(e.source==="from-highlight"){r.dropHighlight()}else{r.changeFilter(n.filter.remove(e.clause.dimension))}}this.closeMenu();this.closeOverflowMenu();t.stopPropagation()};t.prototype.dragStart=function(e,t,i){var n=this.props,a=n.essence,o=n.getUrlPrefix;var l=i.dataTransfer;l.effectAllowed="all";if(o){var s=o()+a.getURL();l.setData("text/url-list",s);l.setData("text/plain",s)}g.DragManager.setDragDimension(e,"filter-tile");r.DOMUtils.setDragGhost(l,e.title);this.closeMenu();this.closeOverflowMenu()};t.prototype.calculateDragPosition=function(e){var t=this.props.essence;var i=t.filter.length();var n=this.itemsDOM.getBoundingClientRect();var a=r.EventUtils.getXFromEvent(e)-n.left;return c.DragPosition.calculateFromOffset(a,i,f.CORE_ITEM_WIDTH,f.CORE_ITEM_GAP)};t.prototype.canDrop=function(e){return Boolean(g.DragManager.getDragDimension())};t.prototype.dragEnter=function(e){if(!this.canDrop(e))return;e.preventDefault();var t=this.calculateDragPosition(e);if(t.equals(this.state.dragPosition))return;this.setState({dragPosition:t})};t.prototype.dragOver=function(e){if(!this.canDrop(e))return;e.dataTransfer.dropEffect="move";e.preventDefault();var t=this.calculateDragPosition(e);if(t.equals(this.state.dragPosition))return;this.setState({dragPosition:t})};t.prototype.dragLeave=function(e){this.setState({dragPosition:null})};t.prototype.drop=function(e){var t=this;if(!this.canDrop(e))return;e.preventDefault();var i=this.props,n=i.clicker,r=i.essence;var a=r.filter,o=r.dataCube;var l={dragPosition:null};var s=g.DragManager.getDragDimension();if(s){var u=this.calculateDragPosition(e);var d=false;if(u.replace!==null){var c=a.clauses[u.replace];d=c&&o.isMandatoryFilter(c.dimension)}var p=a.clauseForDimension(s.name);if(p){var f=void 0;if(u.isReplace()){f=a.replaceByIndex(u.replace,p)}else{f=a.insertByIndex(u.insert,p)}var m=a.equals(f);if(!m){n.changeFilter(f)}if(g.DragManager.getDragOrigin()!=="filter-tile"){if(m){this.filterMenuRequest(s)}else{setTimeout(function(){t.filterMenuRequest(s)},w+50)}}}else{if(u&&!d){this.addDummy(s,u)}}}this.setState(l)};t.prototype.addDummy=function(e,t){var i=this;this.dummyDeferred=s.defer();this.setState({possibleDimension:e,possiblePosition:t});this.dummyDeferred.promise.then(function(){i.openMenuOnDimension(e)})};t.prototype.filterMenuRequest=function(e){var t=this.props.essence.filter;if(t.filteredOn(e.name)){this.openMenuOnDimension(e)}else{this.addDummy(e,new c.DragPosition({insert:t.length()}))}};t.prototype.overflowButtonClick=function(){this.openOverflowMenu(this.overflowDOM)};t.prototype.renderMenu=function(e){var t=this.props,i=t.essence,n=t.timekeeper,r=t.clicker;var a=this.state,o=a.menuOpenOn,l=a.menuDimension,s=a.menuInside,d=a.possiblePosition;if(!l)return null;if(d&&d.replace===e){d=new c.DragPosition({insert:d.replace})}return u.createElement(x.FilterMenu,{clicker:r,essence:i,timekeeper:n,openOn:o,dimension:l,changePosition:d,onClose:this.closeMenu.bind(this),inside:s})};t.prototype.renderOverflowMenu=function(e){var t=this;var i=this.state.overflowMenuOpenOn;if(!i)return null;var n=29+f.CORE_ITEM_GAP;var a=f.CORE_ITEM_GAP;var o=e.map(function(e){var i=m.transformStyle(0,a);a+=n;return t.renderItemBlank(e,i)});return u.createElement(b.BubbleMenu,{className:"overflow-menu",id:this.overflowMenuId,direction:"down",stage:r.Stage.fromSize(208,a),fixedSize:true,openOn:i,onClose:this.closeOverflowMenu.bind(this)},o)};t.prototype.renderOverflow=function(e,t){var i=this;var n=m.transformStyle(t,0);return u.createElement("div",{className:l("overflow",{"all-continuous":e.every(function(e){return e.dimension.isContinuous()})}),ref:function(e){return i.overflowDOM=e},key:"overflow",style:n,onClick:this.overflowButtonClick.bind(this)},u.createElement("div",{className:"count"},"+"+e.length),this.renderOverflowMenu(e))};t.prototype.renderRemoveButton=function(e){var t=this.props.essence;var i=t.dataCube;if(i.isMandatoryFilter(e.dimension.name))return null;return u.createElement("div",{className:"remove",onClick:this.removeFilter.bind(this,e)},u.createElement(a.SvgIcon,{svg:o.X}))};t.prototype.renderItemLabel=function(e,t,i){var n=h.getFormattedClause(e,t,i),r=n.title,a=n.values;return u.createElement("div",{className:"reading"},r?u.createElement("span",{className:"dimension-title"},r):null,u.createElement("span",{className:"values"},a))};t.prototype.renderItemBlank=function(e,t){var i=this.props,n=i.essence,r=i.timekeeper,a=i.clicker;var o=this.state.menuDimension;var l=e.dimension,s=e.clause,d=e.source;var c=l.name;var p=[S,"type-"+l.kind,d,s&&s.getExclude()?"excluded":"included",l===o?"selected":undefined].filter(Boolean).join(" ");var f=n.timezone;if(d==="from-highlight"){return u.createElement("div",{className:p,key:c,ref:c,onClick:a.acceptHighlight.bind(a),style:t},this.renderItemLabel(l,s,f),this.renderRemoveButton(e))}if(s){return u.createElement("div",{className:p,key:c,ref:c,draggable:true,onClick:this.clickDimension.bind(this,l),onDragStart:this.dragStart.bind(this,l,s),style:t},this.renderItemLabel(l,s,f),this.renderRemoveButton(e))}else{return u.createElement("div",{className:p,key:c,ref:c,style:t},u.createElement("div",{className:"reading"},E(l)),this.renderRemoveButton(e))}};t.prototype.getItemBlankCount=function(){var e=this.props,t=e.essence,i=e.timekeeper;var n=this.state.possiblePosition;return t.getEffectiveFilter(i).clauses.length+Number(Boolean(n))};t.prototype.getItemBlanks=function(e){var t=this.props.essence;var i=this.state,n=i.possibleDimension,r=i.possiblePosition;var a=t.filter,o=t.highlight;var l=a.clauses.map(function(e){var i=t.getDimension(e.dimension);if(!i)return null;return{dimension:i,source:"from-filter",clause:e}}).filter(Boolean);if(o){o.delta.clauses.forEach(function(e){var i=false;l=l.map(function(t){if(e.dimension===t.clause.dimension){i=true;return{dimension:t.dimension,source:"from-highlight",clause:e}}else{return t}});if(!i){var n=t.getDimension(e.dimension);if(n){l.push({dimension:n,source:"from-highlight",clause:e})}}})}if(n&&r){var s={dimension:n,source:"from-drag"};if(r.replace===e){r=new c.DragPosition({insert:r.replace})}if(r.isInsert()){l.splice(r.insert,0,s)}else{l[r.replace]=s}}return l};t.prototype.render=function(){var e=this;var t=this.state,i=t.dragPosition,n=t.itemStage;var r=n?v.getMaxItems(n.width,this.getItemBlankCount()):20;var o=this.getItemBlanks(r);var l=0;var s=o.slice(0,r).map(function(t){var i=m.transformStyle(l,0);l+=v.SECTION_WIDTH;return e.renderItemBlank(t,i)});var d=o.slice(r);if(d.length>0){var c=s.length*v.SECTION_WIDTH;s.push(this.renderOverflow(d,c))}return u.createElement("div",{className:"filter-tile",onDragEnter:this.dragEnter.bind(this)},u.createElement(a.GlobalEventListener,{resize:this.calculateSize.bind(this)}),u.createElement("div",{className:"title"},p.STRINGS.filter),u.createElement("div",{className:"items",ref:function(t){return e.itemsDOM=t}},s),i?u.createElement(y.FancyDragIndicator,{dragPosition:i}):null,i?u.createElement("div",{className:"drag-mask",onDragOver:this.dragOver.bind(this),onDragLeave:this.dragLeave.bind(this),onDragExit:this.dragLeave.bind(this),onDrop:this.drop.bind(this)}):null,this.renderMenu(r))};return t}(u.Component);t.FilterTile=C},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(9);var l=i(1);var s=i(150);var u=i(151);i(431);var d=-10;var c=8;var p=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.getTinyIndicator=function(e){var t=e.left,i=e.top,n=e.direction,r=e.label,s=e.onClick;return l.createElement(a.BodyPortal,{left:t,top:i+d},l.createElement("div",{className:o("segment-bubble tiny",n),onClick:s},l.createElement("div",{className:"text"},r),l.createElement(u.Shpitz,{direction:n})))};t.prototype.onSelect=function(){var e=this.props,t=e.onClose,i=e.clicker;i.acceptHighlight();if(t)t()};t.prototype.onCancel=function(){var e=this.props,t=e.onClose,i=e.clicker;if(i)i.dropHighlight();if(t)t()};t.prototype.onMouseLeave=function(){if(this.props.onMouseLeave)this.props.onMouseLeave()};t.prototype.render=function(){var e=this.props,t=e.left,i=e.top,n=e.dimensions,o=e.segmentLabel,p=e.measureLabel,f=e.clicker,m=e.openRawDataModal,g=e.onClose,h=e.onMouseLeave,v=e.disableExclusion;var b;if(o){var y=r.NumberUtils.clamp(o.length*c,80,300);b=l.createElement("div",{className:"text",style:{minWidth:y}},l.createElement("div",{className:"segment"},o),p?l.createElement("div",{className:"measure-value"},p):null)}var x=null;if(f){x=l.createElement(s.SegmentActionButtons,{clicker:f,dimensions:n,segmentLabel:o,openRawDataModal:m,onClose:g,disableExclusion:v})}var S=!!f||!!h;return l.createElement(a.BodyPortal,{left:t,top:i+d,disablePointerEvents:!S},l.createElement("div",{className:"segment-bubble",ref:"bubble",onMouseLeave:this.onMouseLeave.bind(this)},l.createElement(a.GlobalEventListener,{escape:this.onCancel.bind(this),enter:this.onSelect.bind(this)}),b,x,l.createElement(u.Shpitz,{direction:"up"})))};return t}(l.Component);p.defaultProps={left:0,top:0};t.SegmentBubble=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(317);function r(e){switch(e){case"csv":return"text/csv";case"tsv":return"text/tsv";default:return"application/json"}}t.getMIMEType=r;function a(e,t,i){var a=r(i)+";charset=utf-8";var l=new Blob([o(e,i)],{type:a});if(!t)t=new Date+"-data";t+="."+i;n.saveAs(l,t,true)}t.download=a;function o(e,t){if(t==="csv"){return e.toCSV({columnOrdering:"keys-first"})}else if(t==="tsv"){return e.toTSV({columnOrdering:"keys-first"})}else{return JSON.stringify(e.toJS(),null,2)}}t.datasetToFileString=o;function l(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var i=[];e.forEach(function(e){if(e)i.push(e.toLowerCase())});var n=i.join("_");return n.length<200?n:n.substr(0,200)}t.makeFileName=l},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(1);var a=i(48);i(397);var o=5;var l=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.stage,i=e.ticks,n=e.scale;var l=t.width;var s=[];function u(e,t){if(l<e)return;s.push(r.createElement("line",{key:t,x1:e,y1:0,x2:e,y2:o}))}for(var d=0,c=i;d<c.length;d++){var p=c[d];var f=a.roundToHalfInteger(n(String(p)));u(f,"_"+p)}if(i.length){var f=a.roundToHalfInteger(n(String(i[i.length-1]))+n.bandwidth());u(f,"last")}return r.createElement("g",{className:"bucket-marks",transform:t.getTransform()},s)};return t}(r.Component);t.BucketMarks=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(448);var a=i(2);var o=i(6);var l=i(1);i(398);var s=r.line();var u=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.stage,i=e.dataset,n=e.getY,u=e.getX,d=e.scaleX,c=e.scaleY,p=e.color,f=e.showArea,m=e.hoverRange;if(!i||!p)return null;var g=[];var h=null;var v=i.data;for(var b=0;b<v.length;b++){var y=v[b];var x=u(y);if(!x||!o.Range.isRange(x))return null;var S=x.midpoint();var w=n(y);var E=v[b-1];if(E){var C=u(E);if(C.end.valueOf()<x.start.valueOf()){g.push([d(S.valueOf()-(x.end.valueOf()-x.start.valueOf())),c(0)])}}var T=c(w);var M=[d(S),isNaN(T)?0:T];g.push(M);if(m&&a.immutableEqual(m,x)){h=M}var N=v[b+1];if(N){var k=u(N);if(x.end.valueOf()<k.start.valueOf()){g.push([d(S.valueOf()+(x.end.valueOf()-x.start.valueOf())),c(0)])}}}var D=null;var I=null;if(p!=="default"){D={stroke:p};I={fill:p}}var A=null;var O=null;var _=null;if(g.length>1){if(f){var R=r.area().y0(c(0));A=l.createElement("path",{className:"area",d:R(g)})}O=l.createElement("path",{className:"line",d:s(g),style:D})}else if(g.length===1){_=l.createElement("circle",{className:"singleton",cx:g[0][0],cy:g[0][1],r:"2",style:I})}var L=null;if(h){L=l.createElement("circle",{className:"hover",cx:h[0],cy:h[1],r:"2.5",style:D})}return l.createElement("g",{className:"chart-line",transform:t.getTransform()},A,O,_,L)};return t}(l.Component);t.ChartLine=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(69);var o=i(9);var l=i(1);i(399);var s=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={};return t}t.prototype.onClusterSourceChange=function(e){var t=this.props,i=t.onChange,n=t.dataCube;var r=n.change("clusterName",e.clusterName).change("source",e.source);i(r)};t.prototype.initFromProps=function(e){var t=e.dataCube;if(t){this.setState({fileMode:t.clusterName==="native"});this.originalSource=this.originalSource||t.source;this.originalClusterName=this.originalClusterName||t.clusterName}};t.prototype.componentWillMount=function(){this.initFromProps(this.props)};t.prototype.componentWillReceiveProps=function(e){this.initFromProps(e)};t.prototype.getClusterSource=function(){var e=this.props,t=e.dataCube,i=e.clusterSources;if(!t||!t.clusterName)return null;var n=t.clusterName,r=t.source;return i.find(function(e){return e.clusterName===n&&e.source===r})||{clusterName:n,source:r}};t.prototype.toggleMode=function(){var e=this.state.fileMode;this.onClusterSourceChange({clusterName:e?this.originalClusterName:"native",source:this.originalSource})};t.prototype.onFileChange=function(e,t){this.props.onChange(e,t)};t.prototype.onKeyDown=function(e){if(e.metaKey&&e.shiftKey&&e.keyCode===70){this.toggleMode();e.preventDefault()}};t.prototype.render=function(){var e=this.props,t=e.clusterSources,i=e.dataCube,n=e.className;var s=this.state.fileMode;if(!t||!i)return null;var u=r.Dropdown.specialize();var d=function(e){return!!e};return l.createElement("div",{className:o("cluster-source-picker",n)},l.createElement(r.GlobalEventListener,{keyDown:this.onKeyDown.bind(this)}),s?l.createElement(a.ImmutableTextInput,{instance:i,path:"source",className:"source actionable",onChange:this.onFileChange.bind(this),validator:d}):l.createElement(u,{items:t,selectedItem:this.getClusterSource(),equal:function(e,t){return e&&t&&e.clusterName===t.clusterName&&e.source===t.source},renderItem:function(e){return e?(e.clusterTitle||e.clusterName)+": "+e.source:""},keyItem:function(e){return e?e.clusterName+"_"+e.source:""},onSelect:this.onClusterSourceChange.bind(this)}))};return t}(l.Component);t.ClusterSourcePicker=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(1);var o=i(150);i(400);var l=22;var s=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.renderColorSwabs=function(){var e=this.props.colorEntries;if(!e||!e.length)return null;var t=e.map(function(e){var t=e.color,i=e.segmentLabel,n=e.measureLabel;var r={background:t};return a.createElement("div",{className:"color",key:i},a.createElement("div",{className:"color-swab",style:r}),a.createElement("div",{className:"color-name"},i),a.createElement("div",{className:"color-value"},n))});return a.createElement("div",{className:"colors"},t)};t.prototype.render=function(){var e=this.props,t=e.left,i=e.top,n=e.dimensions,s=e.segmentLabel,u=e.clicker,d=e.onClose;return a.createElement(r.BodyPortal,{left:t+l,top:i,disablePointerEvents:!u},a.createElement("div",{className:"color-segment-bubble"},a.createElement("div",{className:"bucket"},s),this.renderColorSwabs(),u?a.createElement(o.SegmentActionButtons,{clicker:u,dimensions:n,segmentLabel:s,disableMoreMenu:true,onClose:d}):null))};return t}(a.Component);t.ColorSegmentBubble=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(1);var s=i(203);i(403);var u=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={isOpen:false};return t}t.prototype.onOpen=function(e){var t=this.state.isOpen;e.stopPropagation();this.setState({isOpen:!t})};t.prototype.renderMenu=function(){var e=this;var t=this.props.description;var i=this.state.isOpen;if(!i)return null;var n=function(){e.setState({isOpen:false})};return l.createElement(s.BubbleMenu,{className:"description-menu",direction:"down",stage:r.Stage.fromSize(200,200),openOn:i?this.containerDOM:null,onClose:n},l.createElement("p",{className:"info"},t))};t.prototype.render=function(){var e=this;var t=this.props.description;if(!t)return null;var i=this.state.isOpen;return l.createElement("div",{className:"description",ref:function(t){
return e.containerDOM=t},onClick:this.onOpen.bind(this)},l.createElement(a.SvgIcon,{className:i?"open":"closed",svg:o.HELP_2}),this.renderMenu())};return t}(l.Component);t.Description=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(9);var s=i(1);var u=i(10);var d=i(15);var c=i(47);var p=i(343);var f=i(48);var m=i(91);var g=i(206);var h=i(76);var v=i(125);i(405);var b="dimension";var y=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={menuOpenOn:null,menuDimension:null,highlightDimension:null,showSearch:false,searchText:"",openGroups:{}};return t}t.prototype.clickDimension=function(e,t){var i=this.state.menuOpenOn;var n=f.findParentWithClass(t.target,b);if(i===n){this.closeMenu();return}this.setState({menuOpenOn:n,menuDimension:e})};t.prototype.closeMenu=function(){var e=this.state.menuOpenOn;if(!e)return;this.setState({menuOpenOn:null,menuDimension:null})};t.prototype.dragStart=function(e,t){var i=this.props,n=i.essence,a=i.getUrlPrefix;var o=n.filter;var l=t.dataTransfer;l.effectAllowed="all";if(a){var s=u.SplitCombine.fromDimensionAndFilterAndMeasure(e,o,n.getSortMeasure());var d=a()+n.addSplit(s).getURL();l.setData("text/url-list",d);l.setData("text/plain",d)}m.DragManager.setDragDimension(e,"dimension-list-tile");r.DOMUtils.setDragGhost(l,e.title);this.closeMenu()};t.prototype.onMouseOver=function(e){var t=this.state.highlightDimension;if(t===e)return;this.setState({highlightDimension:e})};t.prototype.onMouseLeave=function(e){var t=this.state.highlightDimension;if(t!==e)return;this.setState({highlightDimension:null})};t.prototype.toggleSearch=function(){var e=this.state.showSearch;this.setState({showSearch:!e});this.onSearchChange("")};t.prototype.onSearchChange=function(e){var t=this.state.searchText;var i=e.substr(0,c.MAX_SEARCH_LENGTH);if(t===i)return;this.setState({searchText:i})};t.prototype.renderMenu=function(){var e=this.props,t=e.essence,i=e.clicker,n=e.triggerFilterMenu,r=e.triggerSplitMenu,a=e.timekeeper;var o=this.state,l=o.menuOpenOn,u=o.menuDimension;if(!u)return null;var d=this.closeMenu.bind(this);return s.createElement(g.DimensionActionsMenu,{clicker:i,essence:t,direction:"right",openOn:l,dimension:u,triggerFilterMenu:n,triggerSplitMenu:r,onClose:d,timekeeper:a})};t.prototype.closeDynDimensionModal=function(){this.setState({dynDimensionModalType:null})};t.prototype.openDynDimensionModal=function(e){this.setState({dynDimensionModalType:e})};t.prototype.renderDynDimensionModal=function(){var e=this.props,t=e.essence,i=e.clicker,n=e.timekeeper;var r=this.state.dynDimensionModalType;if(!r)return null;return s.createElement(p.DynamicDimensionModal,{essence:t,clicker:i,timekeeper:n,type:r,onClose:this.closeDynDimensionModal.bind(this)})};t.prototype.renderDimension=function(e){var t=this.state,i=t.menuDimension,n=t.highlightDimension,r=t.searchText;var o=l(b,"type-"+e.kind,{highlight:e===n,selected:e===i});return s.createElement("div",{className:o,key:e.name,onClick:this.clickDimension.bind(this,e),onMouseOver:this.onMouseOver.bind(this,e),onMouseLeave:this.onMouseLeave.bind(this,e),draggable:true,onDragStart:this.dragStart.bind(this,e)},s.createElement("div",{className:"icon"},s.createElement(a.SvgIcon,{svg:e.getIcon()})),s.createElement("div",{className:"item-title"},s.createElement(h.HighlightString,{className:"label",text:e.title,highlight:r})))};t.prototype.renderDimensionGroup=function(e,t){var i=this;var n=this.state.openGroups;var r=e[0].group;var u=n[r]||t;var d=function(e){n[r]=!u;i.setState({openGroups:n})};return s.createElement("div",{key:r,className:l("dimension-group",{open:u,closed:!u})},s.createElement("div",{className:"group-header",onClick:d},s.createElement("div",{className:"icon group-icon"},s.createElement(a.SvgIcon,{svg:o.FULL_CARET_BOTTOM})),s.createElement("div",{className:"item-title group-title"},s.createElement("div",{className:"label"},r))),s.createElement("div",{className:"group-items"},e.map(this.renderDimension,this)))};t.prototype.getGroupedDimensions=function(e){var t=[];var i;e.forEach(function(e){if(e.group){if(e.group===i){t[t.length-1].push(e)}else{i=e.group;t.push([e])}}else{t.push(e)}});return t};t.prototype.getActions=function(){var e=this.props.essence;if(true)return[];var t=[{label:"New boolean dimension",onClick:this.openDynDimensionModal.bind(this,"make-boolean")},{label:"New case dimension",onClick:this.openDynDimensionModal.bind(this,"make-case")}];if(e.getCustomDimensions().some(function(e){return e.expression.op==="fallback"})){t.push({label:"Add to case dimension",onClick:this.openDynDimensionModal.bind(this,"add-case")})}return t};t.prototype.renderDimensions=function(){var e=this;var t=this.props.essence;var i=this.state.searchText;var n=t.getDimensions();if(i){n=n.filter(function(e){return e.title.toLowerCase().indexOf(i.toLowerCase())!==-1})}var r=this.getGroupedDimensions(n);var a=Boolean(i);return r.map(function(t){if(Array.isArray(t))return e.renderDimensionGroup(t,a);return e.renderDimension(t)})};t.prototype.render=function(){var e=this.props,t=e.essence,i=e.style;var n=this.state,r=n.showSearch,a=n.searchText;var l=this.renderDimensions();var u=null;if(a&&!l.length){u=s.createElement("div",{className:"message"},"No "+d.STRINGS.dimensions.toLowerCase()+' for "'+a+'"')}var c=[{name:"search",ref:"search",onClick:this.toggleSearch.bind(this),svg:o.FULL_SEARCH,active:r}];return s.createElement(v.SearchableTile,{style:i,title:d.STRINGS.dimensions,toggleChangeFn:this.toggleSearch.bind(this),onSearchChange:this.onSearchChange.bind(this),searchText:a,showSearch:r,icons:c,actions:this.getActions(),className:"dimension-list-tile"},s.createElement("div",{className:"items",ref:"items"},l,u),this.renderMenu(),this.renderDynDimensionModal())};return t}(s.Component);t.DimensionListTile=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(1);i(407);var l=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){return o.createElement("div",{className:"drop-indicator"},o.createElement("div",{className:"white-out"}),o.createElement("div",{className:"action"},o.createElement(r.SvgIcon,{svg:a.SPLIT_REPLACE})))};return t}(o.Component);t.DropIndicator=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(69);var o=i(1);var l=i(10);var s=i(78);i(412);var u=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={newInstance:new l.MeasureFormula};t.delegate=new a.ImmutableFormDelegate(t);t.delegate.onAnyChange(t.onChange.bind(t));return t}t.prototype.onChange=function(e,t,i,n){if(t===void 0){t=true}if(i===void 0){i="formula"}if(n===void 0){n=null}var r=t?this.props.measure.changeFormula(e.toFormula()):this.props.measure;if(this.props.onChange)this.props.onChange(r,t,i,n)};t.prototype.componentWillMount=function(){this.initFromProps(this.props)};t.prototype.initFromProps=function(e){var t=e.measure,i=e.columns;if(!t||!i)return;var n=l.MeasureFormula.fromFormula(t.formula);this.setState({isNotSimpleFormula:!n,newInstance:n?n.changePossibleColumns(i.map(function(e){return e.name})):null})};t.prototype.componentWillReceiveProps=function(e){this.initFromProps(e)};t.prototype.renderFilter=function(e){var t=this.state,i=t.newInstance,n=t.errors;if(!i.filter)return null;var u=a.ImmutableTextInput.simpleGenerator(i,this.delegate.onChange,s.SIMPLE_MEASURE_FORMULA,n);var d=a.ImmutableDropdown.simpleGenerator(i,this.delegate.onChange,s.SIMPLE_MEASURE_FORMULA,n);return o.createElement("div",{className:"grid-row"},o.createElement("div",{className:"grid-col-33 h-padded"},r.FormLabel.dumbLabel(s.SIMPLE_MEASURE_FORMULA["filter.column"].label),d("filter.column",e)),o.createElement("div",{className:"grid-col-33 h-padded"},r.FormLabel.dumbLabel(s.SIMPLE_MEASURE_FORMULA["filter.operator"].label),d("filter.operator",l.MeasureFilter.OPERATORS)),o.createElement("div",{className:"grid-col-33 h-padded"},r.FormLabel.dumbLabel(s.SIMPLE_MEASURE_FORMULA["filter.value"].label),u("filter.value",/[a-zA-Z]*/)))};t.prototype.getFirstNonTimeColumn=function(){var e=this.props.columns;if(!e)return null;return e.filter(function(e){return e.type!=="TIME"})[0]};t.prototype.toggleFilter=function(){var e=this;var t=this.state.newInstance;this.setState({newInstance:t.filter?t.removeFilter():t.createDefaultFilter(this.getFirstNonTimeColumn().name)},function(){e.onChange(e.state.newInstance)})};t.prototype.convertToSimpleFormula=function(){var e=this;this.setState({isNotSimpleFormula:false,newInstance:l.MeasureFormula.fromJS({column:this.getFirstNonTimeColumn().name,aggregation:l.MeasureFormula.DEFAULT_AGGREGATION})},function(){e.onChange(e.state.newInstance,true,"formula",undefined)})};t.prototype.renderPlaceholder=function(){var e=this.props.goToAdvanced;return o.createElement("div",{className:"formula-input placeholder"},o.createElement("div",{className:"title"},"This measure's formula can only be displayed in advanced mode"),o.createElement("div",{className:"actions"},o.createElement("div",{className:"action"},o.createElement("span",{onClick:e},"Switch to advanced mode")),o.createElement("div",{className:"action"},o.createElement("span",{onClick:this.convertToSimpleFormula.bind(this)},"Convert to a simple formula"))))};t.prototype.render=function(){var e=this.props,t=e.columns,i=e.measure,n=e.focusOnStartup;var u=this.state,d=u.newInstance,c=u.errors,p=u.isNotSimpleFormula;if(p)return this.renderPlaceholder();var f=(t||[]).map(l.listItemize("name","name"));var m=r.FormLabel.simpleGenerator(s.SIMPLE_MEASURE_FORMULA,c);var g=a.ImmutableDropdown.simpleGenerator(d,this.delegate.onChange,s.SIMPLE_MEASURE_FORMULA,c);return o.createElement("div",{className:"formula-input"},o.createElement("div",{className:"grid-row"},o.createElement("div",{className:"grid-col-50 h-padded"},m("aggregation"),g("aggregation",l.MeasureFormula.AGGREGATIONS,n)),o.createElement("div",{className:"grid-col-50 h-padded"},m("column","column",o.createElement(r.InfoSpot,{bubbly:true,sourceIds:["aggregation","column"]})),o.cloneElement(g("column",f),{disabled:!d.canHaveColumn()}))),o.createElement("div",{className:"grid-row"},o.createElement("div",{className:"grid-col-100"},o.createElement(r.Checkbox,{onClick:this.toggleFilter.bind(this),selected:!!d.filter,type:"check",label:"Filter"}))),this.renderFilter(f))};return t}(o.Component);t.FormulaInput=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(9);var a=i(1);var o=i(48);i(413);var l=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.orientation,i=e.stage,n=e.ticks,l=e.scale;var s=n.map(function(e){var n={key:String(e)};if(t==="horizontal"){var r=o.roundToHalfInteger(l(e));n.x1=0;n.x2=i.width;n.y1=r;n.y2=r}else{var s=o.roundToHalfInteger(l(e));n.x1=s;n.x2=s;n.y1=0;n.y2=i.height}return a.createElement("line",n)});return a.createElement("g",{className:r("grid-lines",t),transform:i.getTransform()},s)};return t}(a.Component);t.GridLines=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(1);var o=i(15);var l=i(315);var s=i(34);i(415);var u=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={url:null,specificUrl:null};return t}t.prototype.componentDidMount=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.getUrlPrefix;var r=n();var a=r+t.getURL();var o=t.filter.isDynamic()?r+t.convertToSpecificFilter(i).getURL():null;this.setState({url:a,specificUrl:o})};t.prototype.openRawDataModal=function(){var e=this.props,t=e.openRawDataModal,i=e.onClose;t();i()};t.prototype.onExport=function(){var e=this.props,t=e.onClose,i=e.getDownloadableDataset,n=e.essence,r=e.timekeeper;var a=n.dataCube,s=n.splits;if(!i)return;var u=a.getSpecialTimeDimension();var d=n.getEffectiveFilter(r).getFileString(u?u.name:null);var c=s.toArray().map(function(e){return o.STRINGS.splitDelimiter+"_"+e.dimension}).join("_");l.download(i(),l.makeFileName(a.name,d,c),"csv");t()};t.prototype.render=function(){var e=this.props,t=e.openOn,i=e.onClose,n=e.externalViews,l=e.essence,u=e.getDownloadableDataset;var d=this.state,c=d.url,p=d.specificUrl;var f=[];f.push(a.createElement("li",{className:"copy-url clipboard",key:"copy-url","data-clipboard-text":c,onClick:i},o.STRINGS.copyUrl));if(p){f.push(a.createElement("li",{className:"copy-specific-url clipboard",key:"copy-specific-url","data-clipboard-text":p,onClick:i},o.STRINGS.copySpecificUrl))}if(u()){f.push(a.createElement("li",{className:"export",key:"export",onClick:this.onExport.bind(this)},o.STRINGS.exportToCSV))}f.push(a.createElement("li",{className:"view-raw-data",key:"view-raw-data",onClick:this.openRawDataModal.bind(this)},o.STRINGS.viewRawData));if(n){n.forEach(function(e,t){var i=e.linkGeneratorFn(l.dataCube,l.timezone,l.filter,l.splits);if(typeof i!=="string")return;var n=o.STRINGS.openIn+" "+e.title;var r=e.sameWindow?"_self":"_blank";f.push(a.createElement("li",{key:"custom-url-"+t},a.createElement("a",{href:i,target:r},n)))})}var m=r.Stage.fromSize(200,200);return a.createElement(s.BubbleMenu,{className:"hiluk-menu",direction:"down",stage:m,openOn:t,onClose:i},a.createElement("ul",{className:"bubble-list"},f))};return t}(a.Component);t.HilukMenu=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(1);var a=i(75);var o=i(48);i(416);var l=5;var s=12;var u=l+s;var d=14;var c=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.renderBoundaryTick=function(e,t){var i=t.value,n=t.boundary;return r.createElement("text",{x:e,y:u,key:i+n},r.createElement("tspan",{x:e,y:u},i),r.createElement("tspan",{x:e,y:u+d},n))};t.prototype.render=function(){var e=this;var t=this.props,i=t.stage,n=t.ticks,s=t.scale,d=t.tickFormatter;var c=n.map(function(e){var t=o.roundToHalfInteger(s(e));return r.createElement("line",{key:String(e),x1:t,y1:0,x2:t,y2:l})});var p=n.map(function(t){var i=s(t);var n=d(t);if(a.isBoundaryTick(n)){return e.renderBoundaryTick(i,n)}return r.createElement("text",{key:String(t),x:i,y:u},n)});return r.createElement("g",{className:"line-chart-axis",transform:i.getTransform()},c,p)};return t}(r.Component);t.LineChartAxis=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(1);i(417);var l=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){return o.createElement("div",{className:"line-loader"},o.createElement(r.SvgIcon,{svg:a.LINE_LOADER}))};return t}(o.Component);t.LineLoader=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(2);var a=i(1);var o=i(10);var l=i(15);i(418);var s=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.onSplitResolutionClick=function(e){var t=this.props.clicker;t.changeSplits(e.adjustment.splits,o.VisStrategy.KeepAlways)};t.prototype.onVisualizationClick=function(e){var t=this.props.clicker;var i=r.NamedArray.findByName(o.MANIFESTS,e);if(!i)return;t.summonVisualization(i)};t.prototype.render=function(){var e=this;var t=this.props.essence;var i=t.visResolve;if(!i.rejectedDimensions()&&!i.rejectedCombines())return null;var n=null;var s=null;if(i.rejectedDimensions()){var u=t.splits;n=this.onSplitResolutionClick;s=function(e){var t=l.STRINGS.try+" "+e.description;if(!u.isSubsetOf(e.adjustment.splits)){t+=" "+l.STRINGS.instead}return t}}else{n=this.onVisualizationClick;s=function(e){var t=r.NamedArray.findByName(o.MANIFESTS,e);return t?l.STRINGS.try+" the "+t.title+" "+l.STRINGS.instead:"?"}}var d=i.resolutions.map(function(t,i){return a.createElement("li",{key:i,onClick:n.bind(e,t)},s(t))});return a.createElement("div",{className:"manual-fallback"},a.createElement("div",{className:"message"},i.message),a.createElement("ul",null,d))};return t}(a.Component);t.ManualFallback=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(9);var l=i(2);var s=i(1);var u=i(15);var d=i(47);var c=i(76);var p=i(125);i(419);var f=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={showSearch:false,searchText:"",openGroups:{}};return t}t.prototype.measureClick=function(e){var t=this.props.clicker;t.toggleEffectiveMeasure(e)};t.prototype.toggleSearch=function(){var e=this.state.showSearch;this.setState({showSearch:!e});this.onSearchChange("")};t.prototype.onSearchChange=function(e){var t=this.state.searchText;var i=e.substr(0,d.MAX_SEARCH_LENGTH);if(t===i)return;this.setState({searchText:i})};t.prototype.toggleMultiMeasure=function(){var e=this.props.clicker;if(!e.toggleMultiMeasureMode)return;e.toggleMultiMeasureMode()};t.prototype.getGroupedMeasures=function(e){var t=[];var i;e.forEach(function(e){if(e.group){if(e.group===i){t[t.length-1].push(e)}else{i=e.group;t.push([e])}}else{t.push(e)}});return t};t.prototype.renderMeasure=function(e,t){var i=this.props.essence;var n=this.state,a=n.showSearch,u=n.searchText;var d=i.getEffectiveSelectedMeasure();var p=e.name;var f=l.SimpleArray.contains(d,p);return s.createElement("div",{className:o("measure",{selected:f}),key:p,onClick:this.measureClick.bind(this,e)},s.createElement(r.Checkbox,{type:t,selected:f}),s.createElement(c.HighlightString,{className:"label",text:e.getTitleWithUnits(),highlight:u}))};t.prototype.renderMeasureGroup=function(e,t){var i=this;var n=this.state.openGroups;var l=e[0].group;var u=n[l];var d=function(e){n[l]=!u;i.setState({openGroups:n})};return s.createElement("div",{key:l,className:o("measure-group",{open:u,closed:!u})},s.createElement("div",{className:"grid-row",onClick:d},s.createElement("div",{className:"icon group-icon grid-col-fit-content middle"},s.createElement("div",{className:"pouet"},s.createElement(r.SvgIcon,{svg:a.FULL_CARET_BOTTOM}))),s.createElement("div",{className:"item-title group-title grid-col-auto-expand middle"},s.createElement("div",{className:"label"},l))),s.createElement("div",{className:"group-items"},e.map(function(e){return i.renderMeasure(e,t)})))};t.prototype.renderMeasures=function(){var e=this;var t=this.props.essence;var i=this.state,n=i.showSearch,r=i.searchText;var a=t.dataCube;var o=t.getMeasureMode()==="multi"?"check":"radio";var l=a.getMeasures();if(r){l=l.filter(function(e){return e.getTitleWithUnits().toLowerCase().indexOf(r.toLowerCase())!==-1})}var s=this.getGroupedMeasures(l);return s.map(function(t){if(Array.isArray(t))return e.renderMeasureGroup(t,o);return e.renderMeasure(t,o)})};t.prototype.render=function(){var e=this;var t=this.props,i=t.essence,n=t.style;var r=this.state,o=r.showSearch,l=r.searchText;var d=i.getMeasureMode();var c=this.renderMeasures();var f=null;if(l&&!c.length){f=s.createElement("div",{className:"message"},"No "+u.STRINGS.measures.toLowerCase()+' for "'+l+'"')}var m=[{name:"multi",onClick:function(){return e.toggleMultiMeasure()},svg:a.FULL_MULTI,active:d==="multi"}];m.push({name:"search",ref:"search",onClick:this.toggleSearch.bind(this),svg:a.FULL_SEARCH,active:o});return s.createElement(p.SearchableTile,{style:n,title:u.STRINGS.measures,toggleChangeFn:this.toggleSearch.bind(this),onSearchChange:this.onSearchChange.bind(this),searchText:l,showSearch:o,icons:m,className:"measures-tile"},s.createElement("div",{className:"rows"},c,f))};return t}(s.Component);t.MeasuresTile=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(9);var o=i(1);i(420);var l=function(e){n.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.renderIcon=function(e){if(!e)return null;return o.createElement("span",{className:"icon"},o.createElement(r.SvgIcon,{svg:e}))};t.prototype.renderA=function(e,t){var i=this.props,n=i.onClose,r=i.iconSvg;return o.createElement("a",{className:a("item",{selected:e}),key:t.name,title:t.tooltip,href:t.href,target:t.newTab?"_blank":null,onClick:e?n:t.onClick},this.renderIcon(r),t.title)};t.prototype.renderDIV=function(e,t){var i=this.props,n=i.onClose,r=i.iconSvg;return o.createElement("div",{className:a("item",{selected:e}),key:t.name,title:t.tooltip,href:t.href,target:t.newTab?"_blank":null,onClick:e?n:t.onClick},this.renderIcon(r),t.title)};t.prototype.renderNavList=function(){var e=this;var t=this.props,i=t.navLinks,n=t.iconSvg,r=t.selected,a=t.onClose;return i.map(function(t){var i=r&&r===t.name;return t.href?e.renderA(i,t):e.renderDIV(i,t)})};t.prototype.render=function(){var e=this.props.title;var t="nav-list";var i=null;if(e){i=o.createElement("div",{className:"group-title"},e)}else{t+=" no-title"}return o.createElement("div",{className:t},i,o.createElement("div",{className:"items"},this.renderNavList()))};return t}(o.Component);t.NavList=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(6);var l=i(1);var s=i(10);var u=i(15);var d=i(91);var c=i(207);var p=i(211);i(425);var f=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={dragOver:false};return t}t.prototype.canDrop=function(e){var t=d.DragManager.getDragDimension();if(t){var i=this.props.essence.pinnedDimensions;return i.indexOf(t.name)===-1}return false};t.prototype.dragEnter=function(e){if(!this.canDrop(e))return;e.preventDefault();this.setState({dragOver:true})};t.prototype.dragOver=function(e){if(!this.canDrop(e))return;e.dataTransfer.dropEffect="move";e.preventDefault()};t.prototype.dragLeave=function(e){if(!this.canDrop(e))return;this.setState({dragOver:false})};t.prototype.drop=function(e){if(!this.canDrop(e))return;e.preventDefault();var t=d.DragManager.getDragDimension();if(t){this.props.clicker.pin(t)}this.setState({dragOver:false})};t.prototype.getColorsSortOn=function(){var e=this.props.essence;var t=e.dataCube;var i=e.getEffectiveColorSplit();if(i){return s.SortOn.fromSortAction(i.sortAction,t,e.getDimension(i.dimension))}return null};t.prototype.onLegendSortOnSelect=function(e){var t=this.props,i=t.clicker,n=t.essence;var r=n.splits;var a=n.getEffectiveColorSplit();if(a){var l=a.sortAction;var u=l?l.direction:o.SortExpression.DESCENDING;var d=a.changeSortAction(o.Expression._.sort(e.getExpression(),u));var c=s.Colors.fromLimit(a.dimension,5);i.changeSplits(r.replace(a,d),s.VisStrategy.UnfairGame,c)}};t.prototype.onPinboardSortOnSelect=function(e){if(!e.measure)return;var t=this.props.clicker;t.changePinnedSortMeasure(e.measure)};t.prototype.onRemoveLegend=function(){var e=this.props,t=e.clicker,i=e.essence;var n=i.splits;var r=i.getEffectiveColors();if(r){var a=n.findSplitForDimension(r.dimension);if(a){t.changeSplits(n.removeSplit(a),s.VisStrategy.UnfairGame,null)}}};t.prototype.render=function(){var e=this.props,t=e.clicker,i=e.essence,n=e.timekeeper,o=e.customColors,d=e.getUrlPrefix,f=e.style;var m=this.state.dragOver;var g=i.pinnedDimensions;var h=i.getEffectiveColors();var v=null;var b=null;var y=h?h.dimension:null;if(y){var x=i.getDimension(y);if(x){var S=this.getColorsSortOn();v=l.createElement(p.PinboardMeasureTile,{essence:i,title:"Legend",dimension:x,sortOn:S,onSelect:this.onLegendSortOnSelect.bind(this)});b=l.createElement(c.DimensionTile,{clicker:t,essence:i,timekeeper:n,dimension:x,sortOn:S,colorSplit:i.getEffectiveColorSplit(),colors:h&&h.isLimitMode()&&o?o:h,onClose:this.onRemoveLegend.bind(this),getUrlPrefix:d})}}var w=s.SortOn.fromMeasure(i.getPinnedSortMeasure());var E=[];g.forEach(function(e){var r=i.getDimension(e);if(!r)return null;E.push(l.createElement(c.DimensionTile,{key:r.name,clicker:t,essence:i,timekeeper:n,dimension:r,sortOn:w,onClose:t.unpin?t.unpin.bind(t,r):null,getUrlPrefix:d}))});var C=null;if(!m&&!E.length){C=l.createElement("div",{className:"placeholder"},l.createElement(r.SvgIcon,{svg:a.PREVIEW_PIN}),l.createElement("div",{className:"placeholder-message"},u.STRINGS.pinboardPlaceholder))}return l.createElement("div",{className:"pinboard-panel",onDragEnter:this.dragEnter.bind(this),style:f},v,b,l.createElement(p.PinboardMeasureTile,{essence:i,title:u.STRINGS.pinboard,sortOn:w,onSelect:this.onPinboardSortOnSelect.bind(this)}),E,m?l.createElement("div",{className:"drop-indicator-tile"}):null,C,m?l.createElement("div",{className:"drag-mask",onDragOver:this.dragOver.bind(this),onDragLeave:this.dragLeave.bind(this),onDragExit:this.dragLeave.bind(this),onDrop:this.drop.bind(this)}):null)};return t}(l.Component);t.PinboardPanel=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(9);var o=i(6);var l=i(1);var s=i(10);var u=i(15);var d=i(77);var c=i(47);var p=i(90);var f=i(76);var m=i(70);var g=i(92);i(426);var h=100;function v(e){try{new RegExp(e);return null}catch(e){return e.message}}var b=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={loading:false,dataset:null,queryError:null,fetchQueued:false,regexErrorMessage:null};t.collectTriggerSearch=d.collect(c.SEARCH_WAIT,function(){if(!t.mounted)return;var e=t.props,i=e.essence,n=e.timekeeper,r=e.dimension,a=e.filterMode,o=e.searchText;var l=t.state.regexErrorMessage;if(l)return;t.fetchData(i,n,r,a,o)});return t}t.prototype.fetchData=function(e,t,i,n,r){var a=this;var l=e.getDimensions();var u=e.dataCube;var d=u.getMeasure("count");var c=d?d.expression:o.$("main").count();var f=e.getEffectiveFilter(t,null,i);if(r){if(n===s.Filter.CONTAINS){f=f.setSearch(i.name,"contains",r)}else if(n===s.Filter.REGEX){f=f.setSearch(i.name,"match",r)}}var m=o.$("main").filter(f.toExpression(l)).split(i.expression,i.name).apply("MEASURE",c).sort(o.$("MEASURE"),o.SortExpression.DESCENDING).limit(h+1);this.setState({loading:true,fetchQueued:false});p.QueryRunner.fetch(u,m,e.timezone).then(function(e){if(!a.mounted)return;a.setState({loading:false,dataset:e,queryError:null})},function(e){if(!a.mounted)return;a.setState({loading:false,dataset:null,queryError:e})})};t.prototype.componentWillMount=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension,r=e.searchText,a=e.filterMode;if(r&&a===s.Filter.REGEX){var o=v(r);if(o){this.setState({regexErrorMessage:o});return}}this.fetchData(t,i,n,a,r)};t.prototype.componentDidMount=function(){this.mounted=true};t.prototype.componentWillUnmount=function(){this.mounted=false};t.prototype.componentWillReceiveProps=function(e){var t=this.props,i=t.searchText,n=t.filterMode;var r=e.searchText;var a=this.state,o=a.fetchQueued,l=a.loading,u=a.dataset;var d=r&&n===s.Filter.REGEX?v(r):null;if(d){this.setState({regexErrorMessage:d});return}if(r&&r.indexOf(i)!==-1&&n===s.Filter.CONTAINS&&!o&&!l&&u&&u.data.length<h)return;this.setState({fetchQueued:true,regexErrorMessage:null});this.collectTriggerSearch()};t.prototype.constructFilter=function(){var e=this.props,t=e.dimension,i=e.filterMode,n=e.onClauseChange,r=e.searchText;var a=t.name;var o=null;if(r){if(i===s.Filter.REGEX){o=new s.FilterClause({dimension:a,action:"match",search:r})}else if(i===s.Filter.CONTAINS){o=new s.FilterClause({dimension:a,action:"contains",search:r})}}return n(o)};t.prototype.onOkClick=function(){if(!this.actionEnabled())return;var e=this.props,t=e.clicker,i=e.onClose;t.changeFilter(this.constructFilter());i()};t.prototype.onCancelClick=function(){var e=this.props.onClose;e()};t.prototype.actionEnabled=function(){var e=this.state.regexErrorMessage;var t=this.props.essence;if(e)return false;return!t.filter.equals(this.constructFilter())};t.prototype.renderRows=function(){var e=this.state,t=e.loading,i=e.dataset,n=e.fetchQueued,r=e.regexErrorMessage;var a=this.props,o=a.dimension,u=a.searchText,d=a.filterMode;var c=[];var p=null;if(i){var m=i.data.slice(0,h).map(function(e){return e[o.name]});if(u){m=m.filter(function(e){if(d===s.Filter.REGEX){try{var t=u.replace(/\\[^\\]]/g,"\\\\");p=new RegExp(t);return p.test(String(e))}catch(e){return false}}else if(d===s.Filter.CONTAINS){p=u;return String(e).toLowerCase().indexOf(u.toLowerCase())!==-1}return false})}c=m.map(function(e){var t=String(e);return l.createElement("div",{className:"row no-select",key:t,title:t},l.createElement("div",{className:"row-wrapper"},l.createElement(f.HighlightString,{className:"label",text:t,highlight:p})))})}var g=null;if(r){g=l.createElement("div",{className:"message"},r)}else if(!t&&i&&!n&&u&&!c.length){g=l.createElement("div",{className:"message"},'No results for "'+u+'"')}return l.createElement("div",{className:"rows"},c.length===0||!u?null:l.createElement("div",{className:"matching-values-message"},"Matching Values"),c,g)};t.prototype.render=function(){var e=this.props.filterMode;var t=this.state,i=t.dataset,n=t.loading,o=t.queryError;var s=i&&i.data.length>h;return l.createElement("div",{className:a("string-filter-menu",e)},l.createElement(r.GlobalEventListener,{enter:this.onOkClick.bind(this)}),l.createElement("div",{className:a("menu-table",s?"has-more":"no-more")},this.renderRows(),o?l.createElement(g.QueryError,{error:o}):null,n?l.createElement(m.Loader,null):null),l.createElement("div",{className:"ok-cancel-bar"},l.createElement(r.Button,{type:"primary",title:u.STRINGS.ok,onClick:this.onOkClick.bind(this),disabled:!this.actionEnabled()}),l.createElement(r.Button,{type:"secondary",title:u.STRINGS.cancel,onClick:this.onCancelClick.bind(this)})))};return t}(l.Component);t.PreviewStringFilterMenu=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(9);var o=i(6);var l=i(1);var s=i(10);var u=i(15);var d=i(77);var c=i(47);var p=i(90);var f=i(76);var m=i(70);var g=i(92);i(432);var h=100;var v=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={loading:false,dataset:null,error:null,fetchQueued:false,selectedValues:null,promotedValues:null};t.collectTriggerSearch=d.collect(c.SEARCH_WAIT,function(){if(!t.mounted)return;var e=t.props,i=e.essence,n=e.timekeeper,r=e.dimension,a=e.searchText;t.fetchData(i,n,r,a)});return t}t.prototype.fetchData=function(e,t,i,n){var r=this;var a=e.dataCube;var l=e.getDimensions();var s=a.getMeasure("count");var u=s?s.expression:o.$("main").count();var d=e.getEffectiveFilter(t,null,i);if(n){d=d.setSearch(i.name,"contains",n)}var c=o.$("main").filter(d.toExpression(l)).split(i.expression,i.name).apply("MEASURE",u).sort(o.$("MEASURE"),o.SortExpression.DESCENDING).limit(h+1);this.setState({loading:true,fetchQueued:false});p.QueryRunner.fetch(a,c,e.timezone).then(function(e){if(!r.mounted)return;r.setState({loading:false,dataset:e,error:null})},function(e){if(!r.mounted)return;r.setState({loading:false,dataset:null,error:e})})};t.prototype.componentWillMount=function(){var e=this.props,t=e.essence,i=e.timekeeper,n=e.dimension,r=e.searchText;var a=t.filter;var l=a.getLiteralSet(n.name)||o.Set.EMPTY;this.setState({selectedValues:l,promotedValues:l});this.fetchData(t,i,n,r)};t.prototype.componentDidMount=function(){this.mounted=true};t.prototype.componentWillUnmount=function(){this.mounted=false};t.prototype.componentWillReceiveProps=function(e){var t=this.props.searchText;var i=this.state,n=i.fetchQueued,r=i.loading,a=i.dataset;if(e.searchText&&e.searchText.indexOf(t)!==-1&&!n&&!r&&a&&a.data.length<h){return}else{this.setState({fetchQueued:true});this.collectTriggerSearch()}};t.prototype.constructFilter=function(){var e=this.props,t=e.dimension,i=e.filterMode,n=e.onClauseChange;var r=this.state.selectedValues;var a=null;if(r.size()){a=new s.FilterClause({dimension:t.name,values:r,exclude:i===s.Filter.EXCLUDE})}return n(a)};t.prototype.onValueClick=function(e,t){var i=this.state.selectedValues;if(t.altKey||t.ctrlKey||t.metaKey){if(i.contains(e)&&i.size()===1){i=o.Set.EMPTY}else{i=o.Set.EMPTY.add(e)}}else{i=i.toggle(e)}this.setState({selectedValues:i})};t.prototype.onOkClick=function(){if(!this.actionEnabled())return
;var e=this.props,t=e.clicker,i=e.onClose;t.changeFilter(this.constructFilter());i()};t.prototype.onCancelClick=function(){var e=this.props.onClose;e()};t.prototype.actionEnabled=function(){var e=this.props.essence;return!e.filter.equals(this.constructFilter())};t.prototype.renderRows=function(){var e=this;var t=this.state,i=t.loading,n=t.dataset,o=t.fetchQueued,u=t.selectedValues,d=t.promotedValues;var c=this.props,p=c.dimension,m=c.filterMode,g=c.searchText;var v=[];if(n){var b=d?d.elements:[];var y=n.data.slice(0,h).filter(function(e){return b.indexOf(e[p.name])===-1});var x=b.concat(y.map(function(e){return e[p.name]}));if(g){var S=g.toLowerCase();x=x.filter(function(e){return String(e).toLowerCase().indexOf(S)!==-1})}var w=m===s.Filter.EXCLUDE?"cross":"check";v=x.map(function(t){var i=String(t);var n=u&&u.contains(t);return l.createElement("div",{className:a("row",{selected:n}),key:i,title:i,onClick:e.onValueClick.bind(e,t)},l.createElement("div",{className:"row-wrapper"},l.createElement(r.Checkbox,{type:w,selected:n}),l.createElement(f.HighlightString,{className:"label",text:i,highlight:g})))})}var E=null;if(!i&&n&&!o&&g&&!v.length){E=l.createElement("div",{className:"message"},'No results for "'+g+'"')}return l.createElement("div",{className:"rows"},v,E)};t.prototype.render=function(){var e=this.props.filterMode;var t=this.state,i=t.dataset,n=t.loading,o=t.error;var s=i&&i.data.length>h;return l.createElement("div",{className:a("string-filter-menu",e)},l.createElement(r.GlobalEventListener,{enter:this.onOkClick.bind(this)}),l.createElement("div",{className:a("menu-table",s?"has-more":"no-more")},this.renderRows(),o?l.createElement(g.QueryError,{error:o}):null,n?l.createElement(m.Loader,null):null),l.createElement("div",{className:"ok-cancel-bar"},l.createElement(r.Button,{type:"primary",title:u.STRINGS.ok,onClick:this.onOkClick.bind(this),disabled:!this.actionEnabled()}),l.createElement(r.Button,{type:"secondary",title:u.STRINGS.cancel,onClick:this.onCancelClick.bind(this)})))};return t}(l.Component);t.SelectableStringFilterMenu=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(9);var s=i(49);var u=i(1);var d=i(20);var c=i(10);var p=i(15);var f=i(47);var m=i(48);var g=i(91);var h=i(220);var v=i(34);var b=i(148);var y=i(213);i(435);var x="split";var S=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.overflowMenuId=m.uniqueId("overflow-menu-");t.state={menuOpenOn:null,menuDimension:null,dragPosition:null};return t}t.prototype.componentDidMount=function(){this.calculateSize()};t.prototype.calculateSize=function(){if(!this.itemsDOM)return;var e=this.state.itemStage;var t=r.Stage.fromClientRect(this.itemsDOM.getBoundingClientRect());if(!t.equals(e)){this.setState({itemStage:t})}};t.prototype.componentDidUpdate=function(){var e=this.state.overflowMenuOpenOn;if(e){var t=this.getOverflowMenu();if(t)this.overflowMenuDeferred.resolve(t)}};t.prototype.selectDimensionSplit=function(e,t,i){var n=m.findParentWithClass(i.target,x);this.openMenu(e,t,n)};t.prototype.openMenu=function(e,t,i){var n=this.state.menuOpenOn;if(n===i){this.closeMenu();return}var a=this.getOverflowMenu();var o=null;if(a&&r.DOMUtils.isInside(i,a)){o=a}this.setState({menuOpenOn:i,menuDimension:e,menuSplit:t,menuInside:o})};t.prototype.closeMenu=function(){var e=this.state.menuOpenOn;if(!e)return;this.setState({menuOpenOn:null,menuDimension:null,menuInside:null,menuSplit:null})};t.prototype.getOverflowMenu=function(){return document.getElementById(this.overflowMenuId)};t.prototype.openOverflowMenu=function(e){if(!e)return s(null);var t=this.state.overflowMenuOpenOn;if(t===e){this.closeOverflowMenu();return s(null)}this.overflowMenuDeferred=s.defer();this.setState({overflowMenuOpenOn:e});return this.overflowMenuDeferred.promise};t.prototype.closeOverflowMenu=function(){var e=this.state.overflowMenuOpenOn;if(!e)return;this.setState({overflowMenuOpenOn:null})};t.prototype.removeSplit=function(e,t){var i=this.props.clicker;i.removeSplit(e);this.closeMenu();this.closeOverflowMenu();t.stopPropagation()};t.prototype.dragStart=function(e,t,i,n){var a=this.props,o=a.essence,l=a.getUrlPrefix;var s=o.filter;var u=n.dataTransfer;u.effectAllowed="all";if(l){var d=l()+o.addSplit(c.SplitCombine.fromDimensionAndFilterAndMeasure(e,s,o.getSortMeasure()),c.VisStrategy.FairGame).getURL();u.setData("text/url-list",d);u.setData("text/plain",d)}g.DragManager.setDragSplit(t,"filter-tile");g.DragManager.setDragDimension(e,"filter-tile");r.DOMUtils.setDragGhost(u,e.title);this.closeMenu();this.closeOverflowMenu()};t.prototype.calculateDragPosition=function(e){var t=this.props.essence;var i=t.splits.length();var n=this.itemsDOM.getBoundingClientRect();var a=r.EventUtils.getXFromEvent(e);var o=a-n.left;return c.DragPosition.calculateFromOffset(o,i,f.CORE_ITEM_WIDTH,f.CORE_ITEM_GAP)};t.prototype.canDrop=function(e){return Boolean(g.DragManager.getDragSplit()||g.DragManager.getDragDimension())};t.prototype.dragEnter=function(e){if(!this.canDrop(e))return;e.preventDefault();this.setState({dragPosition:this.calculateDragPosition(e)})};t.prototype.dragOver=function(e){if(!this.canDrop(e))return;e.dataTransfer.dropEffect="move";e.preventDefault();var t=this.calculateDragPosition(e);if(t.equals(this.state.dragPosition))return;this.setState({dragPosition:t})};t.prototype.dragLeave=function(e){if(!this.canDrop(e))return;this.setState({dragPosition:null})};t.prototype.drop=function(e){if(!this.canDrop(e))return;e.preventDefault();var t=this.props,i=t.clicker,n=t.essence;var r=n.splits,a=n.filter;var o=null;var l=g.DragManager.getDragDimension();if(g.DragManager.getDragSplit()){o=g.DragManager.getDragSplit()}else if(l){o=c.SplitCombine.fromDimensionAndFilterAndMeasure(l,a,n.getSortMeasure())}if(o){var s=this.calculateDragPosition(e);var u=null;if(s.isReplace()){u=r.replaceByIndex(s.replace,o)}else{u=r.insertByIndex(s.insert,o)}i.changeSplits(u)}this.setState({dragPosition:null})};t.prototype.splitMenuRequest=function(e){var t=this.props.essence;var i=t.splits;var n=i.findSplitForDimension(e.name);if(!n)return;var r=this.refs[e.name];if(!r)return;var a=d.findDOMNode(r);if(!a)return;this.openMenu(e,n,a)};t.prototype.overflowButtonClick=function(){this.openOverflowMenu(this.overflowDOM)};t.prototype.renderMenu=function(){var e=this.props,t=e.essence,i=e.clicker;var n=this.state,r=n.menuOpenOn,a=n.menuDimension,o=n.menuSplit,l=n.menuInside;if(!a)return null;var s=this.closeMenu.bind(this);return u.createElement(y.SplitMenu,{clicker:i,essence:t,openOn:r,dimension:a,split:o,displayLimit:t.getSplitForDimension(a.name).getLimitAction(),onClose:s,inside:l})};t.prototype.renderOverflowMenu=function(e){var t=this;var i=this.state.overflowMenuOpenOn;if(!i)return null;var n=29+f.CORE_ITEM_GAP;var a=f.CORE_ITEM_GAP;var o=e.map(function(e,i){var r=m.transformStyle(0,a);a+=n;return t.renderSplit(e,r,i)});return u.createElement(v.BubbleMenu,{className:"overflow-menu",id:this.overflowMenuId,direction:"down",stage:r.Stage.fromSize(208,a),fixedSize:true,openOn:i,onClose:this.closeOverflowMenu.bind(this)},o)};t.prototype.renderOverflow=function(e,t){var i=this;var n=this.props.essence;var r=m.transformStyle(t,0);return u.createElement("div",{className:l("overflow",{"all-continuous":e.every(function(e){return e.getDimension(n.getDimensions()).isContinuous()})}),ref:function(e){return i.overflowDOM=e},key:"overflow",style:r,onClick:this.overflowButtonClick.bind(this)},u.createElement("div",{className:"count"},"+"+e.length),this.renderOverflowMenu(e))};t.prototype.renderSplit=function(e,t,i){var n=this.props.essence;var r=this.state.menuDimension;var l=n.getDimensions();var s=e.getDimension(l);if(!s)throw new Error("dimension not found");var d=s.name;var c=[x,"type-"+s.kind];if(s===r)c.push("selected");return u.createElement("div",{className:c.join(" "),key:e.toKey(),ref:d,draggable:true,onClick:this.selectDimensionSplit.bind(this,s,e),onDragStart:this.dragStart.bind(this,s,e,i),style:t},u.createElement("div",{className:"reading"},e.getTitle(l)),u.createElement("div",{className:"remove",onClick:this.removeSplit.bind(this,e)},u.createElement(a.SvgIcon,{svg:o.X})))};t.prototype.render=function(){var e=this;var t=this.props.essence;var i=this.state,n=i.dragPosition,r=i.itemStage;var o=t.splits;var l=o.toArray();var s=r?h.getMaxItems(r.width,o.toArray().length):20;var d=0;var c=l.slice(0,s).map(function(t,i){var n=m.transformStyle(d,0);d+=h.SECTION_WIDTH;return e.renderSplit(t,n,i)});var f=l.slice(s);if(f.length>0){var g=c.length*h.SECTION_WIDTH;c.push(this.renderOverflow(f,g))}return u.createElement("div",{className:"split-tile",onDragEnter:this.dragEnter.bind(this)},u.createElement(a.GlobalEventListener,{resize:this.calculateSize.bind(this)}),u.createElement("div",{className:"title"},p.STRINGS.split),u.createElement("div",{className:"items",ref:function(t){return e.itemsDOM=t}},c),n?u.createElement(b.FancyDragIndicator,{dragPosition:n}):null,n?u.createElement("div",{className:"drag-mask",onDragOver:this.dragOver.bind(this),onDragLeave:this.dragLeave.bind(this),onDragExit:this.dragLeave.bind(this),onDrop:this.drop.bind(this)}):null,this.renderMenu())};return t}(u.Component);t.SplitTile=S},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(1);var l=i(15);var s=i(34);i(439);var u=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.logout=function(){var e=this.props.customization;a.GateKeeper.checkAndCall(function(){return window.open(e.getLogoutHref(),"_self")})};t.prototype.render=function(){var e=this.props,t=e.openOn,i=e.onClose,n=e.user,a=e.showSettings;if(!n)return null;var u=r.Stage.fromSize(200,200);var d=o.createElement("div",null,o.createElement("div",{className:"separator"}),o.createElement("a",{href:"/settings"},o.createElement("li",{className:"simple-item"},l.STRINGS.generalSettings)));return o.createElement(s.BubbleMenu,{className:"user-menu",direction:"down",stage:u,openOn:t,onClose:i},o.createElement("ul",{className:"bubble-list"},o.createElement("li",{className:"display-name"},n.getDisplayName()),o.createElement("li",{className:"logout"},o.createElement("div",{onClick:this.logout.bind(this)},l.STRINGS.logout)),a?d:null))};return t}(o.Component);t.UserMenu=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(1);var a=i(10);var o=i(48);var l=i(124);i(440);var s=5;var u=2;var d=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.stage,i=e.ticks,n=e.scale,d=e.topLineExtend,c=e.hideZero;if(c)i=i.filter(function(e){return e!==0});var p=l.formatterFromData(i,a.Measure.DEFAULT_FORMAT);var f=i.map(function(e){var t=o.roundToHalfInteger(n(e));return r.createElement("line",{className:"tick",key:String(e),x1:0,y1:t,x2:s,y2:t})});var m=s+u;var g="0.31em";var h=i.map(function(e){var t=n(e);return r.createElement("text",{className:"tick",key:String(e),x:m,y:t,dy:g},p(e))});return r.createElement("g",{className:"vertical-axis",transform:t.getTransform()},r.createElement("line",{className:"border",x1:.5,y1:-d,x2:.5,y2:t.height}),f,h)};return t}(r.Component);d.defaultProps={topLineExtend:0};t.VerticalAxis=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(1);i(441);var a=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.measure,i=e.datum,n=e.onClick;return r.createElement("div",{onClick:n,className:"vis-measure-label"},r.createElement("span",{className:"measure-title"},t.title),r.createElement("span",{className:"colon"},": "),r.createElement("span",{className:"measure-value"},t.formatFn(i[t.name])))};return t}(r.Component);t.VisMeasureLabel=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(9);var o=i(1);var l=i(218);var s=i(48);var u=i(217);i(443);var d=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={menuOpenOn:null};return t}t.prototype.openMenu=function(e){var t=this.state.menuOpenOn;var i=s.findParentWithClass(e.target,"vis-selector");if(t===i){this.closeMenu();return}this.setState({menuOpenOn:i})};t.prototype.closeMenu=function(){this.setState({menuOpenOn:null})};t.prototype.render=function(){var e=this.props,t=e.clicker,i=e.essence;var n=this.state.menuOpenOn;var s=i.visualization;var d=null;if(n){d=o.createElement(u.VisSelectorMenu,{clicker:t,essence:i,openOn:n,onClose:this.closeMenu.bind(this)})}return o.createElement("div",{className:a("vis-selector",{active:!!n}),onClick:this.openMenu.bind(this)},o.createElement("div",{className:"vis-item selected"},o.createElement(r.SvgIcon,{svg:l.VISUALIZATIONS[s.name]}),o.createElement("div",{className:"vis-title"},s.title)),d)};return t}(o.Component);t.VisSelector=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(49);var r=100;var a=function(){function e(e,t){if(t===void 0){t=r}this.delay=r;this.component=e;this.delay=t}e.prototype.setState=function(e,t){return this.component.setState.call(this.component,e,t)};e.prototype.start=function(e){var t=this;this.timeoutId=window.setTimeout(function(){t.timeoutId=undefined;t.setState({isLoading:true,loadingMessage:e})},this.delay)};e.prototype.startNow=function(e){this.setState({isLoading:true,loadingMessage:e})};e.prototype.stop=function(){var e=n.defer();if(this.timeoutId){window.clearTimeout(this.timeoutId);e.resolve()}else{this.setState({isLoading:false,loadingMessage:undefined},function(){return e.resolve()})}return e.promise};e.prototype.unmount=function(){if(this.timeoutId){window.clearTimeout(this.timeoutId)}};return e}();t.LoadingMessageDelegate=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(1);var o=i(15);i(444);var l=function(e){n.__extends(t,e);function t(){return e.call(this)||this}t.prototype.render=function(){var e=this.props,t=e.version,i=e.onClose;return a.createElement(r.Modal,{className:"about-modal",title:"About Pivot",onClose:i},a.createElement("div",{className:"p-group"},a.createElement("p",null,a.createElement("a",{href:"http://pivot.imply.io",target:"_blank"},"Pivot")," (version ",t,") is built and maintained with great care by ",a.createElement("a",{href:"https://imply.io/",target:"_blank"},"imply.io"),"."),a.createElement("p",null,"For feedback and support please visit the ",a.createElement("a",{href:"https://groups.google.com/forum/#!forum/imply-user-group",target:"_blank"},"Imply User Group"),".")),a.createElement("div",{className:"button-bar"},a.createElement(r.Button,{type:"primary",onClick:i,title:o.STRINGS.close})))};return t}(a.Component);t.AboutModal=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(5);var a=i(8);var o=i(11);var l=i(9);var s=i(2);var u=i(6);var d=i(1);var c=i(10);var p=i(124);i(445);var f={"make-boolean":"Make Boolean Dimension","make-case":"Make Case Dimension","add-case":"Add to Case Dimension"};var m=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={};return t}t.prototype.getNewDimensionName=function(e){var t=e.getCustomDimensions();return r.StringUtils.generateUniqueName("custom_d",function(e){return!s.NamedArray.findByName(t,e)})};t.prototype.componentDidMount=function(){var e=this.props,t=e.type,i=e.essence,n=e.timekeeper;this.setState({filter:i.getEffectiveFilter(n),dimensionToAddTo:t==="add-case"?i.getCustomDimensions()[0]:null})};t.prototype.removeClause=function(e){var t=this.state.filter;this.setState({filter:t.remove(e.dimension)})};t.prototype.onSave=function(){var e=this.props,t=e.type,i=e.onClose,n=e.clicker,r=e.essence;var a=this.state,o=a.filter,l=a.name,d=a.label,p=a.dimensionToAddTo;var f;if(t!=="make-boolean"){if(!d)return;if(d==="$self"){if(o.clauses.length===1){f=r.getDimension(o.clauses[0].dimension).expression}else{return}}else{f=u.r(d)}}var m=o.toExpression(r.getDimensions());var g;switch(t){case"make-boolean":g=new c.Dimension({name:this.getNewDimensionName(r),title:l,formula:JSON.stringify(m),type:"BOOLEAN"});break;case"make-case":g=new c.Dimension({name:this.getNewDimensionName(r),title:l,formula:JSON.stringify(m.then(f).fallback("Other")),type:"STRING"});break;case"add-case":var h=p.expression.operand.fallback(m.then(f)).fallback("Other");g=p.changeFormula(JSON.stringify(h));break}n.changeCustomDimensions(s.NamedArray.overrideByName(r.getCustomDimensions(),g));i()};t.prototype.renderClauses=function(){var e=this;var t=this.props.essence;var i=this.state.filter;var n=t.timezone;if(!i)return[];if(i.clauses.length===1){var r=i.clauses[0];var s=t.getDimension(r.dimension);var u=p.getFormattedClause(s,r,n),c=u.title,f=u.values;return[d.createElement("div",{className:l("clause deaf","type-"+s.kind,r&&r.getExclude()?"excluded":"included")},d.createElement("div",{className:"reading"},d.createElement("span",{className:"dimension-title"},c),d.createElement("span",{className:"values"},f)))]}return i.clauses.map(function(i,r){var s=t.getDimension(i.dimension);var u=p.getFormattedClause(s,i,n),c=u.title,f=u.values;return d.createElement("div",{className:l("clause","type-"+s.kind,i&&i.getExclude()?"excluded":"included"),onClick:e.removeClause.bind(e,i)},d.createElement("div",{className:"remove"},d.createElement(a.SvgIcon,{svg:o.X})),d.createElement("div",{className:"reading"},d.createElement("span",{className:"dimension-title"},c),d.createElement("span",{className:"values"},f)))})};t.prototype.renderRightSide=function(){var e=this;var t=this.props,i=t.type,n=t.essence;var r=this.state,o=r.name,l=r.label,s=r.dimensionToAddTo;var u=n.getCustomDimensions().filter(function(e){return e.expression.op==="fallback"});var c=[];if(s){var p=function(t){return e.setState({dimensionToAddTo:t})};var f=a.Dropdown.specialize();c.push(a.FormLabel.dumbLabel("Dimension"),d.createElement(f,{items:u,onSelect:p,renderItem:function(e){return e?e.title:"-"},renderSelectedItem:function(e){return e?e.title:"-"},selectedItem:s}))}else{var m=function(t){e.setState({name:t.target.value})};c.push(a.FormLabel.dumbLabel("New dimension name"),d.createElement("input",{type:"text",value:o,onChange:m}))}if(i!=="make-boolean"){var g=function(t){e.setState({label:t.target.value})};c.push(a.FormLabel.dumbLabel("Case label"),d.createElement("input",{type:"text",value:l,onChange:g}))}return c};t.prototype.renderButtons=function(){var e=this.props.onClose;return d.createElement("div",{className:"button-bar"},d.createElement(a.Button,{className:"cancel",title:"Cancel",type:"secondary",onClick:e}),d.createElement(a.Button,{className:"save",title:"OK",type:"primary",onClick:this.onSave.bind(this)}))};t.prototype.render=function(){var e=this.props,t=e.onClose,i=e.type;return d.createElement(a.Modal,{className:"dynamic-dimension-modal",title:f[i],onClose:t,onEnter:this.onSave.bind(this)},d.createElement("div",{className:"grid-row"},d.createElement("div",{className:"grid-col-50 vertical top h-padded clauses"},a.FormLabel.dumbLabel("Filters"),this.renderClauses()),d.createElement("div",{className:"grid-col-50 top h-padded form"},this.renderRightSide())),this.renderButtons())};return t}(d.Component);t.DynamicDimensionModal=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(5);var r=function(){function e(){}e.setProperty=function(e,t,i){var n=t.split(".");var r=i;var a;var o=function(){var t=e;for(var i=0;i<n.length;i++){t=t[n[i]]}return t};while(n.length){var l=n.pop();a=o();if(a.change instanceof Function){r=a.change(l,r)}else{var s="Can't find `change()` method on "+a.constructor.name;console.error(s);throw new Error(s)}}return r};e.getProperty=function(e,t){var i=e;var r=t.split(".");var a;while(a=r.shift()){var o="get"+n.StringUtils.firstUp(a);var l=i[o];i=l?l.call(i):i.get?i.get(a):i[a]}return i};return e}();t.ImmutableUtils=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(447);function r(e){return n.csvParse(e)}t.parseCSV=r;function a(e){return n.tsvParse(e)}t.parseTSV=a;function o(e){e=e.trim();var t=e[0];if(t[0]==="["){try{return JSON.parse(e)}catch(e){throw new Error("could not parse")}}else if(t[0]==="{"){return e.split(/\r?\n/).map(function(e,t){try{return JSON.parse(e)}catch(i){throw new Error("problem in line: "+t+": '"+e+"'")}})}else{throw new Error("Unsupported start, starts with '"+t[0]+"'")}}t.parseJSON=o;function l(e,t){t=t.replace(".","");switch(t){case"csv":case"text/csv":return r(e);case"tsv":case"text/tsv":case"text/tab-separated-values":return a(e);case"json":case"application/json":return o(e);default:throw new Error("Unsupported file type '"+t+"'")}}t.parseData=l},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,"",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".bucket-marks{pointer-events:none}.bucket-marks line{pointer-events:none;stroke:#ccc}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".chart-line{pointer-events:none}.chart-line .area{stroke:none;fill:rgba(30,163,230,0.14);fill-opacity:.9}.chart-line .line{fill:none;stroke:#1ea3e6;stroke-width:1.6px}.chart-line .singleton{fill:#1ea3e6;stroke:none}.chart-line .hover{fill:#fff;stroke:#1ea3e6;stroke-width:2}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".cluster-source-picker input.source{margin-bottom:0px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".color-segment-bubble{background:#fff;border-radius:2px;box-shadow:0 3px 10px 0 rgba(0,0,0,0.26),0 0 3px 0 rgba(0,0,0,0.16)}.color-segment-bubble{background:rgba(255,255,255,0.9);position:absolute;width:200px;padding:8px}.color-segment-bubble .bucket{color:#a6a6a6;margin-bottom:6px}.color-segment-bubble .color .color-swab{position:absolute;top:1px;left:0;width:15px;height:15px;border-radius:2px}.color-segment-bubble .color .color-name{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;display:inline-block;margin-left:22px;line-height:18px;width:108px}.color-segment-bubble .color .color-value{position:absolute;top:0;bottom:0;right:0;width:60px;line-height:18px;text-align:right}.color-segment-bubble .segment-action-buttons{margin-top:7px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".date-range-input .input-field{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.date-range-input .input-field:hover{border-color:#b8b8b8}.date-range-input .input-field:focus{border-color:#1ea3e6}.date-range-input .error.input-field{border-color:#e24c4c}.date-range-input .disabled.input-field{pointer-events:none;background:#f2f2f2}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".date-range-picker .side-by-side{display:-webkit-box;display:-ms-flexbox;display:flex}.date-range-picker .side-by-side .date-range-input{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;-ms-flex-preferred-size:0;flex-basis:0}.date-range-picker .side-by-side :not(:last-child){margin-right:8px}.date-range-picker .calendar{padding-left:4px;padding-right:4px}.date-range-picker .calendar .calendar-nav{margin-top:18px;margin-bottom:12px;text-align:center;line-height:23px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.date-range-picker .calendar .calendar-nav .caret{position:absolute;top:0;padding:3px 3px;cursor:pointer}.date-range-picker .calendar .calendar-nav .caret svg{width:19px}.date-range-picker .calendar .calendar-nav .caret svg path{fill:#777}.date-range-picker .calendar .calendar-nav .caret:hover svg path{fill:#555}.date-range-picker .calendar .calendar-nav .caret.left{left:0}.date-range-picker .calendar .calendar-nav .caret.right{right:0}.date-range-picker .calendar .week{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.date-range-picker .calendar .week .day{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;text-align:center;height:26px;line-height:26px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.date-range-picker .calendar .week .day.label{color:#bbb;pointer-events:none}.date-range-picker .calendar .week .day.value.selectable,.date-range-picker .calendar .week .day.value.selected{background:rgba(30,163,230,0.26)}.date-range-picker .calendar .week .day.value.selectable.past:not(.selected-edge),.date-range-picker .calendar .week .day.value.selectable.future:not(.selected-edge),.date-range-picker .calendar .week .day.value.selected.past:not(.selected-edge),.date-range-picker .calendar .week .day.value.selected.future:not(.selected-edge){color:#87acbf}.date-range-picker .calendar .week .day.value:hover:not(.selectable)::after{position:absolute;top:0;bottom:0;left:0;right:0;content:'';pointer-events:none;background:rgba(0,0,0,0.06)}.date-range-picker .calendar .week .day.value:hover:not(.selectable).beyond-max-range::after{background:rgba(0,0,0,0.1)}.date-range-picker .calendar .week .day.value.beyond-max-range::after{position:absolute;top:0;bottom:0;left:0;right:0;content:'';pointer-events:none;background:rgba(0,0,0,0.05)}.date-range-picker .calendar .week .day.value.past,.date-range-picker .calendar .week .day.value.future{color:#bbb}.date-range-picker .calendar .week .day.value.selected-edge{background:#1ea3e6;color:#fff}.date-range-picker .calendar .week .day span.space{color:transparent}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".description{cursor:pointer}.description svg{pointer-events:none;width:19px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".dimension-actions-menu{padding:8px}.dimension-actions-menu .action{display:inline-block;width:50px;height:50px;cursor:pointer;text-align:center;color:#1ea3e6;font-size:12px}.dimension-actions-menu .action svg{width:18px;padding-top:7px;padding-bottom:4px}.dimension-actions-menu .action svg path{fill:#1ea3e6}.dimension-actions-menu .action:hover::before{content:'';position:absolute;top:3px;bottom:3px;left:3px;right:3px;background:#e3f4fc}.dimension-actions-menu .preview{position:absolute;top:0;bottom:0;left:0;right:0;top:108px;border-top:1px solid #e6e6e6;height:30px;color:#999;text-align:center}.dimension-actions-menu .preview .preview-text{top:9px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".dimension-list-tile{overflow:hidden}.dimension-list-tile .items{position:absolute;top:36px;bottom:0;width:100%;overflow:auto;color:#000}.dimension-list-tile .items .dimension,.dimension-list-tile .items .dimension-group .group-header{transition:height 0.2s;height:27px;background:#fff;cursor:pointer;overflow:hidden}.dimension-list-tile .items .dimension:last-child,.dimension-list-tile .items .dimension-group .group-header:last-child{margin-bottom:12px}.dimension-list-tile .items .dimension.highlight,.dimension-list-tile .items .dimension-group .group-header.highlight{background:#e3f4fc}.dimension-list-tile .items .dimension.selected,.dimension-list-tile .items .dimension-group .group-header.selected{background:#c3e7f8}.dimension-list-tile .items .dimension>*,.dimension-list-tile .items .dimension-group .group-header>*{top:4px}.dimension-list-tile .items .dimension .icon,.dimension-list-tile .items .dimension-group .group-header .icon{position:absolute;width:19px;height:19px;padding:0;left:10px}.dimension-list-tile .items .dimension .icon svg,.dimension-list-tile .items .dimension-group .group-header .icon svg{width:19px}.dimension-list-tile .items .dimension .icon svg path,.dimension-list-tile .items .dimension-group .group-header .icon svg path{fill:rgba(0,0,0,0.3)}.dimension-list-tile .items .dimension .item-title,.dimension-list-tile .items .dimension-group .group-header .item-title{position:absolute;left:35px;right:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:20px}.dimension-list-tile .items .dimension .item-title .label,.dimension-list-tile .items .dimension-group .group-header .item-title .label{width:100%;overflow-x:hidden;text-overflow:ellipsis;height:20px;line-height:20px}.dimension-list-tile .items .dimension-group{height:initial}.dimension-list-tile .items .dimension-group .dimension .icon{left:30px}.dimension-list-tile .items .dimension-group .dimension .item-title{left:55px}.dimension-list-tile .items .dimension-group .dimension:first-child{margin-top:0px}.dimension-list-tile .items .dimension-group .dimension:last-child{margin-bottom:0px}.dimension-list-tile .items .dimension-group.closed .group-icon{-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dimension-list-tile .items .dimension-group.closed .group-items .dimension{height:0px;overflow:hidden}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".dimension-tile{min-height:94px;overflow-y:hidden}.dimension-tile.has-folder .rows{bottom:32px}.dimension-tile .folder{position:absolute;bottom:0;left:0;right:0;height:32px;cursor:pointer;color:#1ea3e6;padding-left:12px;padding-top:9px;z-index:2;border-top:1px solid #e6e6e6}.dimension-tile .folder svg{width:11px;margin-right:6px;margin-top:2px}.dimension-tile .folder svg path{fill:#1ea3e6}.dimension-tile .folder.folded svg{margin-top:1px;-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.dimension-tile .folder:hover{background:#e3f4fc}.dimension-tile .row{height:25px;cursor:pointer}.dimension-tile .row:hover{background:#e3f4fc}.dimension-tile .row:last-child{margin-bottom:12px}.dimension-tile .row.not-selected{color:#a6a6a6}.dimension-tile .row .highlight-controls{position:absolute;top:-29px;right:1px;z-index:4}.dimension-tile .row:nth-child(1) .highlight-controls,.dimension-tile .row:nth-child(2) .highlight-controls{top:auto;bottom:-34px}.dimension-tile .segment-value{position:absolute;top:0;bottom:0;left:0;right:80px;left:14px;overflow:hidden;white-space:nowrap}.dimension-tile .segment-value .checkbox{margin-top:1px}.dimension-tile .segment-value .label{display:inline-block;vertical-align:top;padding-top:6px}.dimension-tile .measure-value{position:absolute;top:0;bottom:0;right:0;width:80px;text-align:right;padding-top:6px;padding-right:14px;white-space:nowrap}.dimension-tile .loader,.dimension-tile .query-error{position:absolute;top:37px;bottom:0;left:0;right:0}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".drop-indicator .white-out{position:absolute;top:8px;bottom:8px;left:8px;right:8px;background:rgba(102,102,102,0.14);border-radius:4px}.drop-indicator .action{position:absolute;display:inline-block;padding:7px;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);background:#fff;border-radius:4px}.drop-indicator .action svg{width:30px}.drop-indicator .action path{fill:#666}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".fancy-drag-indicator{pointer-events:none}.fancy-drag-indicator .drag-ghost-element{position:absolute;top:4px;bottom:4px;width:192px;background:rgba(102,102,102,0.14);border-radius:4px}.fancy-drag-indicator .drag-ghost-arrow{position:absolute;top:-12px;width:16px;margin-left:-8px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".filter-menu .button-bar{margin-top:12px}.filter-menu .button-bar button{min-width:70px}.filter-menu .button-bar button:not(:last-child){margin-right:6px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined)
;t.push([e.i,".filter-options-dropdown .selected-item{padding:8px 16px 0 4px}.filter-options-dropdown .selected-item .icon{padding:0;bottom:4px}.filter-options-dropdown .selected-item .caret-icon{right:6px}.filter-options-dropdown .dropdown-menu{width:180px}.filter-options-dropdown .dropdown-menu .filter-option{display:block}.filter-options-dropdown .dropdown-menu .filter-option .option-label{display:inline-block;padding:2px 10px}.filter-options-dropdown svg.icon{display:inline-block;padding:5px 0;cursor:pointer;width:19px}.filter-options-dropdown svg.icon path{fill:#888}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".filter-tile .overflow,.overflow-menu .split,.overflow-menu .filter,.filter-tile .items .filter{padding:0 0 0 9px;background:#b6e3fc;border:1px solid transparent;border-radius:4px;cursor:pointer;overflow:hidden;transition:-webkit-transform 0.1s ease-in-out;transition:transform 0.1s ease-in-out;transition:transform 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out;width:192px}.filter-tile .overflow .reading,.overflow-menu .split .reading,.overflow-menu .filter .reading,.filter-tile .items .filter .reading{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;pointer-events:none;white-space:nowrap;margin-right:20px;height:16px;margin-top:7px}.filter-tile .overflow .remove,.overflow-menu .split .remove,.overflow-menu .filter .remove,.filter-tile .items .filter .remove{position:absolute;top:0;bottom:0;right:0;width:27px;text-align:center;padding-top:9px;cursor:pointer}.filter-tile .overflow .remove svg,.overflow-menu .split .remove svg,.overflow-menu .filter .remove svg,.filter-tile .items .filter .remove svg{width:10px}.filter-tile .overflow .remove path,.overflow-menu .split .remove path,.overflow-menu .filter .remove path,.filter-tile .items .filter .remove path{fill:rgba(0,0,0,0.2)}.filter-tile .overflow .remove:hover path,.overflow-menu .split .remove:hover path,.overflow-menu .filter .remove:hover path,.filter-tile .items .filter .remove:hover path{fill:rgba(0,0,0,0.5)}.filter-tile .overflow:hover,.overflow-menu .split:hover,.overflow-menu .filter:hover,.filter-tile .items .filter:hover,.filter-tile .selected.overflow,.overflow-menu .selected.split,.overflow-menu .selected.filter,.filter-tile .items .selected.filter{background-color:#98d8fb}.filter-tile .type-time.overflow,.overflow-menu .type-time.split,.overflow-menu .type-time.filter,.filter-tile .items .type-time.filter,.filter-tile .type-number.overflow,.overflow-menu .type-number.split,.overflow-menu .type-number.filter,.filter-tile .items .type-number.filter{background:#c2eac4}.filter-tile .type-time.overflow:hover,.overflow-menu .type-time.split:hover,.overflow-menu .type-time.filter:hover,.filter-tile .items .type-time.filter:hover,.filter-tile .type-time.selected.overflow,.overflow-menu .type-time.selected.split,.overflow-menu .type-time.selected.filter,.filter-tile .items .type-time.selected.filter,.filter-tile .type-number.overflow:hover,.overflow-menu .type-number.split:hover,.overflow-menu .type-number.filter:hover,.filter-tile .items .type-number.filter:hover,.filter-tile .type-number.selected.overflow,.overflow-menu .type-number.selected.split,.overflow-menu .type-number.selected.filter,.filter-tile .items .type-number.selected.filter{background-color:#abe2ad}.filter-tile .overflow,.filter-tile .items .filter{top:4px;bottom:4px}.filter-tile{background:#fff}.filter-tile .title{position:absolute;top:0;bottom:0;left:0;width:64px;padding:12px 0 0 14px;font-size:12px;text-transform:uppercase;color:#999}.filter-tile .overflow{position:absolute;left:0;padding:0 10px;width:40px}.filter-tile .all-continuous.overflow{background:#c2eac4}.filter-tile .overflow .count{pointer-events:none;white-space:nowrap;height:16px;margin-top:7px}.overflow-menu .split,.overflow-menu .filter{position:absolute;left:8px;top:0;height:29px}.overflow-menu .split.from-highlight,.overflow-menu .filter.from-highlight{border:1px dashed #168bc5;background:rgba(182,227,252,0.5)}.overflow-menu .split.from-highlight.type-time,.overflow-menu .split.from-highlight.type-number,.overflow-menu .filter.from-highlight.type-time,.overflow-menu .filter.from-highlight.type-number{border:1px dashed #449c53;background:rgba(194,234,196,0.5)}.filter-tile .drag-mask{position:absolute;top:0;bottom:0;left:0;right:0}.filter-tile .items{position:absolute;top:0;bottom:0;left:64px;right:0;transition:height 0.1s ease-in-out;overflow:hidden}.filter-tile .items .filter{position:absolute;left:0}.filter-tile .items .filter.from-highlight{border:1px dashed #168bc5;background:rgba(182,227,252,0.5)}.filter-tile .items .filter.from-highlight.type-time,.filter-tile .items .filter.from-highlight.type-number{border:1px dashed #449c53;background:rgba(194,234,196,0.5)}.filter-tile .items .filter .dimension-title{margin-right:5px}.filter-tile .items .filter.excluded .values{text-decoration:line-through}.filter-tile .fancy-drag-indicator{position:absolute;top:0;bottom:0;left:64px;right:0}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".formula-input .filter-input input.filter-value{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.formula-input .filter-input input.filter-value:hover{border-color:#b8b8b8}.formula-input .filter-input input.filter-value:focus{border-color:#1ea3e6}.formula-input .filter-input input.error.filter-value{border-color:#e24c4c}.formula-input .filter-input input.disabled.filter-value{pointer-events:none;background:#f2f2f2}.formula-input .dropdown-menu{max-height:230px;overflow:auto}.formula-input.placeholder{height:163px;padding:25px 20px 0px 20px;border:1px solid #e6e6e6}.formula-input.placeholder .title{text-align:center;margin-bottom:10px;font-style:italic;line-height:20px;color:#999}.formula-input.placeholder .actions .action{text-align:center;padding:5px;color:#1ea3e6}.formula-input.placeholder .actions .action span{cursor:pointer}.formula-input.placeholder .actions .action span:hover{border-bottom:1px dashed}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".grid-lines line{pointer-events:none;stroke:#ebebeb}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".highlight-string .bold{border-bottom:1px solid #000}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,"",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".line-chart-axis{position:absolute;top:0;bottom:0;left:0;right:0}.line-chart-axis line{pointer-events:none}.line-chart-axis line{stroke:#ccc}.line-chart-axis text{text-anchor:middle;font-size:12px;fill:#666}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".line-loader{position:absolute;top:0;bottom:0;left:0;right:0}.line-loader svg{position:absolute;top:50%;left:50%;width:25px;height:15px;margin-left:-12.5px;margin-top:-7.5px;-webkit-animation-name:loader-appears;animation-name:loader-appears;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-timing-function:linear;animation-timing-function:linear}.line-loader svg circle{-webkit-animation-name:loader-circle;animation-name:loader-circle;-webkit-animation-duration:0.5s;animation-duration:0.5s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate}@-webkit-keyframes loader-circle{0%{fill-opacity:1}100%{fill-opacity:0.2}}@keyframes loader-circle{0%{fill-opacity:1}100%{fill-opacity:0.2}}@-webkit-keyframes loader-appears{0%{opacity:0}100%{opacity:1}}@keyframes loader-appears{0%{opacity:0}100%{opacity:1}}.line-loader svg circle:nth-child(1){-webkit-animation-delay:-400s;animation-delay:-400s}.line-loader svg circle:nth-child(2){-webkit-animation-delay:-300ms;animation-delay:-300ms}.line-loader svg circle:nth-child(3){-webkit-animation-delay:-100ms;animation-delay:-100ms}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".manual-fallback{text-align:center;padding:100px 30px}.manual-fallback .message{font-size:20px;color:#666}.manual-fallback ul{margin-top:24px}.manual-fallback li{font-size:14px;cursor:pointer;color:#1ea3e6;margin-bottom:10px}.manual-fallback li:hover{text-decoration:underline}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".measures-tile .measure{transition:height 0.2s;padding-left:14px;height:27px;cursor:pointer;overflow:hidden;white-space:nowrap}.measures-tile .measure:last-child{margin-bottom:12px}.measures-tile .measure .label{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;position:absolute;top:7px;bottom:0;left:37px;right:10px}.measures-tile .measure:hover{background:#e3f4fc}.measures-tile .checkbox{margin-top:2px}.measures-tile .checkbox.selected .checkbox-body{background:rgba(0,0,0,0.45)}.measures-tile .measure-group{height:initial}.measures-tile .measure-group>.grid-row{padding-left:12px;cursor:pointer}.measures-tile .measure-group .group-icon{transition:-webkit-transform 0.2s;transition:transform 0.2s;transition:transform 0.2s, -webkit-transform 0.2s;width:19px;height:19px;padding:0}.measures-tile .measure-group .group-icon svg{width:19px}.measures-tile .measure-group .group-icon svg path{fill:rgba(0,0,0,0.3)}.measures-tile .measure-group .group-title{padding:5px 0px 5px 5px}.measures-tile .measure-group .measure{padding-left:30px}.measures-tile .measure-group .measure:first-child{margin-top:0px}.measures-tile .measure-group .measure:last-child{margin-bottom:0px}.measures-tile .measure-group .measure .label{left:57px}.measures-tile .measure-group.closed .group-icon{-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.measures-tile .measure-group.closed .group-items .measure{height:0px;overflow:hidden}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".nav-list{border-top:1px solid #ddd}.nav-list:first-child{border-top:0}.nav-list svg{height:19px;width:19px}.nav-list .group-title{padding-left:18px;text-transform:uppercase;font-size:12px;padding-top:15px;padding-bottom:12px;color:#999}.nav-list .group-title .icons{position:absolute;padding-right:18px;top:1px;right:0;cursor:pointer}.nav-list .group-title .icons .icon{display:inline-block;padding:10px 1px}.nav-list .group-title .icons .icon:not(:first-child){margin-left:4px}.nav-list .group-title .icons .icon:hover svg path{fill:#888}.nav-list .items .item{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:34px;padding-left:18px;padding-right:18px;cursor:pointer}.nav-list .items .item .icon{display:inline-block;top:7px;left:0;margin-right:9px}.nav-list .items .item:hover{background:rgba(30,163,230,0.12)}.nav-list .items .selected{background:rgba(30,163,230,0.14)}.nav-list .items .selected .icon svg path{fill:#1ea3e6}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".number-filter-menu .side-by-side{display:-webkit-box;display:-ms-flexbox;display:flex}.number-filter-menu .side-by-side>*{margin-right:5px}.number-filter-menu .side-by-side>*:last-child{margin-right:0}.number-filter-menu .input-top-label{text-transform:uppercase;font-size:12px;color:#a6a6a6;margin-bottom:5px}.number-filter-menu input{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.number-filter-menu input:hover{border-color:#b8b8b8}.number-filter-menu input:focus{border-color:#1ea3e6}.number-filter-menu input.error{border-color:#e24c4c}.number-filter-menu input.disabled{pointer-events:none;background:#f2f2f2}.number-filter-menu .group{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.number-filter-menu input.gray{color:#ccc}.number-filter-menu input,.number-filter-menu .filter-options-dropdown{margin-top:6px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".number-range-picker{margin:10px 0;height:25px}.number-range-picker .range-bar{position:absolute;top:6px;height:6px}.number-range-picker .range-bar.full{background-color:#dedede;left:8px;right:8px}.number-range-picker .range-bar.selected{background-color:#1ea3e6}.number-range-picker.inverted .range-bar.full{background-color:#1ea3e6}.number-range-picker.inverted .range-bar.selected{background-color:#dedede}.number-range-picker .range-handle{position:absolute}.number-range-picker .loader,.number-range-picker .query-error{position:absolute;top:0;bottom:0;left:0;right:0}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".options-menu .update-info{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;height:30px;line-height:28px;background:#f2f2f2;border-radius:2px;color:#909090;text-align:center;padding-left:8px;padding-right:8px}.options-menu .timezone-dropdown{margin-bottom:15px}.options-menu .refresh-controls{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:100%}.options-menu .refresh-controls .dropdown{-webkit-box-flex:2;-ms-flex:2;flex:2;margin-right:5px}.options-menu .refresh-controls .button{top:17px;width:30px}.options-menu .update-info{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-top:8px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".pinboard-measure-tile .dropdown .selected-item:hover{background:#fff;border:1px solid #d1d1d1;border-radius:2px;cursor:pointer;box-shadow:0 1px 1px 0 rgba(0,0,0,0.1)}.pinboard-measure-tile .dropdown .selected-item:hover{border-color:#bababa}.pinboard-measure-tile{background:#fff}.pinboard-measure-tile{height:36px;margin-bottom:1px}.pinboard-measure-tile .title{margin-left:14px;margin-top:12px;font-size:12px;color:#999;text-transform:uppercase}.pinboard-measure-tile .dropdown{display:inline-block;position:absolute;top:5px;right:5px;font-size:12px;border-radius:2px}.pinboard-measure-tile .dropdown .selected-item{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;line-height:19px;padding:2px 22px 2px 7px;border:1px solid transparent;color:#999;max-width:104px;height:auto;box-shadow:none}.pinboard-measure-tile .dropdown .selected-item .caret-icon{position:absolute;right:7px;bottom:6px}.pinboard-measure-tile .dropdown .selected-item .caret-icon path{fill:#bababa}.pinboard-measure-tile .dropdown .selected-item:hover{color:#000}.pinboard-measure-tile .dropdown .selected-item:hover .caret-icon path{fill:#999}.pinboard-measure-tile .dropdown .dropdown-menu{margin-top:1px;right:0;width:190px;max-height:600px;overflow-y:auto}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".pinboard-panel .placeholder{background:#fff}.pinboard-panel{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:10px 10px 0 10px}@media only screen and (max-width: 1080px){.pinboard-panel{padding:0 0 0 1px;font-size:0.9em}}.pinboard-panel .dimension-tile,.pinboard-panel .drop-indicator-tile{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-bottom:1px}.pinboard-panel .dimension-tile.has-colors{margin-bottom:5px}.pinboard-panel .drop-indicator-tile{pointer-events:none}.pinboard-panel .drop-indicator-tile::after{position:absolute;top:4px;bottom:4px;left:0;right:0;content:'';background:rgba(102,102,102,0.14);border-radius:2px}.pinboard-panel .placeholder{border-radius:0 0 2px 2px;max-height:280px;min-height:150px;-webkit-box-flex:1;-ms-flex:1;flex:1;pointer-events:none}.pinboard-panel .placeholder::after{position:absolute;top:10px;bottom:10px;left:10px;right:10px;content:'';border-radius:5px}.pinboard-panel .placeholder svg{position:absolute;width:40px;left:50%;top:50%;margin-left:-20px;margin-top:-63px}.pinboard-panel .placeholder svg path{fill:#d4d4d4}.pinboard-panel .placeholder .placeholder-message{position:absolute;top:50%;width:100%;height:16px;margin-top:-15px;padding-left:30px;padding-right:30px;font-style:italic;line-height:20px;color:#a6a6a6;text-align:center}.pinboard-panel .drag-mask{position:absolute;top:0;bottom:0;left:0;right:0}.pinboard-panel .checkbox.selected .checkbox-body{background:rgba(0,0,0,0.45)}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".string-filter-menu .row.no-select{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.string-filter-menu .matching-values-message{padding:4px 10px;color:#999}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".query-error{text-align:center}.query-error .whiteout{position:absolute;top:0;bottom:0;left:0;right:0;background:#fff;opacity:0.5}.query-error .error-container{position:absolute;top:50%;left:50%;width:180px;height:50px;margin-left:-90px;margin-top:-25px;color:red;text-align:left}.query-error .error-container .error{font-size:14px}.query-error .error-container .message{margin-top:5px;font-size:13px;overflow:hidden}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".range-handle{width:16px;height:16px;background:#1ea3e6;border-radius:50%;border:2px solid #1ea3e6;z-index:2}.range-handle.empty{background:#fff}.range-handle.beyond::before{border-style:solid;border-color:#ededed;border-width:2.5px 2.5px 0 0;content:'';display:inline-block;height:4px;position:relative;top:2.5px;vertical-align:top;width:4px}.range-handle.beyond.min::before{top:3px;left:4px;-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);transform:rotate(-135deg)}.range-handle.beyond.max::before{left:2px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".searchable-tile .search-box .clearable-input{background:#fff;border:1px solid #d1d1d1;border-radius:2px;box-shadow:inset 0 1px 1px 0 rgba(0,0,0,0.1)}.searchable-tile{background:#fff}.searchable-tile::after{position:absolute;top:0;bottom:0;left:0;right:0;content:'';pointer-events:none;box-shadow:inset 0 -20px 10px -10px #fff;border-radius:2px}.searchable-tile .rows{position:absolute;top:36px;bottom:0;left:0;right:0;overflow:auto}.searchable-tile .search-box{position:absolute;top:36px;left:0;right:0;height:26px;padding:0 14px;margin-bottom:4px}.searchable-tile .search-box .clearable-input{width:100%;height:26px;padding-left:6px}.searchable-tile .search-box .clearable-input .clear{top:3px}.searchable-tile.has-search .rows{top:65px}.searchable-tile.has-search .items{top:65px}.searchable-tile .message{padding:4px 10px;color:#999;font-style:italic}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".segment-action-buttons{white-space:nowrap}.segment-action-buttons .button{margin-right:5px}.segment-action-buttons .button.main{width:65px}.segment-action-buttons .button:last-child{margin-right:0}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".segment-bubble{background:#fff;border-radius:2px;box-shadow:0 3px 10px 0 rgba(0,0,0,0.26),0 0 3px 0 rgba(0,0,0,0.16)}.segment-bubble{position:absolute;background:rgba(255,255,255,0.9);padding:10px;text-align:center;-webkit-transform:translate(-50%, -100%);-ms-transform:translate(-50%, -100%);transform:translate(-50%, -100%);max-width:400px}.segment-bubble .text .segment{color:#999;line-height:17px;display:block;padding-bottom:2px;overflow:hidden;word-wrap:break-word}.segment-bubble .text .measure-value{white-space:nowrap}.segment-bubble .segment-action-buttons:nth-child(n+2){margin-top:7px}.segment-bubble .shpitz{left:50%;top:100%}.segment-bubble.tiny{cursor:pointer}.segment-bubble.tiny .text{white-space:nowrap}.segment-bubble.tiny.down{-webkit-transform:translate(-50%, 50%);-ms-transform:translate(-50%, 50%);transform:translate(-50%, 50%)}.segment-bubble.tiny.down .shpitz{top:0px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".string-filter-menu .row{height:24px;cursor:pointer;padding:0 14px}.string-filter-menu .row:hover{background:#e3f4fc}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".shpitz{position:absolute;width:40px;height:40px;overflow:hidden;pointer-events:none}.shpitz .rectangle{position:absolute}.shpitz .rectangle::after{content:'';position:absolute;width:12px;height:12px;-webkit-transform:translate(-50%, -50%) rotate(45deg);-ms-transform:translate(-50%, -50%) rotate(45deg);transform:translate(-50%, -50%) rotate(45deg);background:#fff;box-shadow:0 0 4px 0 rgba(0,0,0,0.35)}.shpitz.up{margin-bottom:-40px;margin-left:-20px}.shpitz.up .rectangle{bottom:100%;left:50%}.shpitz.down{margin-top:-40px;margin-left:-20px}.shpitz.down .rectangle{top:100%;left:50%}.shpitz.left{margin-right:-40px;margin-top:-20px}.shpitz.left .rectangle{right:100%;top:50%}.shpitz.right{margin-left:-40px;margin-top:-20px}.shpitz.right .rectangle{left:100%;top:50%}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".split-menu .sort-direction .direction{background:#fff;border:1px solid #d1d1d1;border-radius:2px;cursor:pointer;box-shadow:0 1px 1px 0 rgba(0,0,0,0.1)}.split-menu .sort-direction .direction:hover{border-color:#bababa}.split-menu input{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.split-menu input:hover{border-color:#b8b8b8}.split-menu input:focus{border-color:#1ea3e6}.split-menu input.error{border-color:#e24c4c}.split-menu input.disabled{pointer-events:none;background:#f2f2f2}.split-menu .dropdown{margin-bottom:12px}.split-menu .sort-direction .dropdown{margin-right:38px}.split-menu .sort-direction .direction{position:absolute;right:0;bottom:0;width:32px;height:30px}.split-menu .sort-direction .direction svg{position:absolute;height:13px;top:7px;left:11px}.split-menu .sort-direction .direction.ascending svg{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.split-menu .button-bar .ok{min-width:60px;margin-right:8px}.split-menu input{margin-bottom:12px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".split-tile .overflow,.overflow-menu .split,.overflow-menu .filter,.split-tile .items .split{padding:0 0 0 9px;background:#b6e3fc;border:1px solid transparent;border-radius:4px;cursor:pointer;overflow:hidden;transition:-webkit-transform 0.1s ease-in-out;transition:transform 0.1s ease-in-out;transition:transform 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out;width:192px}.split-tile .overflow .reading,.overflow-menu .split .reading,.overflow-menu .filter .reading,.split-tile .items .split .reading{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;pointer-events:none;white-space:nowrap;margin-right:20px;height:16px;margin-top:7px}.split-tile .overflow .remove,.overflow-menu .split .remove,.overflow-menu .filter .remove,.split-tile .items .split .remove{position:absolute;top:0;bottom:0;right:0;width:27px;text-align:center;padding-top:9px;cursor:pointer}.split-tile .overflow .remove svg,.overflow-menu .split .remove svg,.overflow-menu .filter .remove svg,.split-tile .items .split .remove svg{width:10px}.split-tile .overflow .remove path,.overflow-menu .split .remove path,.overflow-menu .filter .remove path,.split-tile .items .split .remove path{fill:rgba(0,0,0,0.2)}.split-tile .overflow .remove:hover path,.overflow-menu .split .remove:hover path,.overflow-menu .filter .remove:hover path,.split-tile .items .split .remove:hover path{fill:rgba(0,0,0,0.5)}.split-tile .overflow:hover,.overflow-menu .split:hover,.overflow-menu .filter:hover,.split-tile .items .split:hover,.split-tile .selected.overflow,.overflow-menu .selected.split,.overflow-menu .selected.filter,.split-tile .items .selected.split{background-color:#98d8fb}.split-tile .type-time.overflow,.overflow-menu .type-time.split,.overflow-menu .type-time.filter,.split-tile .items .type-time.split,.split-tile .type-number.overflow,.overflow-menu .type-number.split,.overflow-menu .type-number.filter,.split-tile .items .type-number.split{background:#c2eac4}.split-tile .type-time.overflow:hover,.overflow-menu .type-time.split:hover,.overflow-menu .type-time.filter:hover,.split-tile .items .type-time.split:hover,.split-tile .type-time.selected.overflow,.overflow-menu .type-time.selected.split,.overflow-menu .type-time.selected.filter,.split-tile .items .type-time.selected.split,.split-tile .type-number.overflow:hover,.overflow-menu .type-number.split:hover,.overflow-menu .type-number.filter:hover,.split-tile .items .type-number.split:hover,.split-tile .type-number.selected.overflow,.overflow-menu .type-number.selected.split,.overflow-menu .type-number.selected.filter,.split-tile .items .type-number.selected.split{background-color:#abe2ad}.split-tile .overflow,.split-tile .items .split{top:4px;bottom:4px}.split-tile{background:#fff}.split-tile .title{position:absolute;top:0;bottom:0;left:0;width:64px;padding:12px 0 0 14px;font-size:12px;text-transform:uppercase;color:#999}.split-tile .overflow{position:absolute;left:0;padding:0 10px;width:40px}.split-tile .all-continuous.overflow{background:#c2eac4}.split-tile .overflow .count{pointer-events:none;white-space:nowrap;height:16px;margin-top:7px}.overflow-menu .split,.overflow-menu .filter{position:absolute;left:8px;top:0;height:29px}.overflow-menu .split.from-highlight,.overflow-menu .filter.from-highlight{border:1px dashed #168bc5;background:rgba(182,227,252,0.5)}.overflow-menu .split.from-highlight.type-time,.overflow-menu .split.from-highlight.type-number,.overflow-menu .filter.from-highlight.type-time,.overflow-menu .filter.from-highlight.type-number{border:1px dashed #449c53;background:rgba(194,234,196,0.5)}.split-tile .drag-mask{position:absolute;top:0;bottom:0;left:0;right:0}.split-tile .items{position:absolute;top:0;bottom:0;left:64px;right:0;transition:height 0.1s ease-in-out;overflow:hidden}.split-tile .items .split{position:absolute;left:0}.split-tile .fancy-drag-indicator{position:absolute;top:0;bottom:0;left:64px;right:0}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".string-filter-menu .side-by-side{display:-webkit-box;display:-ms-flexbox;display:flex}.string-filter-menu .side-by-side>*{margin-right:5px}.string-filter-menu .side-by-side>*:last-child{margin-right:0}.string-filter-menu .search-box .clearable-input{background:#fff;border:1px solid #d1d1d1;border-radius:2px;box-shadow:inset 0 1px 1px 0 rgba(0,0,0,0.1)}.string-filter-menu .menu-table::after{position:absolute;top:0;bottom:0;left:0;right:0;content:'';pointer-events:none;box-shadow:inset 0 -20px 10px -10px #fff;border-radius:2px}.string-filter-menu .side-by-side :not(:last-child){margin-right:0}.string-filter-menu .search-box{height:30px;margin-left:6px;width:100%}.string-filter-menu .search-box .clearable-input{width:100%;height:30px;padding-left:6px}.string-filter-menu .menu-table{background:#fff;color:#000}.string-filter-menu .menu-table::after{position:absolute;top:0;bottom:0;left:-14px;right:-14px}.string-filter-menu .menu-table .rows{height:280px;margin-top:10px;margin-left:-14px;margin-right:-14px;overflow:auto}.string-filter-menu .menu-table .row{height:24px;cursor:pointer;padding:0 14px}.string-filter-menu .menu-table .row .row-wrapper{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;height:100%}.string-filter-menu .menu-table .row .row-wrapper .label{display:inline-block;vertical-align:top;padding-top:4px}.string-filter-menu .menu-table .row:hover{background:#e3f4fc}.string-filter-menu .menu-table .row:last-child{margin-bottom:12px}.string-filter-menu .menu-table .row.no-select{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.string-filter-menu .menu-table .row .checkbox.selected .checkbox-body{background:rgba(0,0,0,0.45)}.string-filter-menu .menu-table .message{padding:4px 14px;color:#999;font-style:italic}.string-filter-menu .menu-table .matching-values-message{padding:4px 14px;color:#999}.string-filter-menu .menu-table .loader,.string-filter-menu .menu-table .query-error{position:absolute;top:0;bottom:0;left:0;right:0}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".tile-header .title{padding:15px 14px 10px 14px;font-size:12px;text-transform:uppercase;color:#000;cursor:default}.tile-header .icons{position:absolute;top:1px;right:10px}.tile-header .icons .icon{display:inline-block;padding:10px 0;cursor:pointer;width:19px;margin-left:3px}.tile-header .icons .icon svg path{fill:#bbb}.tile-header .icons .icon:hover svg path,.tile-header .icons .icon.active svg path{fill:#888}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".time-filter-menu .cont .type{text-transform:uppercase;font-size:12px;color:#a6a6a6;margin-bottom:5px}.time-filter-menu .cont .preview{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;height:30px;line-height:28px;background:#f2f2f2;border-radius:2px;color:#909090;text-align:center;padding-left:8px;padding-right:8px}.time-filter-menu .cont{margin-top:18px}.time-filter-menu .cont .buttons{margin-bottom:14px}.time-filter-menu .cont .buttons button{min-width:0;padding:0;width:17.5%;margin-right:3%}.time-filter-menu .cont .buttons button.selected{min-width:0;padding:0}.time-filter-menu .cont .buttons button:last-child{margin-right:0}.time-filter-menu.multiple .range{color:#666;margin-bottom:10px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".user-menu ul.bubble-list li.display-name{pointer-events:none;color:#a6a6a6}.user-menu .separator{height:1px;margin:11px 0 11px 0;border-top:1px solid #dedede}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".vertical-axis{pointer-events:none}.vertical-axis line.border{stroke:#ccc}.vertical-axis line.tick{stroke:#ccc}.vertical-axis text{font-size:12px;fill:#666}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".vis-measure-label{pointer-events:none;white-space:nowrap}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".vis-selector-menu{background:#fff;border-radius:2px;box-shadow:0 3px 10px 0 rgba(0,0,0,0.26),0 0 3px 0 rgba(0,0,0,0.16)}.vis-selector-menu{z-index:8;font-size:0;width:272px;padding:16px}.vis-selector-menu .vis-item{margin:1px;border-radius:2px}.vis-selector-menu .vis-item:hover{box-shadow:inset 0 0 0 1px #dedede}.vis-selector-menu .vis-item.selected{box-shadow:inset 0 0 0 1px #d1d1d1}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".vis-selector{background:#fff}.vis-selector::before{position:absolute;top:0;bottom:0;left:0;right:0;content:'';z-index:6;background-color:rgba(255,255,255,0.65);pointer-events:none;opacity:0}.vis-selector::after{width:0;height:0;border-top:9px solid #666;border-bottom:0;border-left:7px solid transparent;border-right:7px solid transparent;content:'';z-index:7;position:absolute;top:50%;left:50%;margin-top:-6px;margin-left:-7px;pointer-events:none;opacity:0}.vis-selector:hover::after,.vis-selector:hover::before,.vis-selector.active::after,.vis-selector.active::before{opacity:1}.vis-selector .vis-item{display:inline-block;width:78px;height:70px;cursor:pointer}.vis-selector .vis-item .vis-title{position:absolute;left:0;right:0;bottom:7px;text-align:center;font-size:11px;font-weight:400;color:#666}.vis-selector .vis-item svg{position:absolute;top:3px;left:50%;width:53px;height:53px;margin-left:-27px}.vis-selector .vis-selector-menu{position:absolute;top:100%;right:0}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".about-modal p{margin-bottom:14px;line-height:20px}.about-modal p:last-child{margin-bottom:0}.about-modal a{color:#1ea3e6;cursor:pointer}.about-modal a:hover{text-decoration:underline}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined)
;t.push([e.i,".dynamic-dimension-modal .clause{padding:0 0 0 9px;background:#b6e3fc;border:1px solid transparent;border-radius:4px;cursor:pointer;overflow:hidden;transition:-webkit-transform 0.1s ease-in-out;transition:transform 0.1s ease-in-out;transition:transform 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out;width:192px}.dynamic-dimension-modal .clause .reading{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;pointer-events:none;white-space:nowrap;margin-right:20px;height:16px;margin-top:7px}.dynamic-dimension-modal .clause .remove{position:absolute;top:0;bottom:0;right:0;width:27px;text-align:center;padding-top:9px;cursor:pointer}.dynamic-dimension-modal .clause .remove svg{width:10px}.dynamic-dimension-modal .clause .remove path{fill:rgba(0,0,0,0.2)}.dynamic-dimension-modal .clause .remove:hover path{fill:rgba(0,0,0,0.5)}.dynamic-dimension-modal .clause:hover,.dynamic-dimension-modal .selected.clause{background-color:#98d8fb}.dynamic-dimension-modal .type-time.clause,.dynamic-dimension-modal .type-number.clause{background:#c2eac4}.dynamic-dimension-modal .type-time.clause:hover,.dynamic-dimension-modal .type-time.selected.clause,.dynamic-dimension-modal .type-number.clause:hover,.dynamic-dimension-modal .type-number.selected.clause{background-color:#abe2ad}.dynamic-dimension-modal input{border:1px solid rgba(0,0,0,0.14);margin-bottom:10px}.dynamic-dimension-modal .column-label{font-size:13px;margin-bottom:10px;text-transform:uppercase}.dynamic-dimension-modal .clauses{min-height:200px}.dynamic-dimension-modal .clause{height:28px}.dynamic-dimension-modal .clause .dimension-title{margin-right:5px}.dynamic-dimension-modal .clause.excluded .values{text-decoration:line-through}.dynamic-dimension-modal .clause:not(:last-child){margin-bottom:5px}.dynamic-dimension-modal .button-bar{text-align:right}.dynamic-dimension-modal .modal-window{width:570px}\n",""])},function(e,t,i){var n=i(346);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./bubble-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./bubble-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(347);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./bucket-marks.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./bucket-marks.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(348);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./chart-line.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./chart-line.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(349);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./cluster-source-picker.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./cluster-source-picker.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(350);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./color-segment-bubble.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./color-segment-bubble.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(351);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./date-range-input.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./date-range-input.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(352);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./date-range-picker.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./date-range-picker.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(353);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./description.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./description.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(354);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./dimension-actions-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./dimension-actions-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(355);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./dimension-list-tile.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./dimension-list-tile.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(356);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./dimension-tile.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./dimension-tile.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(357);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./drop-indicator.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./drop-indicator.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(358);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./fancy-drag-indicator.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./fancy-drag-indicator.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(359);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./filter-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./filter-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(360);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./filter-options-dropdown.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./filter-options-dropdown.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(361);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./filter-tile.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./filter-tile.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(362);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./formula-input.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./formula-input.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(363);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./grid-lines.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./grid-lines.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(364);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./highlight-string.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./highlight-string.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(365);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./hiluk-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./hiluk-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(366);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./line-chart-axis.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./line-chart-axis.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(367);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./line-loader.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./line-loader.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(368);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./manual-fallback.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./manual-fallback.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(369);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./measures-tile.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./measures-tile.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(370);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./nav-list.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./nav-list.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(371);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./number-filter-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./number-filter-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(372);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./number-range-picker.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./number-range-picker.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(373);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./options-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./options-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(374);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./pinboard-measure-tile.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./pinboard-measure-tile.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(375);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./pinboard-panel.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./pinboard-panel.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(376);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./preview-string-filter-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./preview-string-filter-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(377);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./query-error.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./query-error.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(378);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./range-handle.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./range-handle.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(379);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./searchable-tile.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./searchable-tile.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(380);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./segment-action-buttons.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./segment-action-buttons.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(381);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./segment-bubble.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./segment-bubble.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(382);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./selectable-string-filter-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./selectable-string-filter-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(383);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./shpitz.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./shpitz.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(384);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./split-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./split-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(385);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./split-tile.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./split-tile.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(386);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./string-filter-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./string-filter-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(387);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./tile-header.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./tile-header.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(388);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./time-filter-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./time-filter-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(389);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./user-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./user-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(390);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./vertical-axis.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./vertical-axis.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(391);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./vis-measure-label.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./vis-measure-label.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(392);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./vis-selector-menu.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./vis-selector-menu.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(393);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./vis-selector.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./vis-selector.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(394);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./about-modal.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./about-modal.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(395);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./dynamic-dimension-modal.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./dynamic-dimension-modal.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(45);var a=i(8);var o=i(69);var l=i(9);var s=i(2);var u=i(1);var d=i(10);var c=i(10);var p=i(15);var f=i(152);var m=i(219);i(731);var g=d.LABELS.CLUSTER;var h=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.mounted=false;t.formDelegate=new o.ImmutableFormDelegate(t);t.formDelegate.on("type",t.makeSureHostIsValid.bind(t));t.loadingDelegate=new m.LoadingMessageDelegate(t);return t}t.prototype.makeSureHostIsValid=function(){var e=this.state.newInstance;if(!e.host)this.setState({canSave:false})};t.prototype.initFromProps=function(e){var t=e.clusters;if(!t)return;this.setState({canSave:false,newInstance:new c.Cluster({name:f.generateUniqueName("cl",function(e){return!s.NamedArray.containsByName(t,e)}),title:"temp",type:"druid"})})};t.prototype.componentWillMount=function(){this.initFromProps(this.props)};t.prototype.componentWillReceiveProps=function(e){this.initFromProps(e)};t.prototype.componentDidMount=function(){this.mounted=true;if(document.activeElement)document.activeElement.blur()};t.prototype.componentWillUnmount=function(){this.mounted=false;this.loadingDelegate.unmount()};t.prototype.connect=function(){var e=this;var t=this.props.clusters;r.Ajax.query({method:"POST",url:"settings/cluster-connection",data:{cluster:this.state.newInstance}}).then(function(i){if(!e.mounted)return;e.loadingDelegate.stop();var n=c.Cluster.fromJS(i.cluster);n=n.changeTitle(n.guessTitle()).changeName(f.generateUniqueName(n.guessName(),function(e){return!s.NamedArray.containsByName(t,e)},{suffixIfAlreadyUnique:false,startAt:1,separator:"-"})).changeTimeout(c.Cluster.DEFAULT_TIMEOUT);e.props.onNext(n,i.sources)},function(t){if(!e.mounted)return;e.loadingDelegate.stop();a.Notifier.failure("Couldn't connect to cluster",t.message)}).done()};t.prototype.onNext=function(e){e.preventDefault();var t=this.state.canSave;if(t){this.connect();this.loadingDelegate.start("Creating cluster...")}};t.prototype.render=function(){var e=this.props.onCancel;var t=this.state,i=t.newInstance,n=t.errors,r=t.canSave,s=t.loadingMessage,d=t.isLoading;if(!i)return null;var f=i.type;var m=a.FormLabel.simpleGenerator(g,n);var h=o.ImmutableTextInput.simpleGenerator(i,this.formDelegate.onChange,g,n);var v=o.ImmutableDropdown.simpleGenerator(i,this.formDelegate.onChange,g,n);var b=[];if(f==="mysql"||f==="postgres"){b.push(m("database"),h("database"),m("user"),h("user"),m("password"),h("password"))}else if(f==="druid"||f==="druidsql"){b.push(m("socksHost","socksHost",u.createElement(a.InfoSpot,{bubbly:true,sourceIds:["socksHost"]})),h("socksHost"),m("socksUsername","socksUsername",u.createElement(a.InfoSpot,{bubbly:true,sourceIds:["socksUsername"]})),h("socksUsername"),m("socksPassword","socksPassword",u.createElement(a.InfoSpot,{bubbly:true,sourceIds:["socksPassword"]})),h("socksPassword"))}return u.createElement(a.Modal,{className:"cluster-seed-modal",title:p.STRINGS.connectNewCluster,onClose:this.props.onCancel,onEnter:this.onNext.bind(this),deaf:d},u.createElement("form",null,m("type"),v("type",c.Cluster.TYPE_VALUES.map(function(e){return{value:e,label:e}})),m("host"),h("host",/^.+$/,true),b),d?u.createElement(a.LoadingBar,{label:s}):u.createElement("div",{className:"button-bar"},u.createElement(a.Button,{className:l("save",{disabled:!r}),type:"primary",title:p.STRINGS.next+": "+p.STRINGS.configureCluster,onClick:this.onNext.bind(this)}),u.createElement(a.Button,{className:"cancel",title:"Cancel",type:"secondary",onClick:e})))};return t}(u.Component);t.ClusterSeedModal=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(1);var o=i(15);var l=i(219);i(732);var s=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={selection:[]};t.loadingDelegate=new l.LoadingMessageDelegate(t);return t}t.specialize=function(){return t};t.prototype.componentWillMount=function(){this.initFromProps(this.props)};t.prototype.initFromProps=function(e){var t=e.suggestions;this.setState({selection:(t||[]).map(function(e){return true})})};t.prototype.onPrimary=function(){var e=this;var t=this.props,i=t.onOk,n=t.suggestions,r=t.onClose;var a=this.state.selection;var o=n.filter(function(e,t){return a[t]}).map(function(e){return e.value});if(i.closePromise){this.loadingDelegate.start(i.loadingMessage||"...");i.closePromise(o).then(function(){e.loadingDelegate.stop().then(r)})}else if(i.callback){i.callback(o)}};t.prototype.selectAll=function(){this.setState({selection:this.state.selection.map(function(){return true})})};t.prototype.selectNone=function(){this.setState({selection:this.state.selection.map(function(){return false})})};t.prototype.renderSuggestions=function(){var e=this;var t=this.props.suggestions;var i=this.state.selection;if(!t)return null;var n=function(t){i[t]=!i[t];e.setState({selection:i})};return t.map(function(t,o){return a.createElement("div",{className:"row",key:o,onClick:n.bind(e,o)},a.createElement(r.Checkbox,{label:t.label,selected:i[o]}))})};t.prototype.renderSecondaryButton=function(e){var t=this.props,i=t.onClose,n=t.onDoNothing;return a.createElement(r.Button,{className:"cancel",title:n?n.label(e):o.STRINGS.cancel,type:"secondary",onClick:n?n.callback:i})};t.prototype.renderPrimaryButton=function(e){var t=this.props.onOk;return a.createElement(r.Button,{type:"primary",title:t.label(e),disabled:e===0,onClick:this.onPrimary.bind(this)})};t.prototype.renderLoader=function(e){return a.createElement(r.LoadingBar,{label:e})};t.prototype.renderButtons=function(e){if(e===void 0){e=false}var t=this.props.loadingState;var i=this.state,n=i.selection,r=i.isLoading,o=i.loadingMessage;if(t.isLoading)return this.renderLoader(t.loadingMessage);if(r)return this.renderLoader(o);var l=n.filter(Boolean).length;return a.createElement("div",{className:"button-bar"},e?null:this.renderPrimaryButton(l),this.renderSecondaryButton(l))};t.prototype.renderEmpty=function(){var e=this.props,t=e.onClose,i=e.title;return a.createElement(r.Modal,{className:"suggestion-modal",title:""+i,onClose:t},a.createElement("div",{className:"background"},a.createElement("div",{className:"message"},o.STRINGS.thereAreNoSuggestionsAtTheMoment)),this.renderButtons(true))};t.prototype.render=function(){var e=this.props,t=e.suggestions,i=e.onClose,n=e.title,o=e.explanation;var l=this.state.selection;if(!t||t.length===0)return this.renderEmpty();var s=l.filter(Boolean).length;return a.createElement(r.Modal,{className:"suggestion-modal",title:""+n,onClose:i,onEnter:this.onPrimary.bind(this)},o?a.createElement("div",{className:"explanation"}," ",o(s)," "):null,a.createElement("div",{className:"actions"},a.createElement(r.Button,{type:"light-action",onClick:this.selectAll.bind(this),title:"Select all"}),a.createElement(r.Button,{type:"light-action",onClick:this.selectNone.bind(this),title:"Select none"})),a.createElement("div",{className:"background"},this.renderSuggestions()),this.renderButtons())};return t}(a.Component);s.defaultProps={loadingState:{}};t.SuggestionModal=s},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(1);var r=i(20);var a=i(10);var o=i(310);i(68);var l=window["__CONFIG__"];if(!l){throw new Error("config not found")}var s=document.getElementsByClassName("app-container")[0];var u=l.customization,d=l.version,c=l.userMode,p=l.stateful;if(s){r.render(n.createElement(o.SettingsView,{version:d,userMode:c,stateful:Boolean(p),user:a.User.fromJS(l.user),customization:a.Customization.fromJS(u||{})}),s)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(){var e=this;var t;var i=function(){var i=[];for(var n=0;n<arguments.length;n++){i[n]=arguments[n]}if(t)return t.apply(e,i);return undefined};i.fill=function(e){t=e};i.clear=function(){t=null};return i}t.createFunctionSlot=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(69);var o=i(9);var l=i(1);var s=i(10);var u=i(15);var d=i(152);i(734);var c=s.LABELS.CLUSTER;var p=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.delegate=new a.ImmutableFormDelegate(t);t.delegate.onAnyChange(function(){if(t.props.cluster.equals(t.state.newInstance)){r.GateKeeper.forget()}else{r.GateKeeper.update({save:t.save.bind(t),cancel:t.goBack.bind(t)})}});return t}t.prototype.componentWillReceiveProps=function(e){if(e.cluster){this.initFromProps(e)}};t.prototype.initFromProps=function(e){var t=this.state.newInstance;if(t)return;this.setState({newInstance:new s.Cluster(e.cluster.valueOf()),canSave:true,errors:{}})};t.prototype.componentWillMount=function(){if(this.props.cluster)this.initFromProps(this.props)};t.prototype.componentWillUnmount=function(){r.GateKeeper.forget()};t.prototype.save=function(){return this.props.onSave(this.state.newInstance)};t.prototype.goBack=function(){this.props.back()};t.prototype.renderGeneral=function(){var e=this.state,t=e.newInstance,i=e.errors;var n=r.FormLabel.simpleGenerator(c,i);var o=a.ImmutableTextInput.simpleGenerator(t,this.delegate.onChange,c,i);var u=a.ImmutableDropdown.simpleGenerator(t,this.delegate.onChange,c,i);var p=function(e){return o(e,function(e){return!!e})};var f=["mysql","postgres"].indexOf(t.type)>-1;var m=["druid","druidsql"].indexOf(t.type)>-1;var g=(new r.Grid).setColumns([{width:60},{width:40,vAlign:"top"}]);return l.createElement("div",{className:"form general vertical"},g.row([n("title"),o("title",/.*/,true)],l.createElement(r.InfoSpot,{sourceIds:["title"]})),g.row([n("host"),p("host")],l.createElement(r.InfoSpot,{sourceIds:["host"]})),g.row([n("type"),u("type",s.Cluster.TYPE_VALUES.map(function(e){return{value:e,label:e}}))],l.createElement(r.InfoSpot,{sourceIds:["type"]})),g.row([n("timeout"),o("timeout",d.NUM_REGEX)],l.createElement(r.InfoSpot,{sourceIds:["timeout"]})),g.row([n("version"),o("version")],l.createElement(r.InfoSpot,{sourceIds:["version"]})),f?g.row([n("database"),p("database")],l.createElement(r.InfoSpot,{sourceIds:["database"]
})):null,f?g.row([n("user"),p("user")],l.createElement(r.InfoSpot,{sourceIds:["user"]})):null,f?g.row([n("password"),o("password")],l.createElement(r.InfoSpot,{sourceIds:["password"]})):null,m?g.row([n("socksHost"),o("socksHost")],l.createElement(r.InfoSpot,{sourceIds:["socksHost"]})):null,m?g.row([n("socksUsername"),o("socksUsername")],l.createElement(r.InfoSpot,{sourceIds:["socksUsername"]})):null,m?g.row([n("socksPassword"),o("socksPassword")],l.createElement(r.InfoSpot,{sourceIds:["socksPassword"]})):null)};t.prototype.onDoSave=function(){var e=this;if(!this.state.canSave)return;this.save().then(function(t){if(t===false)return;e.goBack()})};t.prototype.renderButtons=function(){var e=this.props,t=e.cluster,i=e.isNewCluster;var n=this.state,a=n.canSave,s=n.newInstance;var u=!t.equals(s);var d=l.createElement(r.Button,{className:"cancel",title:"Cancel",type:"secondary",onClick:this.goBack.bind(this)});var c=l.createElement(r.Button,{className:o("save",{disabled:!a||!i&&!u}),title:i?"Connect cluster":"Save",type:"primary",onClick:this.onDoSave.bind(this)});return l.createElement("div",{className:"button-group"},d,c)};t.prototype.getTitle=function(){var e=this.props.isNewCluster;var t=this.state.newInstance;var i=t.title?" / "+t.title:"";return(e?u.STRINGS.connectCluster:u.STRINGS.clusters)+i};t.prototype.render=function(){var e=this.state.newInstance;if(!e)return null;return l.createElement("div",{className:"cluster-edit narrow-width"},l.createElement(r.GlobalEventListener,{enter:this.onDoSave.bind(this)}),l.createElement("div",{className:"title-bar"},l.createElement("div",{className:"title"},this.getTitle()),this.renderButtons()),l.createElement("div",{className:"content"},this.renderGeneral()))};return t}(l.Component);t.ClusterEdit=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(1);var l=i(15);var s=i(77);i(735);var u=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={};return t}t.prototype.componentWillReceiveProps=function(e){if(e.settings)this.setState({newSettings:e.settings})};t.prototype.editCluster=function(e){window.location.hash+="/"+e.name};t.prototype.startSeed=function(){window.location.hash+="/new-cluster"};t.prototype.removeCluster=function(e){var t=this;var i=this.state.newSettings;var n=i.getDataCubesByCluster(e.name);var a=i.getCollectionsInvolvingCluster(e.name);var l=n.length+a.length;var u=function(){t.props.onSave(i.deleteCluster(e.name),l>0?"Cluster and dependants removed":"Cluster removed")};var d;if(l>0){d=o.createElement("div",{className:"message"},o.createElement("p",null,"This cluster has ",s.pluralIfNeeded(n.length,"data cube")," and ",s.pluralIfNeeded(a.length,"collection")," relying on it."),o.createElement("p",null,"Removing it will remove those cubes as well."),o.createElement("div",{className:"dependency-list"},n.map(function(e){return o.createElement("p",{key:e.name},e.title)})))}else{d="This cannot be undone."}r.Notifier.ask({title:'Remove the cluster "'+e.title+'"?',message:d,choices:[{label:"Remove",closeOnClick:true,callback:u,type:"warn"},{label:"Cancel",closeOnClick:true,type:"secondary"}],onClose:r.Notifier.removeQuestion})};t.prototype.renderEmpty=function(){return o.createElement("div",{className:"empty"},o.createElement("div",{className:"container"},o.createElement("div",{className:"title"},o.createElement("div",{className:"icon"},o.createElement(r.SvgIcon,{svg:a.DATA_CUBES})),o.createElement("div",{className:"label"},l.STRINGS.noClusters)),o.createElement("div",{className:"action"},"Start by ",o.createElement("a",{onClick:this.startSeed.bind(this)},"connecting a cluster"))))};t.prototype.renderTable=function(){var e=this.state.newSettings;var t=[{label:"Name",field:"title",width:200,cellIcon:a.FULL_CLUSTER},{label:"Host",field:"host",width:200},{label:"Type",field:"type",width:300}];var i=[{icon:a.FULL_EDIT,callback:this.editCluster.bind(this)},{icon:a.FULL_REMOVE,callback:this.removeCluster.bind(this)}];return o.createElement("div",{className:"content"},o.createElement(r.SimpleTable,{columns:t,rows:e.clusters,actions:i,onRowClick:this.editCluster.bind(this),paddingLeft:0,paddingRight:0}))};t.prototype.render=function(){var e=this.state.newSettings;if(!e)return null;return o.createElement("div",{className:"clusters narrow-width"},o.createElement("div",{className:"title-bar"},o.createElement("div",{className:"title"},"Clusters"),o.createElement(r.Button,{className:"add",title:l.STRINGS.connectNewCluster,type:"primary",onClick:this.startSeed.bind(this)})),!e.clusters.length?this.renderEmpty():this.renderTable())};return t}(o.Component);t.Clusters=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(69);var o=i(16);var l=i(1);var s=i(10);i(736);var u=s.LABELS.GENERAL;var d=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.delegate=new a.ImmutableFormDelegate(t);return t}t.prototype.componentWillReceiveProps=function(e){if(e.settings)this.setState({newInstance:e.settings,errors:{}})};t.prototype.save=function(){if(this.props.onSave){this.props.onSave(this.state.newInstance)}};t.prototype.parseTimezones=function(e){return e.split(/\s*,\s*/).map(o.Timezone.fromJS)};t.prototype.render=function(){var e=this.state,t=e.canSave,i=e.newInstance,n=e.errors;if(!i)return null;var o={customization:{title:u["customization.title"],timezones:u["customization.timezones"]}};var s=r.FormLabel.simpleGenerator(o,n);var d=a.ImmutableTextInput.simpleGenerator(i,this.delegate.onChange,o,n);var c=(new r.Grid).setColumns([{width:60},{width:40,vAlign:"top"}]);return l.createElement("div",{className:"other narrow-width"},l.createElement("div",{className:"title-bar"},l.createElement("div",{className:"title"},"Other"),t?l.createElement(r.Button,{className:"save",title:"Save",type:"primary",onClick:this.save.bind(this)}):null),l.createElement("div",{className:"content"},l.createElement("div",{className:"form vertical"},c.row([s("customization.title"),d("customization.title",/^.+$/,true)],l.createElement(r.InfoSpot,{sourceIds:["customization.title"]})),c.row([s("customization.timezones"),l.cloneElement(d("customization.timezones"),{converters:{valueToString:function(e){return e?e.join(", "):undefined},stringToValue:this.parseTimezones.bind(this)}})],l.createElement(r.InfoSpot,{sourceIds:["customization.timezones"]})))))};return t}(l.Component);t.Other=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(8);var a=i(11);var o=i(1);var l=i(10);var s=i(203);i(737);var u=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={};return t}t.prototype.onHomeClick=function(){r.GateKeeper.checkAndCall(function(){return window.location.href=".."})};t.prototype.renderUserMenu=function(e){var t=this.props,i=t.user,n=t.customization;return o.createElement(s.UserMenu,{showSettings:false,openOn:e,user:i,customization:n})};t.prototype.render=function(){var e=this.props,t=e.user,i=e.userMode,n=e.onNavClick,s=e.customization,u=e.title;var d={id:"user-button",className:"icon-button user",content:o.createElement(r.SvgIcon,{svg:a.FULL_USER}),renderMenu:this.renderUserMenu.bind(this),tooltip:"Settings"};var c=null;if(s&&s.headerBackground){c={background:s.headerBackground}}var p=[{id:"menu-icon",className:"menu-icon",content:o.createElement(r.SvgIcon,{svg:a.MENU}),onClick:n},{id:"title",className:"title",content:u,onClick:n}];var f=[{id:"home",className:"icon-button home",content:o.createElement(r.SvgIcon,{svg:a.HOME}),onClick:this.onHomeClick.bind(this),tooltip:"Home"},l.User.modeNeedsUserButton(i)?d:null].filter(Boolean);return o.createElement(r.HeaderBar,{className:"settings-header-bar",style:c,leftChildren:p,rightChildren:f})};return t}(o.Component);t.SettingsHeaderBar=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(45);var a=i(8);var o=i(69);var l=i(9);var s=i(49);var u=i(1);var d=i(10);var c=i(15);i(739);var p=d.LABELS.USER;var f=function(e){if(e===d.User.DEFAULT_ADMIN_NAME){throw new Error("Sorry, this is a reserved name. Please use a different one.")}return true};var m=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={separateEmailFromUID:false,resettingPassword:false,passInput:"",loading:false};t.delegate=new o.ImmutableFormDelegate(t);t.delegate.onAnyChange(function(){if(t.props.user.equals(t.state.newInstance)){a.GateKeeper.forget()}else{a.GateKeeper.update({save:t.save.bind(t),cancel:t.goBack.bind(t)})}});return t}t.prototype.componentWillReceiveProps=function(e){if(e.user){this.initFromProps(e)}};t.prototype.componentWillMount=function(){if(this.props.user){this.initFromProps(this.props)}};t.prototype.componentWillUnmount=function(){a.GateKeeper.forget()};t.prototype.initFromProps=function(e){var t=this.state.newInstance||new d.User(e.user.valueOf());var i=t.name,n=t.email;this.setState({newInstance:t,canSave:true,errors:{},separateEmailFromUID:n&&i&&i!==n})};t.prototype.getTitle=function(){var e=this.props.isNewUser;var t=this.state.newInstance;var i=t?" / "+t.getDisplayName():"";return(e?c.STRINGS.addNewUser:c.STRINGS.users)+i};t.prototype.toggleUseAsUserId=function(){var e=this.state,t=e.separateEmailFromUID,i=e.newInstance;var n={separateEmailFromUID:!this.state.separateEmailFromUID};if(t){n.newInstance=i.changeName(i.email)}this.setState(n)};t.prototype.submitNewPassword=function(e){var t=this;var i=this.state,n=i.newInstance,a=i.passInput;e.preventDefault();this.setState({loading:true});r.Ajax.query({url:"/pass-reset",data:{name:n.name,pass:a}}).then(function(e){t.setState({resettingPassword:false,loading:false})},function(e){t.setState({resettingPassword:false,loading:false})}).done()};t.prototype.resetPassword=function(e){e.preventDefault();this.setState({resettingPassword:true})};t.prototype.goBack=function(){this.props.back()};t.prototype.save=function(){var e=this.state.separateEmailFromUID;var t=this.props.onSave;var i=this.state.newInstance;if(!e){if(!i.email)return s(null);i=i.changeName(i.email)}return t(i)};t.prototype.renderButtons=function(){var e=this;var t=this.props,i=t.user,n=t.isNewUser;var r=this.state,o=r.canSave,s=r.newInstance;var d=i&&!i.equals(s);var c=u.createElement(a.Button,{className:"cancel",title:"Cancel",type:"secondary",onClick:this.goBack.bind(this)});var p=u.createElement(a.Button,{className:l("save",{disabled:!o||!n&&!d}),title:n?"Add user":"Save",type:"primary",onClick:function(){return e.save().then(e.goBack.bind(e))}});return u.createElement("div",{className:"button-group"},c,p)};t.prototype.renderPasswordField=function(){var e=this;var t=this.props.isNewUser;var i=this.state,n=i.resettingPassword,r=i.passInput,o=i.loading;if(t)return null;var l=null;var s=null;if(n){var d=function(t){e.setState({passInput:t.target.value})};l=u.createElement("input",{type:"password",className:"pass-input",onChange:d,value:r});s=u.createElement(a.Button,{disabled:o,className:"reset",title:c.STRINGS.ok,type:"primary",onClick:this.submitNewPassword.bind(this)})}else{l=u.createElement("input",{className:"pass-input disabled",type:"text",value:"Set by user",readOnly:true});s=u.createElement(a.Button,{className:"reset",title:c.STRINGS.reset,type:"secondary",onClick:this.resetPassword.bind(this)})}return u.createElement("div",{className:"side-by-side"},u.createElement("div",{className:"password"},a.FormLabel.dumbLabel("Password"),l),s)};t.prototype.render=function(){var e=this.props.isNewUser;var i=this.state,n=i.newInstance,r=i.errors,l=i.separateEmailFromUID;var s=a.FormLabel.simpleGenerator(p,r);var m=o.ImmutableTextInput.simpleGenerator(n,this.delegate.onChange,p,r);var g=o.ImmutableDropdown.simpleGenerator(n,this.delegate.onChange,p,r);if(!n)return null;var h=function(){if(!l)return null;return u.createElement("div",null,s("name"),e?m("name",f):u.createElement("input",{className:"immutable-text-input selectable",type:"text",value:n.name,readOnly:true}))};var v=function(){return u.createElement("div",null,s("email"),e||l?m("email",f):u.createElement("input",{className:"immutable-text-input selectable",type:"text",value:n.email,readOnly:true}))};return u.createElement("div",{className:"user-edit narrow-width"},u.createElement("div",{className:"title-bar"},u.createElement("div",{className:"title"},this.getTitle()),this.renderButtons()),u.createElement("div",{className:"content"},u.createElement("form",{className:"general"},v(),u.createElement("div",{className:"row",onClick:this.toggleUseAsUserId.bind(this)},u.createElement(a.Checkbox,{label:c.STRINGS.alsoUseAsUserId,selected:!l})),h(),u.createElement("div",{className:"side-by-side"},u.createElement("div",{className:"firstName"},a.FormLabel.dumbLabel("First name"),m("firstName")),u.createElement("div",{className:"lastName"},s("lastName"),m("lastName"))),s("permissionType"),g("permissionType",t.PERMISSION_TYPES),n.name!==d.User.DEFAULT_ADMIN_NAME?this.renderPasswordField():null)))};return t}(u.Component);m.PERMISSION_TYPES=[{label:"User",value:"user"},{label:"Admin",value:"admin"}];t.UserEdit=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(0);var r=i(45);var a=i(8);var o=i(11);var l=i(1);var s=i(10);var u=i(15);i(740);var d=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.state={};return t}t.prototype.componentWillReceiveProps=function(e){if(e.settings)this.setState({newSettings:e.settings,hasChanged:false})};t.prototype.editUser=function(e){window.location.hash+="/"+e.name};t.prototype.isSelf=function(e){var t=this.props.user;return e.name===t.name};t.prototype.removeUser=function(e){if(this.isSelf(e))return;a.Notifier.handleRemoval("user",this.props.onSave.bind(this,this.state.newSettings.deleteUser(e.name),"User removed"),e.getDisplayName())};t.prototype.newUser=function(){window.location.hash+="/new-user"};t.prototype.openInviteModal=function(e){var t=this;this.setState({userToInvite:e});r.Ajax.query({url:"pass-reset/mklink",data:{name:e.name}}).then(function(e){t.setState({inviteLink:e.link})}).catch(function(e){a.Notifier.failure("Sorry","There was a problem generating the invite link "+e.message)})};t.prototype.closeInviteModal=function(){this.setState({userToInvite:null})};t.prototype.renderInviteModal=function(){var e=this.state,t=e.userToInvite,i=e.inviteLink;if(!t||!i)return null;var n=u.STRINGS.invite+" "+t.getDisplayName()+" to use Pivot";return l.createElement(a.Modal,{className:"invite-user-modal",title:n,onClose:this.closeInviteModal.bind(this),onEnter:this.closeInviteModal.bind(this)},l.createElement("p",null,"Give the following link to the user so they can log in for the first time and set their password: "),l.createElement("input",{className:"default-input",type:"text",value:i,readOnly:true}),l.createElement("div",{className:"button-bar"},l.createElement("button",{className:"button primary clipboard","data-clipboard-text":i},u.STRINGS.copyLink),l.createElement(a.Button,{type:"secondary",title:u.STRINGS.ok,onClick:this.closeInviteModal.bind(this)})))};t.prototype.renderTable=function(){var e=this;var t=this.props.user;var i=this.state.newSettings;var n=true;var r=[{label:"User ID",field:"name",width:200,cellIcon:o.FULL_USER},{label:"Name",field:"displayName",width:300},{label:"Type",field:"permissionType",width:80},{label:"Status",field:function(e){return e.getStatusDisplay()},width:200,cellClassName:function(e){return n&&e&&e.getStatus()===s.User.STATUS_INVITATION_LINK?"link":""},onClick:function(t){if(n&&t&&t.getStatus()===s.User.STATUS_INVITATION_LINK)e.openInviteModal(t);return false}}];var u=[{icon:o.FULL_EDIT,callback:this.editUser.bind(this)},{icon:o.FULL_REMOVE,callback:this.removeUser.bind(this),disabled:this.isSelf.bind(this)}];return l.createElement("div",{className:"content"},l.createElement(a.SimpleTable,{columns:r,rows:i.getUsers(),actions:u,onRowClick:this.editUser.bind(this)}))};t.prototype.render=function(){var e=this.state.newSettings;if(!e)return null;return l.createElement("div",{className:"users stretchable-width"},l.createElement("div",{className:"title-bar"},l.createElement("div",{className:"title"},"Users"),l.createElement(a.Button,{className:"save",title:"New User",type:"primary",onClick:this.newUser.bind(this)})),this.renderTable(),this.renderInviteModal())};return t}(l.Component);t.Users=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".cluster-seed-modal form{width:448px}.cluster-seed-modal form.vertical>*{display:block}.cluster-seed-modal form input{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.cluster-seed-modal form input:hover{border-color:#b8b8b8}.cluster-seed-modal form input:focus{border-color:#1ea3e6}.cluster-seed-modal form input.error{border-color:#e24c4c}.cluster-seed-modal form .dropdown .dropdown-label{margin-bottom:8px}.cluster-seed-modal form input:not(.actionable),.cluster-seed-modal form .input:not(.actionable),.cluster-seed-modal form .checkbox:not(.actionable){margin-bottom:25px}.cluster-seed-modal form textarea{height:120px;outline:none;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13px;line-height:16px;padding:6px;margin-bottom:25px}.cluster-seed-modal form .checkbox{height:20px;width:100%}.cluster-seed-modal form .checkbox .label{position:absolute;left:25px;top:5px}.cluster-seed-modal form{width:448px}.cluster-seed-modal form.vertical>*{display:block}.cluster-seed-modal form .dropdown .dropdown-label{margin-bottom:8px}.cluster-seed-modal form input:not(.actionable),.cluster-seed-modal form .input:not(.actionable),.cluster-seed-modal form .checkbox:not(.actionable){margin-bottom:25px}.cluster-seed-modal form textarea{height:120px;outline:none;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13px;line-height:16px;padding:6px;margin-bottom:25px}.cluster-seed-modal form .checkbox{height:20px;width:100%}.cluster-seed-modal form .checkbox .label{position:absolute;left:25px;top:5px}.cluster-seed-modal form input{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.cluster-seed-modal form input:hover{border-color:#b8b8b8}.cluster-seed-modal form input:focus{border-color:#1ea3e6}.cluster-seed-modal form input.error{border-color:#e24c4c}.cluster-seed-modal form input.disabled{pointer-events:none;background:#f2f2f2}.cluster-seed-modal form{width:100%}.cluster-seed-modal .loading-bar{margin-top:10px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".suggestion-modal .background{background:#f5f5f5;padding:10px 0;max-height:300px;overflow:auto}.suggestion-modal .background .message{padding:4px 10px;color:#999;font-style:italic}.suggestion-modal .background .row{padding-left:14px;padding-top:3px;height:27px;cursor:pointer;white-space:nowrap}.suggestion-modal .background .row .label{position:absolute;top:5px;left:24px}.suggestion-modal .background .row:hover{background:#eee}.suggestion-modal .background{margin-bottom:25px}.suggestion-modal .explanation{margin-bottom:10px}.suggestion-modal .actions{padding-bottom:10px}.suggestion-modal .button-bar .right{position:absolute;top:0;right:0}\n",""])},,function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".cluster-edit{height:100%}.cluster-edit .form{width:820px}.cluster-edit .form .info-spot{position:absolute;top:8px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".clusters .empty .container{position:absolute;top:36%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-align:center}.clusters .empty .container .title{cursor:default}.clusters .empty .container .title .icon{display:inline-block;margin-bottom:6px;width:42px}.clusters .empty .container .title .icon path{fill:#999}.clusters .empty .container .title .label{display:inline-block;height:46px;padding-top:13px;font-size:20px;color:#999}.clusters .empty .container .action{color:#999}.clusters .empty .container .action a,.clusters .empty .container .action .link{cursor:pointer;color:#1ea3e6;border-bottom:1px dashed}.clusters{height:100%}.clusters .empty{height:100%}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".other{height:100%}.other .form{width:820px}.other .form .info-spot{position:absolute;top:8px}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,"",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".settings-view{position:absolute;top:0;bottom:0;left:0;right:0}.settings-view .settings-header-bar{position:absolute;top:0;left:0;right:0;height:42px}.settings-view .left-panel{position:absolute;top:42px;bottom:0;left:0;right:0;width:170px;padding:10px 5px;background-color:#5dc3ef}.settings-view .left-panel button{background-color:transparent;display:block;width:100%;height:35px;text-align:left}.settings-view .left-panel button.icon{padding-left:38px}.settings-view .left-panel button.icon .svg-icon{position:absolute;top:8px;left:12px}.settings-view .left-panel button.icon .svg-icon path{fill:#fff}.settings-view .left-panel button:hover{background-color:rgba(30,163,230,0.4)}.settings-view .left-panel button:active{color:#fff}.settings-view .left-panel button.active{background-color:#1ea3e6;color:#fff}.settings-view .main-panel{position:absolute;top:42px;bottom:0;left:0;right:0;background-color:#e3e3e3;left:170px}.settings-view .main-panel .stretchable-width{background-color:#fff;box-shadow:2px 0px 4px 0 rgba(0,0,0,0.1);max-width:1280px}.settings-view .main-panel .narrow-width{background-color:#fff;box-shadow:2px 0px 4px 0 rgba(0,0,0,0.1);max-width:1080px}.settings-view .main-panel.full-width{left:0}.settings-view .title-bar{height:56px;background-color:#fff;border-bottom:1px solid #dedede;padding-left:24px}.settings-view .title-bar .title{font-size:17px;margin-top:18px}.settings-view .title-bar>.button-group,.settings-view .title-bar>.button.save,.settings-view .title-bar>.button.cancel,.settings-view .title-bar>.button.add{position:absolute;top:12px;right:24px}.settings-view .title-bar .button-group .button:not(:last-child){margin-right:10px}.settings-view .title-bar .button.back{cursor:pointer;width:30px;margin-top:14px;margin-left:-13px;margin-right:5px}.settings-view .title-bar>*{display:inline-block}.settings-view .content{position:absolute;top:56px;bottom:0;left:0;right:0;overflow-y:auto;padding:24px 24px}.settings-view .content .tab-content{overflow:auto}.settings-view .info-spot{margin-left:30px}.settings-view .loader{position:absolute;top:0;bottom:0;left:0;right:0}.settings-view .simple-table{width:100%;height:100%}.settings-view .side-drawer-container{position:absolute;left:0;top:0;bottom:0;z-index:80}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".user-edit .side-by-side{display:-webkit-box;display:-ms-flexbox;display:flex}.user-edit .side-by-side>*{margin-right:5px}.user-edit .side-by-side>*:last-child{margin-right:0}.user-edit .pass-input{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.user-edit .pass-input:hover{border-color:#b8b8b8}.user-edit .pass-input:focus{border-color:#1ea3e6}.user-edit .error.pass-input{border-color:#e24c4c}.user-edit .disabled.pass-input{pointer-events:none;background:#f2f2f2}.user-edit{height:100%}.user-edit .checkbox,.user-edit .input,.user-edit input{margin-bottom:25px}.user-edit form{width:448px}.user-edit .checkbox{height:20px;width:100%}.user-edit .checkbox.label{position:absolute;left:25px;top:5px}.user-edit .reset{top:20px}.user-edit .password{margin-right:5px}.user-edit .selectable{user-select:all;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text}.user-edit .pass-input{color:#999;font-style:italic}.user-edit .side-by-side>div{-webkit-box-flex:1;-ms-flex:1;flex:1}\n",""])},function(e,t,i){t=e.exports=i(3)(undefined);t.push([e.i,".invite-user-modal .default-input{border:1px solid #d4d4d4;border-radius:2px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.13);padding-left:6px;padding-right:6px;width:100%;height:30px}.invite-user-modal .default-input:hover{border-color:#b8b8b8}.invite-user-modal .default-input:focus{border-color:#1ea3e6}.invite-user-modal .error.default-input{border-color:#e24c4c}.invite-user-modal .disabled.default-input{pointer-events:none;background:#f2f2f2}.users .empty .container{position:absolute;top:36%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-align:center}.users .empty .container .title{cursor:default}.users .empty .container .title .icon{display:inline-block;margin-bottom:6px;width:42px}.users .empty .container .title .icon path{fill:#999}.users .empty .container .title .label{display:inline-block;height:46px;padding-top:13px;font-size:20px;color:#999}.users .empty .container .action{color:#999}.users .empty .container .action a,.users .empty .container .action .link{cursor:pointer;color:#1ea3e6;border-bottom:1px dashed}.users{height:100%}.users .empty{height:100%}.users .link{color:#1ea3e6;font-weight:600}.users .link.hover{text-decoration:underline}.invite-user-modal .button-bar{margin-top:16px}\n",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(525);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./cluster-seed-modal.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./cluster-seed-modal.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(526);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./suggestion-modal.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./suggestion-modal.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},,function(e,t,i){var n=i(528);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../../node_modules/css-loader/index.js!./cluster-edit.css",function(){var t=require("!!../../../../../node_modules/css-loader/index.js!./cluster-edit.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(529);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../../node_modules/css-loader/index.js!./clusters.css",function(){var t=require("!!../../../../../node_modules/css-loader/index.js!./clusters.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(530);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../../node_modules/css-loader/index.js!./other.css",function(){var t=require("!!../../../../../node_modules/css-loader/index.js!./other.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(531);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../../node_modules/css-loader/index.js!./settings-header-bar.css",function(){var t=require("!!../../../../../node_modules/css-loader/index.js!./settings-header-bar.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(532);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../node_modules/css-loader/index.js!./settings-view.css",function(){var t=require("!!../../../../node_modules/css-loader/index.js!./settings-view.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(533);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../../node_modules/css-loader/index.js!./user-edit.css",function(){var t=require("!!../../../../../node_modules/css-loader/index.js!./user-edit.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,i){var n=i(534);if(typeof n==="string")n=[[e.i,n,""]];var r=i(4)(n,{});if(n.locals)e.exports=n.locals;if(false){if(!n.locals){e.hot.accept("!!../../../../../node_modules/css-loader/index.js!./users.css",function(){var t=require("!!../../../../../node_modules/css-loader/index.js!./users.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}}],[453]);