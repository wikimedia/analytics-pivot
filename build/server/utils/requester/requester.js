"use strict";Object.defineProperty(exports,"__esModule",{value:true});var plywood_1=require("plywood");var plywood_druid_requester_1=require("plywood-druid-requester");var plywood_mysql_requester_1=require("plywood-mysql-requester");var plywood_postgres_requester_1=require("plywood-postgres-requester");function properRequesterFactory(e){var r=e.type,s=e.host,o=e.retry,t=e.timeout,u=e.verbose,a=e.concurrentLimit,d=e.socksHost,p=e.socksUsername,q=e.socksPassword;var y;switch(r){case"druid":case"druidsql":y=plywood_druid_requester_1.druidRequesterFactory({host:s,timeout:t||3e4,requestDecorator:e.druidRequestDecorator,socksHost:d,socksUsername:p,socksPassword:q});break;case"mysql":y=plywood_mysql_requester_1.mySqlRequesterFactory({host:s,database:e.database,user:e.user,password:e.password});break;case"postgres":y=plywood_postgres_requester_1.postgresRequesterFactory({host:s,database:e.database,user:e.user,password:e.password});break;default:throw new Error("unknown requester type "+r)}if(u){y=plywood_1.verboseRequesterFactory({requester:y})}return y}exports.properRequesterFactory=properRequesterFactory;