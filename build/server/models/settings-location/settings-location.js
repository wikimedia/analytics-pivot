"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var immutable_class_1=require("immutable-class");var SettingsLocation=function(t){tslib_1.__extends(e,t);function e(e){var a=t.call(this,e)||this;if(a.location==="file"&&a.table)a.table=null;return a}e.isSettingsLocation=function(t){return t instanceof e};e.fromJS=function(t){return new e(immutable_class_1.BaseImmutable.jsToValue(e.PROPERTIES,t))};e.prototype.getFormat=function(){if(this.format)return this.format;if(this.location==="file"){if(/\.json$/.test(this.uri)){return"json"}else if(/\.yaml$/.test(this.uri)){return"yaml"}}return e.DEFAULT_FORMAT};return e}(immutable_class_1.BaseImmutable);SettingsLocation.LOCATION_VALUES=["file","mysql","postgres"];SettingsLocation.DEFAULT_FORMAT="json";SettingsLocation.FORMAT_VALUES=["json","json-pretty","yaml"];SettingsLocation.PROPERTIES=[{name:"location",possibleValues:SettingsLocation.LOCATION_VALUES},{name:"uri"},{name:"table",defaultValue:null},{name:"pollingInterval",defaultValue:6e4},{name:"format",defaultValue:SettingsLocation.DEFAULT_FORMAT,possibleValues:SettingsLocation.FORMAT_VALUES},{name:"readOnly",defaultValue:false},{name:"initialSettings",defaultValue:false}];exports.SettingsLocation=SettingsLocation;immutable_class_1.BaseImmutable.finalize(SettingsLocation);